function pathToModule(d){if(!d){throw ("Missing or null parameter supplied.")}var b=document.getElementsByTagName("script");var e=b.length;var f;var h;var j=null;var c,a,g;for(f=0;f<e;++f){c=b[f];a=c.src;if(a){g=a.lastIndexOf(d+".js");if(g!=-1&&(!g||a.charAt(g-1)==="/"||a.charAt(g-1)==="\\")){j=a.slice(0,g);break}}}if(!j){throw ("No Module called '"+d+"' was found.")}return j}function addScript(c){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");a.appendChild(b);b.setAttribute("type","text/javascript");b.setAttribute("src",c);return}YAHOO.namespace("cc.mta");YAHOO.cc.mta.parse_success=function(a){var c=new RDFQuery(a);var b=c.query2(YAHOO.cc.mta.MTA_INFO);c.walk2(b,{action:function(f){if(f.offer==document.referrer||f.material==document.referrer){if(f.disease!=undefined){var e="Your use of the material is restricted to: <ul><li>"+f.disease+"</li></ul>";YAHOO.util.Dom.get("requirement-restricted-field").innerHTML=e}if(f.offer_permits=="http://mta.sciencecommons.org/ns#ContractorAccess"){var d=document.createElement("li");YAHOO.util.Dom.addClass(d,"license");d.innerHTML="Contractors may access the material.";YAHOO.util.Dom.insertAfter(d,YAHOO.util.Dom.getLastChild(YAHOO.util.Dom.get("requirements")))}}}})};YAHOO.cc.mta.parse_failure=function(a){};YAHOO.cc.mta.check_referrer=function(){if(document.referrer.match("^http://")){var a={success:YAHOO.cc.mta.parse_success,failure:YAHOO.cc.mta.parse_failure};YAHOO.cc.ld.load(document.referrer,"/scraper/triples",a)}};YAHOO.register("cc.mta",YAHOO.cc.mta,{version:"0.0.1",build:"1"});YAHOO.util.Event.onDOMReady(YAHOO.cc.mta.check_referrer);YAHOO.cc.mta.MTA_INFO={select:["offer","material","disease","offer_permits"],where:[{pattern:["?offer","http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://mta.sciencecommons.org/ns#Offer"]},{pattern:["?offer","http://mta.sciencecommons.org/ns#agreement",document.URL]},{where:[{pattern:["?material","http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://mta.sciencecommons.org/ns#Material"]},{pattern:["?material","http://mta.sciencecommons.org/ns#offer","?offer"]}],optional:true},{where:[{pattern:["?offer","http://creativecommons.org/ns#requires","?requirement"]},{pattern:["?requirement","http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://mta.sciencecommons.org/ns#DiseaseRequirement"]},{pattern:["?requirement","http://mta.sciencecommons.org/ns#disease","?disease"]}],optional:true},{where:[{pattern:["?offer","http://creativecommons.org/ns#permits","?offer_permits"]}],optional:true}]};
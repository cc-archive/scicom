
about/whoweare/campbell.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1644

about/whoweare/abelson.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1643

about/whoweare/boyle.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1643

about/whoweare/lederburg.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1648

about/whoweare/carroll.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1647

about/whoweare/david.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1642

about/whoweare/eisen.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1645

about/whoweare/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1591

about/whoweare/saltzman.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1645

about/whoweare/nguyen.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1644

about/whoweare/rai.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1640

about/whoweare/rees.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1644

about/whoweare/wilbanks.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1645

about/whoweare/sulston.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1644

about/whoweare/thaney.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1646

about/whoweworkwith/libraries.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1658

about/whoweworkwith/funders.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1657

about/whoweworkwith/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1592

about/whoweworkwith/leaders.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1654

about/whoweworkwith/scientists.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1664

about/whoweworkwith/offices.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1676

about/index.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1591

about/towards.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1562

contact/announce.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1522

contact/blog.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1514

contact/index.html,204
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1551
      <h2><a name="disclaimer" id="disclaimer"></a>Disclaimer</h2>disclaimer98,9472

index.html,114
  <a name="top" id="top"><img src="img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top17,998

index_with_blog.html,114
  <a name="top" id="top"><img src="img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top17,998

partners/index.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1486

projects/data/workinggroup.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1650

projects/data/background.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1643

projects/data/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1622

projects/licensing/workinggroup.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1658

projects/licensing/background.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1664

projects/licensing/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1643

projects/publishing/workinggroup.html,679
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1673
      <h2><a name="mc" id="mc"></a>Matthew Cockerill</h2>mc110,10586
      <h2><a name="hd" id="hd"></a>Helen Doyle</h2>hd112,11386
      <h2><a name="dg" id="dg"></a>Deanna Graham</h2>dg114,12768
      <h2><a name="th" id="th"></a>Timo Hannay</h2>th116,13809
      <h2><a name="wh" id="wh"></a>Bill Hayes</h2>wh118,14130
      <h2><a name="tm" id="tm"></a>Thomas Daniel (&quot;Tom&quot;) Moritz</h2>tm120,15012
      <h2><a name="ms" id="ms"></a>MacKenzie Smith</h2>ms122,16480
      <h2><a name="ps" id="ps"></a>Peter Suber</h2>ps124,17393

projects/publishing/background.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1657

projects/publishing/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1636

projects/index.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1612

resources/faq/authorsaddendum.html,1432
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1698
      <h2><a name="whatis" id="whatis"></a>What is a Science Commons Author's Addendum?</h2>whatis106,10777
      <h2><a name="addenda-for" id="addenda-for"></a>Are these Addenda   only for scientific authors?</h2>addenda-for108,11201
      <h2><a name="what_rights_retained" id="what_rights_retained"></a>What rights   do I retain through any of these Addenda?</h2>what_rights_retained110,11451
      <h2><a name="federal_funded" id="federal_funded"></a>What if I am a   federally-funded researcher. Can I use a Science Commons   Addendum?</h2>federal_funded117,14543
      <h2><a name="clarify" id="clarify"></a>What does that   mean?</h2>clarify119,14886
      <h2><a name="how_to_use" id="how_to_use"></a>How do I use the   Science Commons Addendum?</h2>how_to_use121,15709
      <h2><a name="publishers_acceptance" id="publishers_acceptance"></a>A publisher   won't accept the terms of an Addendum, will it?</h2>publishers_acceptance134,16994
      <h2><a name="publisher_withdraws" id="publisher_withdraws"></a>What if the   publisher withdraws acceptance of the article after I send in an   Addendum?</h2>publisher_withdraws136,17549
      <h2><a name="publisher_refuses" id="publisher_refuses"></a>What if the   publisher refuses to accept the Addendum?</h2>publisher_refuses138,17894

resources/faq/databases.html,2474
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1685
      <h2><a name="canicc" id="canicc"></a>Can a Creative Commons license be applied to a   database?</h2>canicc121,12180
      <h2><a name="whatkind" id="whatkind"></a>What kinds of things can be licensed under a Creative   Commons license?</h2>whatkind128,15588
      <h2><a name="ccdb" id="ccdb"></a>So, a Creative Commons license can be applied to a   database?</h2>ccdb131,16547
      <h2><a name="dbcopyright" id="dbcopyright"></a>Which database   components are likely to be protected by copyright?</h2>dbcopyright134,18066
      <h2><a name="dbsoftware" id="dbsoftware"></a>What about the software that runs the   database?</h2>dbsoftware141,20560
      <h2><a name="dbfactual" id="dbfactual"></a>How will people know that   they can use the factual information in a database?</h2>dbfactual144,21480
      <h2><a name="dbreplicate" id="dbreplicate"></a>If I apply a Creative Commons license to my database,   does this mean people can replicate the database?</h2>dbreplicate147,22683
      <h2><a name="authority" id="authority"></a>How does a database provider make sure it has the   necessary authority to apply a Creative Commons license to a   database?</h2>authority151,24708
      <p><a name="notcovered" id="notcovered"></a>What legal issues do   Creative Commons licenses not cover?</p>notcovered157,27885
      <h2><a name="implement" id="implement"></a>I   understand everything above and want to apply a Creative Commons license to my   database. How do I go about doing that?</h2>implement159,28681
      <h2><a name="user" id="user"></a>I am a   database user, does this mean I can just use &amp; copy anything from a Creative   Commons-licensed database?</h2>user162,29572
      <h2><a name="whichparts" id="whichparts"></a>Which parts can I use under   the Creative Commons license?</h2>whichparts163,29736
      <h2><a name="factsarefree" id="factsarefree"></a>Facts are (generally) free   (as in freedom)</h2>factsarefree165,30502
      <h2><a name="beaware" id="beaware"></a>Be   aware that Creative Commons licenses do not license all types of legal   rights</h2>beaware167,31027
      <h2><a name="dbrights" id="dbrights"></a>Consider that database rights may   apply</h2>dbrights170,32345
      <h2><a name="think" id="think"></a>Think before copying large amounts of data</h2>think175,34411

resources/faq/index.html,121
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1652

resources/faq/sciencecommons.html,1991
  <a name="top" id="top"><img src="../../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1676
      <h2><a name="whatis" id="whatis"></a>What is Science Commons?</h2>whatis114,11181
      <h2><a name="new" id="new"></a>Does your approach offer anything new, anything practical, anything worthwhile?</h2>new116,11810
      <h2><a name="started" id="started"></a>Who started Science Commons?</h2>started118,12537
      <h2><a name="mit" id="mit"></a>Is Science Commons part of MIT?</h2>mit121,13358
      <h2><a name="problem" id="problem"></a>What problem does Science Commons intend to solve?</h2>problem123,13592
      <h2><a name="data" id="data"></a>Where can I get some data on this problem?</h2>data126,14907
      <h2><a name="why" id="why"></a>Why did CC get into science?</h2>why129,15586
      <h2><a name="whynow" id="whynow"></a>Why are you launching Science Commons now?</h2>whynow131,15965
      <h2><a name="ip" id="ip"></a>Are you against intellectual property?</h2>ip135,16654
      <h2><a name="done" id="done"></a>What have you already done?</h2>done137,17305
      <h2><a name="next" id="next"></a>What are you doing next?</h2>next140,17635
      <h2><a name="products" id="products"></a>Is Science Commons only about legal products such as licenses?</h2>products144,18603
      <h2><a name="database" id="database"></a>Is Science Commons building a database of licensed content?</h2>database146,18979
      <h2><a name="paid" id="paid"></a>Do you get paid for all these services?  Is this some kind of consulting scheme?  Or some way to help your own scientific research?</h2>paid148,19433
      <h2><a name="funds" id="funds"></a>Who funds Science Commons?</h2>funds150,20147
      <h2><a name="working" id="working"></a>Does Science Commons work with any other organizations or institutions?</h2>working152,20521
      <h2><a name="help" id="help"></a>This is a great idea! How can I help?</h2>help154,20863

resources/readingroom.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1605

resources/index.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1645

resources/links.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1604

resources/press.html,118
  <a name="top" id="top"><img src="../img/spacer.gif" width="1" height="1" border="0" alt="" /></a></div>top25,1604

scripts/dwcode.js,549
function MM_preloadImages() { //v3.0MM_preloadImages1,0
function MM_swapImgRestore() { //v3.0MM_swapImgRestore7,268
function MM_findObj(n, d) { //v4.01MM_findObj11,400
function MM_swapImage() { //v3.0MM_swapImage19,832
function MM_showHideLayers() { //v6.0MM_showHideLayers24,1067
function MM_jumpMenu(targ,selObj,restore){ //v3.0 mod by rjwMM_jumpMenu38,1747
function MM_jumpMenuGo(selName,targ,restore){ //v3.0MM_jumpMenuGo44,1997
function swapGo(buttonobj) {swapGo50,2232
function swapGoRestore(buttonobj) {swapGoRestore59,2468

scripts/menucode.js,275
function show_menu_exclusive(menuname) {show_menu_exclusive43,1556
function start_delayed_hide_menu() {start_delayed_hide_menu100,3254
function cancel_delayed_hide_menu() {cancel_delayed_hide_menu106,3469
function do_delayed_hide_menu() {do_delayed_hide_menu115,3668

weblog/wp-admin/import/blogger.php,12121
class Blogger_Import {Blogger_Import3,7
	function greet() {greet9,135
		$title = __('Import Blogger');title10,155
		$welcome = __('Howdy! This importer allows you to import posts and comments from your Blogger account into your WordPress blog.');welcome11,188
		$noiframes = __('This feature requires iframe support.');noiframes12,321
		$warning = __('This will delete everything saved by the Blogger importer except your posts and comments. Are you sure you want to do this?');warning13,381
		$reset = __('Reset this importer');reset14,525
		$incompat = __('Your web server is not properly configured to use this importer. Please enable the CURL extension for PHP and then reload this page.');incompat15,563
	function restart() {restart26,1153
	function refresher($msec) {refresher33,1345
	function parse_response($this_response) {parse_response41,1759
		$response_header_lines = explode("\r\n", $response_headers);response_header_lines44,1936
		$http_response_line = array_shift($response_header_lines);http_response_line47,2053
		$response_header_array = array();response_header_array51,2276
		$cookie_array = array();cookie_array57,2478
		$cookies = explode("\n", $response_header_array["Set-Cookie"]);cookies58,2505
	function login_form($text='') {login_form65,2855
	function login_blogger($user, $pass) {login_blogger72,3382
		$_url = 'http://www.blogger.com/login.do';_url73,3422
		$params = "username=$user&password=$pass";params74,3467
		$ch = curl_init();ch75,3512
		$response = curl_exec ($ch);response83,3846
		$response = $this->parse_response($response);response85,3878
	function get_blogger($url, $header = '', $user=false, $pass=false) {get_blogger93,4035
		$ch = curl_init();ch94,4105
		$response = curl_exec ($ch);response103,4543
		$response = $this->parse_response($response);response105,4575
	function post_blogger($url, $header = false, $paramary = false, $parse=true) {post_blogger118,4813
		$params = '';params119,4893
		$params = trim($params,'&');params126,5137
		$ch = curl_init();ch127,5168
		$response = curl_exec ($ch);response137,5643
			$response = $this->parse_response($response);response140,5692
	function show_blogs() {show_blogs149,5861
	function publish_blogger($i, $text) {publish_blogger167,6565
		$head = $this->refresher(2000) . "<h1>$text</h1>\n";head168,6604
			$paramary = array('blogID' => $_GET['blog'], 'all' => '1', 'republishAll' => 'Republish Entire Blog', 'publish' => '1', 'redirectUrl' => "/publish.do?blogID={$_GET['blog']}&inprogress=true");paramary173,6963
			$response = $this->post_blogger("http://www.blogger.com/publish.do?blogID={$_GET['blog']}", $this->import['cookies'], $paramary);response175,7159
				$url = str_replace('publish.g', 'publish-body.g', $response['header']['Location']);url177,7331
				$response = $this->get_blogger($url, $this->import['cookies']);response180,7536
				$progress = $matches[0];progress182,7691
			$url = $this->import['blogs'][$_GET['blog']]['publish'][$i];url191,7994
			$response = $this->get_blogger($url, $this->import['cookies']);response192,8058
				$progress = $matches[0];progress194,8219
	function set_next_step($step) {set_next_step209,8634
	function do_next_step() {do_next_step215,8810
	function do_login() {do_login221,8982
			$response = $this->get_blogger('http://www.blogger.com/home', $this->import['cookies']);response239,10374
			$blogsary = array();blogsary241,10604
			$template = '<MainPage><br /><br /><br /><p>'.__('Are you looking for %title%? It is temporarily out of service. Please try again in a few minutes. Meanwhile, discover <a href="http://wordpress.org/">a better blogging tool</a>.').'</p><BloggerArchives><a class="archive" href="<$BlogArchiveURL$>"><$BlogArchiveName$></a><br /></BloggerArchives></MainPage><ArchivePage><Blogger><wordpresspost><$BlogItemDateTime$>|W|P|<$BlogItemAuthorNickname$>|W|P|<$BlogItemBody$>|W|P|<$BlogItemNumber$>|W|P|<$BlogItemTitle$>|W|P|<$BlogItemAuthorEmail$><BlogItemCommentsEnabled><BlogItemComments><wordpresscomment><$BlogCommentDateTime$>|W|P|<$BlogCommentAuthor$>|W|P|<$BlogCommentBody$></BlogItemComments></BlogItemCommentsEnabled></Blogger></ArchivePage>';template246,10840
				$blog_opts = array(blog_opts249,11675
	function select_blog() {select_blog282,12976
	function backup_settings() {backup_settings292,13189
		$form = false;form294,13282
					$posturl = "http://www.blogger.com/{$blog_opt}.do";posturl303,13673
					$headers = array_merge($this->import['blogs'][$_GET['blog']]['options']["$blog_opt"]['cookies'], $this->import['cookies']);headers304,13730
							$response = $this->get_blogger("http://www.blogger.com/blog-publishing.g?blogID={$_GET['blog']}&publishMode=0", $headers);response307,13945
						$paramary = $optary['modify'];paramary318,14682
						$paramary = array_merge($_POST, $optary['modify']);paramary320,14733
					$response = $this->post_blogger($posturl, $headers, $paramary);response322,14798
				$response = $this->get_blogger("http://www.blogger.com/{$blog_opt}.g?blogID={$_GET['blog']}", $this->import['cookies']);response332,15475
				$body = $response['body'];body335,15752
				$body = preg_replace("|\<!DOCTYPE.*\<body[^>]*>|ms","",$body);body336,15783
				$body = preg_replace("|/?{$blog_opt}.do|","admin.php?import=blogger&amp;noheader=true&amp;step=2&amp;blog={$_GET['blog']}&amp;form={$blog_opt}",$body);body337,15850
				$body = str_replace("name='submit'","name='supermit'",$body);body338,16006
				$body = str_replace('name="submit"','name="supermit"',$body);body339,16072
				$body = str_replace('</body>','',str_replace('</html>','',$body));body340,16138
				$form = "<div style='height:0px;width:0px;overflow:hidden;'>";form341,16209
	function publish_blog() {publish_blog359,16834
	function get_archive_urls() {get_archive_urls364,16994
		$bloghtml = $this->get_blogger($this->import['blogs'][$_GET['blog']]['url']);bloghtml365,17025
	function get_archive() {get_archive377,17567
		$output = '<h2>'.__('Importing Blogger archives into WordPress').'</h2>';output379,17609
		$did_one = false;did_one380,17685
		$post_array = $posts = array();post_array381,17705
			$archivename = substr(basename($url),0,7);archivename383,17824
				$foo = 'bar';foo385,17902
				$postcount = 0;postcount389,17984
				$skippedpostcount = 0;skippedpostcount390,18004
				$commentcount = 0;commentcount391,18031
				$skippedcommentcount = 0;skippedcommentcount392,18054
				$status = __('in progress...');status393,18084
				$archive = $this->get_blogger($url);archive396,18239
				$posts = explode('<wordpresspost>', $archive['body']);posts399,18330
					$postparts = explode('<wordpresscomment>', $posts[$i]);postparts401,18441
					$postinfo = explode('|W|P|', $postparts[0]);postinfo402,18502
					$post_date = $postinfo[0];post_date403,18552
					$post_content = $postinfo[2];post_content404,18584
					$post_title = ( $postinfo[4] != '' ) ? $postinfo[4] : $postinfo[3];post_title409,18783
					$post_author_name = $wpdb->escape(trim($postinfo[1]));post_author_name410,18856
					$post_author_email = $postinfo[5] ? $postinfo[5] : 'user@wordpress.org';post_author_email411,18916
						$post_author = $GLOBALS['user_ID'];post_author415,19111
							$user_login = $wpdb->escape($post_author_name);user_login419,19271
							$user_email = $wpdb->escape($post_author_email);user_email420,19326
							$user_password = substr(md5(uniqid(microtime())), 0, 6);user_password421,19382
							$result = wp_create_user( $user_login, $user_password, $user_email );result422,19446
						$userdata = get_userdatabylogin( $post_author_name );userdata426,19684
						$post_author = $userdata->ID;post_author427,19744
					$post_date = explode(' ', $post_date);post_date429,19787
					$post_date_Ymd = explode('/', $post_date[0]);post_date_Ymd430,19831
					$postyear = $post_date_Ymd[2];postyear431,19882
					$postmonth = zeroise($post_date_Ymd[0], 2);postmonth432,19918
					$postday = zeroise($post_date_Ymd[1], 2);postday433,19967
					$post_date_His = explode(':', $post_date[1]);post_date_His434,20014
					$posthour = zeroise($post_date_His[0], 2);posthour435,20065
					$postminute = zeroise($post_date_His[1], 2);postminute436,20113
					$postsecond = zeroise($post_date_His[2], 2);postsecond437,20163
						$posthour = $posthour + 12;posthour440,20272
						$posthour = '00';posthour442,20368
					$post_date = "$postyear-$postmonth-$postday $posthour:$postminute:$postsecond";post_date444,20394
					$post_content = addslashes($post_content);post_content446,20481
					$post_content = str_replace(array('<br>','<BR>','<br/>','<BR/>','<br />','<BR />'), "\n", $post_content); // the XHTML touch... ;)post_content447,20529
					$post_title = addslashes($post_title);post_title449,20667
					$post_status = 'publish';post_status451,20715
						$commentinfo = explode('|W|P|', $postparts[$j]);commentinfo464,21216
						$comment_date = explode(' ', $commentinfo[0]);comment_date465,21271
						$comment_date_Ymd = explode('/', $comment_date[0]);comment_date_Ymd466,21324
						$commentyear = $comment_date_Ymd[2];commentyear467,21382
						$commentmonth = zeroise($comment_date_Ymd[0], 2);commentmonth468,21425
						$commentday = zeroise($comment_date_Ymd[1], 2);commentday469,21481
						$comment_date_His = explode(':', $comment_date[1]);comment_date_His470,21535
						$commenthour = zeroise($comment_date_His[0], 2);commenthour471,21593
						$commentminute = zeroise($comment_date_His[1], 2);commentminute472,21648
						$commentsecond = '00';commentsecond473,21705
							$commenthour = $commenthour + 12;commenthour475,21798
							$commenthour = '00';commenthour477,21908
						$comment_date = "$commentyear-$commentmonth-$commentday $commenthour:$commentminute:$commentsecond";comment_date478,21936
						$comment_author = addslashes(strip_tags($commentinfo[1]));comment_author479,22043
							$comment_author_parts = explode('&quot;', htmlentities($commentinfo[1]));comment_author_parts481,22157
							$comment_author_url = $comment_author_parts[1];comment_author_url482,22238
						$comment_content = $commentinfo[2];comment_content484,22332
						$comment_content = str_replace(array('<br>','<BR>','<br/>','<BR/>','<br />','<BR />'), "\n", $comment_content);comment_content485,22374
						$comment_approved = 1;comment_approved486,22492
							$comment = compact('comment_author', 'comment_author_url', 'comment_date', 'comment_content', 'comment_approved');comment490,22629
							$comment_post_ID = wp_insert_post($post['post']);comment_post_ID502,23037
				$status = sprintf(__('%s post(s) parsed, %s skipped...'), $postcount,  $skippedpostcount).' '.status511,23301
				$import = $this->import;import514,23538
				$did_one = true;did_one517,23680
	function restore_settings() {restore_settings527,23906
		$output = '<h1>'.__('Restoring your Blogger options')."</h1>\n";output528,23937
		$did_one = false;did_one529,24004
				$posturl = "http://www.blogger.com/{$blog_opt}.do";posturl542,24587
				$headers = array_merge($this->import['blogs'][$_GET['blog']]['options']["$blog_opt"]['cookies'], $this->import['cookies']);headers543,24643
						$response = $this->get_blogger("http://www.blogger.com/blog-publishing.g?blogID={$_GET['blog']}&publishMode={$optary['backup']['publishMode']}", $headers);response546,24865
					$response = $this->post_blogger($posturl, $headers, $optary['backup']);response553,25264
				$did_one = true;did_one564,25936
	function republish_blog() {republish_blog580,26288
	function congrats() {congrats585,26437
	function start() {start596,27455
				$step = 0;step607,27719
				$step = (int) $_GET['step'];step609,27773
				$step = $this->import['blogs'][$_GET['blog']]['nextstep'];step611,27905
				$step = 1;step613,28019
				$step = 0;step615,28046
	function Blogger_Import() {Blogger_Import658,28749
$blogger_import = new Blogger_Import();blogger_import663,28826

weblog/wp-admin/import/b2.php,0

weblog/wp-admin/import/greymatter.php,0

weblog/wp-admin/import/dotclear.php,6442
	function get_catbynicename($category_nicename) get_catbynicename7,104
	$name = $wpdb->get_var('SELECT cat_ID FROM '.$wpdb->categories.' WHERE category_nicename="'.$category_nicename.'"');name12,206
	function get_comment_count($post_ID)get_comment_count20,391
	function link_cat_exists($catname)link_cat_exists29,599
	function link_exists($linkname)link_exists38,818
   function valid_1byte($char) {valid_1byte58,1391
   function valid_2byte($char) {valid_2byte63,1510
   function valid_3byte($char) {valid_3byte68,1627
   function valid_4byte($char) {valid_4byte73,1744
   function valid_nextbyte($char) {valid_nextbyte78,1863
   function valid_utf8($string) {valid_utf883,1985
       $len = strlen($string);len84,2019
       $i = 0;   i85,2050
           $char = ord(substr($string, $i++, 1));char87,2096
function csc ($s) {csc110,3069
function textconv ($s) {textconv118,3195
class Dotclear_Import {Dotclear_Import125,3316
	function header() header127,3341
	function footer() footer134,3557
	function greet() greet139,3602
	function get_dc_cats() get_dc_cats149,4043
		$dcdb = new wpdb(get_option('dcuser'), get_option('dcpass'), get_option('dcname'), get_option('dchost'));dcdb153,4113
		$prefix = get_option('tpre');prefix155,4252
	function get_dc_users()get_dc_users161,4380
		$dcdb = new wpdb(get_option('dcuser'), get_option('dcpass'), get_option('dcname'), get_option('dchost'));dcdb165,4450
		$prefix = get_option('tpre');prefix167,4589
	function get_dc_posts()get_dc_posts174,4710
		$dcdb = new wpdb(get_option('dcuser'), get_option('dcpass'), get_option('dcname'), get_option('dchost'));dcdb177,4764
		$prefix = get_option('tpre');prefix179,4903
	function get_dc_comments()get_dc_comments187,5154
		$dcdb = new wpdb(get_option('dcuser'), get_option('dcpass'), get_option('dcname'), get_option('dchost'));dcdb191,5227
		$prefix = get_option('tpre');prefix193,5366
	function get_dc_links()get_dc_links199,5490
		$dcdb = new wpdb(get_option('dcuser'), get_option('dcpass'), get_option('dcname'), get_option('dchost'));dcdb202,5543
		$prefix = get_option('tpre');prefix204,5682
	function cat2wp($categories='') cat2wp209,5801
		$count = 0;count213,5880
		$dccat2wpcat = array();dccat2wpcat214,5894
				$name = $wpdb->escape($cat_libelle_url);name225,6148
				$title = $wpdb->escape(csc ($cat_libelle));title226,6193
				$desc = $wpdb->escape(csc ($cat_desc));desc227,6241
					$ret_id = wp_insert_category(array('cat_ID' => $cinfo, 'category_nicename' => $name, 'cat_name' => $title, 'category_description' => $desc));ret_id231,6332
					$ret_id = wp_insert_category(array('category_nicename' => $name, 'cat_name' => $title, 'category_description' => $desc));ret_id235,6500
	function users2wp($users='')users2wp249,6952
		$count = 0;count253,7027
		$dcid2wpid = array();dcid2wpid254,7041
				$name = $wpdb->escape(csc ($name));name266,7272
				$RealName = $wpdb->escape(csc ($user_pseudo));RealName267,7312
					$ret_id = wp_insert_user(array(ret_id272,7424
					$ret_id = wp_insert_user(array(ret_id283,7702
				$user = new WP_User($ret_id);user296,8075
				$wp_perms = $user_level + 1;wp_perms297,8109
	function posts2wp($posts='')posts2wp325,9192
		$count = 0;count329,9267
		$dcposts2wpposts = array();dcposts2wpposts330,9281
		$cats = array();cats331,9311
				$stattrans = array(0 => 'draft', 1 => 'publish');stattrans343,9559
				$comment_status_map = array (0 => 'closed', 1 => 'open');comment_status_map344,9613
				$uinfo = ( get_userdatabylogin( $user_id ) ) ? get_userdatabylogin( $user_id ) : 1;uinfo347,9719
				$authorid = ( is_object( $uinfo ) ) ? $uinfo->ID : $uinfo ;authorid348,9807
				$Title = $wpdb->escape(csc ($post_titre));Title350,9872
				$post_content = textconv ($post_content);post_content351,9919
					$post_excerpt = textconv ($post_chapo);post_excerpt353,9994
					$post_content = $post_excerpt ."\n<!--more-->\n".$post_content;post_content354,10039
				$post_excerpt = $wpdb->escape ($post_excerpt);post_excerpt356,10114
				$post_content = $wpdb->escape ($post_content);post_content357,10165
				$post_status = $stattrans[$post_pub];post_status358,10216
					$ret_id = wp_insert_post(array(ret_id364,10364
					$ret_id = wp_insert_post(array(ret_id383,11035
				$cats = array();cats402,11768
	function comments2wp($comments='')comments2wp415,12149
		$count = 0;count419,12230
		$dccm2wpcm = array();dccm2wpcm420,12244
		$postarr = get_option('dcposts2wpposts');postarr421,12268
				$comment_ID = ltrim($comment_id, '0');comment_ID433,12529
				$comment_post_ID = $postarr[$post_id];comment_post_ID434,12572
				$comment_approved = "$comment_pub";comment_approved435,12615
				$name = $wpdb->escape(csc ($comment_auteur));name436,12655
				$email = $wpdb->escape($comment_email);email437,12705
				$web = "http://".$wpdb->escape($comment_site);web438,12749
				$message = $wpdb->escape(textconv ($comment_content));message439,12800
					$ret_id = wp_update_comment(array(ret_id444,12946
					$ret_id = wp_insert_comment(array(ret_id460,13442
	function links2wp($links='')links2wp488,14279
		$count = 0;count492,14354
						$category = $cinfo;category505,14630
						$category = $wpdb->insert_id;category509,14791
					$linkname = $wpdb->escape(csc ($label));linkname512,14847
					$description = $wpdb->escape(csc ($title));description513,14893
						$ret_id = wp_insert_link(array(ret_id516,14990
						$ret_id = wp_insert_link(array(ret_id524,15237
	function import_categories() import_categories544,15755
		$cats = $this->get_dc_cats();cats547,15812
	function import_users()import_users559,16093
		$users = $this->get_dc_users(); users562,16138
	function import_posts()import_posts570,16385
		$posts = $this->get_dc_posts();posts573,16430
	function import_comments()import_comments581,16679
		$comments = $this->get_dc_comments();comments584,16730
	function import_links()import_links592,16988
		$links = $this->get_dc_links();links595,17032
	function cleanup_dcimport()cleanup_dcimport604,17306
	function tips()tips621,17715
	function db_form()db_form640,20160
	function dispatch() dispatch652,21074
			$step = 0;step656,21129
			$step = (int) $_GET['step'];step658,21150
	function Dotclear_Import() Dotclear_Import733,22499
$dc_import = new Dotclear_Import();dc_import739,22552

weblog/wp-admin/import/livejournal.php,3493
class LJ_Import {LJ_Import3,7
	function header() {header7,39
	function footer() {footer12,141
	function unhtmlentities($string) { // From php.net for < 4.3 compatunhtmlentities16,183
		$trans_tbl = get_html_translation_table(HTML_ENTITIES);trans_tbl17,252
		$trans_tbl = array_flip($trans_tbl);trans_tbl18,310
	function greet() {greet22,391
	function import_posts() {import_posts27,661
		$importdata = file($this->file); // Read the file into an arrayimportdata31,753
		$importdata = implode('', $importdata); // squish itimportdata32,819
		$importdata = str_replace(array ("\r\n", "\r"), "\n", $importdata);importdata33,874
		$posts = $posts[1];posts36,1012
			$post_title = $wpdb->escape(trim($post_title[1]));post_title42,1182
				$post_title = $wpdb->escape(trim($post_title[1]));post_title45,1333
			$post_date = strtotime($post_date[1]);post_date49,1464
			$post_date = gmdate('Y-m-d H:i:s', $post_date);post_date50,1506
			$post_content = str_replace(array ('<![CDATA[', ']]>'), '', trim($post_content[1]));post_content53,1623
			$post_content = $this->unhtmlentities($post_content);post_content54,1711
			$post_content = preg_replace('|<(/?[A-Z]+)|e', "'<' . strtolower('$1')", $post_content);post_content57,1792
			$post_content = str_replace('<br>', '<br />', $post_content);post_content58,1884
			$post_content = str_replace('<hr>', '<hr />', $post_content);post_content59,1949
			$post_content = $wpdb->escape($post_content);post_content60,2014
			$post_author = $current_user->ID;post_author62,2064
			$post_status = 'publish';post_status63,2101
				$postdata = compact('post_author', 'post_date', 'post_content', 'post_title', 'post_status');postdata70,2383
				$post_id = wp_insert_post($postdata);post_id71,2481
			$comments = $comments[1];comments80,2689
				$comment_post_ID = $post_id;comment_post_ID83,2744
				$num_comments = 0;num_comments84,2777
					$comment_content = str_replace(array ('<![CDATA[', ']]>'), '', trim($comment_content[1]));comment_content87,2911
					$comment_content = $this->unhtmlentities($comment_content);comment_content88,3007
					$comment_content = preg_replace('|<(/?[A-Z]+)|e', "'<' . strtolower('$1')", $comment_content);comment_content91,3098
					$comment_content = str_replace('<br>', '<br />', $comment_content);comment_content92,3198
					$comment_content = str_replace('<hr>', '<hr />', $comment_content);comment_content93,3271
					$comment_content = $wpdb->escape($comment_content);comment_content94,3344
					$comment_date = trim($comment_date[1]);comment_date97,3480
					$comment_date = date('Y-m-d H:i:s', strtotime($comment_date));comment_date98,3525
					$comment_author = $wpdb->escape(trim($comment_author[1]));comment_author101,3664
					$comment_author_email = $wpdb->escape(trim($comment_author_email[1]));comment_author_email104,3807
					$comment_approved = 1;comment_approved106,3884
						$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_date', 'comment_content', 'comment_approved');commentdata109,4008
						$commentdata = wp_filter_comment($commentdata);commentdata110,4154
	function import() {import127,4449
		$file = wp_import_handle_upload();file128,4470
	function dispatch() {dispatch143,4782
			$step = 0;step145,4834
			$step = (int) $_GET['step'];step147,4855
	function LJ_Import() {LJ_Import163,5046
$livejournal_import = new LJ_Import();livejournal_import168,5091

weblog/wp-admin/import/mt.php,8240
class MT_Import {MT_Import3,7
	function header() {header12,146
	function footer() {footer17,249
	function greet() {greet21,291
	function users_form($n) {users_form31,883
		$users = $wpdb->get_results("SELECT * FROM $wpdb->users ORDER BY ID");users33,936
	function checkauthor($author) {checkauthor50,1306
		$pass = 'changeme';pass53,1416
			$user_id = username_exists($this->newauthornames[$this->j]); //check if the new author name defined by the user is a pre-existing wp useruser_id57,1614
					$user_id = wp_create_user($author, $pass);user_id60,1928
					$user_id = wp_create_user($this->newauthornames[$this->j], $pass);user_id63,2087
			$key = array_search($author, $this->mtnames); //find the array key for $author in the $mtnames arraykey69,2262
			$user_id = username_exists($this->newauthornames[$key]); //use that key to get the value of the author's name from $newauthornamesuser_id70,2366
	function get_entries() {get_entries76,2528
		$importdata = file($this->file); // Read the file into an arrayimportdata78,2585
		$importdata = implode('', $importdata); // squish itimportdata79,2651
		$importdata = preg_replace("/(\r\n|\n|\r)/", "\n", $importdata);importdata80,2706
		$importdata = preg_replace("/\n--------\n/", "--MT-ENTRY--\n", $importdata);importdata81,2773
	function get_mt_authors() {get_mt_authors85,2911
		$temp = array ();temp86,2940
		$i = -1;i87,2960
				$thematch = trim($thematch[1]);thematch92,3097
		$y = count($temp) + 1;y99,3431
			$next = array_shift($temp);next101,3489
	function get_authors_from_post() {get_authors_from_post109,3620
		$formnames = array ();formnames110,3656
		$selectnames = array ();selectnames111,3681
			$newname = trim(stripslashes($line));newname114,3755
				$newname = 'left_blank'; //passing author names from step 1 to step 2 is accomplished by using POST. left_blank denotes an empty entry in the form.newname116,3819
			$selected = trim(stripslashes($key));selected121,4122
		$count = count($formnames);count125,4210
	function mt_authors_form() {mt_authors_form135,4538
		$authors = $this->get_mt_authors();authors143,5220
		$j = -1;j146,5373
	function select_authors() {select_authors161,5698
		$file = wp_import_handle_upload();file162,5727
	function process_posts() {process_posts174,5951
		$i = -1;i176,5995
				$post = preg_replace("|(-----\n\nPING:.*)|s", '', $post);post185,6215
				$post = preg_replace("|(-----\nCOMMENT:.*)|s", '', $post);post189,6372
				$post = preg_replace("|(-----\nKEYWORDS:.*)|s", '', $post);post192,6466
				$post_excerpt = $wpdb->escape(trim($excerpt[1]));post_excerpt196,6617
				$post = preg_replace("|(-----\nEXCERPT:.*)|s", '', $post);post197,6671
				$extended = trim($extended[1]);extended201,6872
					$extended = "\n<!--more-->\n$extended";extended203,6933
				$post = preg_replace("|(-----\nEXTENDED BODY:.*)|s", '', $post);post204,6978
				$body = trim($body[1]);body208,7130
				$post_content = $wpdb->escape($body.$extended);post_content209,7158
				$post = preg_replace("|(-----\nBODY:.*)|s", '', $post);post210,7210
				$metadata = explode("\n", $post);metadata213,7313
					$key = trim($token[1]);key216,7435
					$value = trim($token[2]);value217,7464
							$post_author = $value;post_author223,7624
							$post_title = $wpdb->escape($value);post_title226,7689
							$post_status = $value;post_status230,7848
								$post_status = 'publish';post_status232,7911
							$post_allow_comments = $value;post_allow_comments235,7989
								$comment_status = 'open';comment_status237,8067
								$comment_status = 'closed';comment_status239,8117
							$post_convert_breaks = $value;post_convert_breaks243,8206
							$ping_status = trim($meta[2][0]);ping_status246,8285
								$ping_status = 'open';ping_status248,8358
								$ping_status = 'closed';ping_status250,8405
							$post_modified = strtotime($value);post_modified262,8729
							$post_modified = date('Y-m-d H:i:s', $post_modified);post_modified263,8772
							$post_modified_gmt = get_gmt_from_date("$post_modified");post_modified_gmt264,8833
							$post_date = $post_modified;post_date265,8898
							$post_date_gmt = $post_modified_gmt;post_date_gmt266,8934
					$post_author = $this->checkauthor($post_author); //just so that if a post already exists, new users are not created by checkauthorpost_author282,9409
					$postdata = compact('post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_excerpt', 'post_status', 'comment_status', 'ping_status', 'post_modified', 'post_modified_gmt');postdata284,9546
					$post_id = wp_insert_post($postdata);post_id285,9749
				$comment_post_ID = $post_id;comment_post_ID292,9927
				$comment_approved = 1;comment_approved293,9960
				$comments = explode("-----\nCOMMENT:", $comments[0]);comments296,10012
				$num_comments = 0;num_comments297,10070
						$comment_author = $wpdb->escape(trim($comment_author[1]));comment_author302,10242
						$comment = preg_replace('|(\n?AUTHOR:.*)|', '', $comment);comment303,10307
						$comment_author_email = $wpdb->escape(trim($comment_author_email[1]));comment_author_email305,10439
						$comment = preg_replace('|(\n?EMAIL:.*)|', '', $comment);comment306,10516
						$comment_author_IP = trim($comment_author_IP[1]);comment_author_IP309,10642
						$comment = preg_replace('|(\n?IP:.*)|', '', $comment);comment310,10698
						$comment_author_url = $wpdb->escape(trim($comment_author_url[1]));comment_author_url313,10823
						$comment = preg_replace('|(\n?URL:.*)|', '', $comment);comment314,10896
						$comment_date = trim($comment_date[1]);comment_date317,11017
						$comment_date = date('Y-m-d H:i:s', strtotime($comment_date));comment_date318,11063
						$comment = preg_replace('|(\n?DATE:.*)|', '', $comment);comment319,11132
						$comment_content = $wpdb->escape(trim($comment));comment_content321,11196
						$comment_content = str_replace('-----', '', $comment_content);comment_content322,11252
							$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_url', 'comment_author_email', 'comment_author_IP', 'comment_date', 'comment_content', 'comment_approved');commentdata325,11419
							$commentdata = wp_filter_comment($commentdata);commentdata326,11609
				$pings = explode("-----\nPING:", $pings[0]);pings338,11960
				$num_pings = 0;num_pings339,12009
						$comment_author = $wpdb->escape(trim($comment_author[1]));comment_author344,12171
						$ping = preg_replace('|(\n?BLOG NAME:.*)|', '', $ping);ping345,12236
						$comment_author_IP = trim($comment_author_IP[1]);comment_author_IP348,12357
						$ping = preg_replace('|(\n?IP:.*)|', '', $ping);ping349,12413
						$comment_author_url = $wpdb->escape(trim($comment_author_url[1]));comment_author_url352,12529
						$ping = preg_replace('|(\n?URL:.*)|', '', $ping);ping353,12602
						$comment_date = trim($comment_date[1]);comment_date356,12714
						$comment_date = date('Y-m-d H:i:s', strtotime($comment_date));comment_date357,12760
						$ping = preg_replace('|(\n?DATE:.*)|', '', $ping);ping358,12829
						$ping_title = $wpdb->escape(trim($ping_title[1]));ping_title361,12941
						$ping = preg_replace('|(\n?TITLE:.*)|', '', $ping);ping362,12998
						$comment_content = $wpdb->escape(trim($ping));comment_content364,13057
						$comment_content = str_replace('-----', '', $comment_content);comment_content365,13110
						$comment_content = "<strong>$ping_title</strong>\n\n$comment_content";comment_content367,13180
						$comment_type = 'trackback';comment_type369,13258
							$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_url', 'comment_author_email', 'comment_author_IP', 'comment_date', 'comment_content', 'comment_type', 'comment_approved');commentdata373,13392
							$commentdata = wp_filter_comment($commentdata);commentdata374,13598
	function import() {import395,13994
	function dispatch() {dispatch403,14182
			$step = 0;step405,14234
			$step = (int) $_GET['step'];step407,14255
	function MT_Import() {MT_Import422,14453
$mt_import = new MT_Import();mt_import427,14498

weblog/wp-admin/import/rss.php,2335
class RSS_Import {RSS_Import3,7
	function header() {header8,64
	function footer() {footer13,158
	function unhtmlentities($string) { // From php.net for < 4.3 compatunhtmlentities17,200
		$trans_tbl = get_html_translation_table(HTML_ENTITIES);trans_tbl18,269
		$trans_tbl = array_flip($trans_tbl);trans_tbl19,327
	function greet() {greet23,408
	function get_posts() {get_posts28,758
		$datalines = file($this->file); // Read the file into an arraydatalines32,832
		$importdata = implode('', $datalines); // squish itimportdata33,897
		$importdata = str_replace(array ("\r\n", "\r"), "\n", $importdata);importdata34,951
		$index = 0;index38,1127
			$post_title = $wpdb->escape(trim($post_title[1]));post_title41,1240
				$post_date = strtotime($post_date[1]);post_date46,1383
				$post_date = preg_replace('|([-+])([0-9]+):([0-9]+)$|', '\1\2\3', $post_date[1]);post_date50,1560
				$post_date = str_replace('T', ' ', $post_date);post_date51,1646
				$post_date = strtotime($post_date);post_date52,1698
			$post_date = gmdate('Y-m-d H:i:s', $post_date);post_date55,1744
			$categories = $categories[1];categories58,1869
				$categories = $categories[1];categories62,2004
			$cat_index = 0;cat_index65,2044
				$guid = $wpdb->escape(trim($guid[1]));guid73,2278
				$guid = '';guid75,2329
			$post_content = str_replace(array ('<![CDATA[', ']]>'), '', $wpdb->escape(trim($post_content[1])));post_content78,2431
				$post_content = $wpdb->escape($this->unhtmlentities(trim($post_content[1])));post_content83,2695
			$post_content = preg_replace('|<(/?[A-Z]+)|e', "'<' . strtolower('$1')", $post_content);post_content87,2806
			$post_content = str_replace('<br>', '<br />', $post_content);post_content88,2898
			$post_content = str_replace('<hr>', '<hr />', $post_content);post_content89,2963
			$post_author = 1;post_author91,3029
			$post_status = 'publish';post_status92,3050
	function import_posts() {import_posts98,3230
				$post_id = wp_insert_post($post);post_id109,3488
	function import() {import126,3749
		$file = wp_import_handle_upload();file127,3770
	function dispatch() {dispatch143,4104
			$step = 0;step145,4156
			$step = (int) $_GET['step'];step147,4177
	function RSS_Import() {RSS_Import163,4368
$rss_import = new RSS_Import();rss_import168,4414

weblog/wp-admin/import/textpattern.php,5380
	function get_catbynicename($category_nicename) get_catbynicename7,104
	$name = $wpdb->get_var('SELECT cat_ID FROM '.$wpdb->categories.' WHERE category_nicename="'.$category_nicename.'"');name12,206
	function get_comment_count($post_ID)get_comment_count20,391
	function link_exists($linkname)link_exists29,595
class Textpattern_Import {Textpattern_Import39,800
	function header() header41,828
	function footer() footer48,1047
	function greet() greet53,1092
	function get_txp_cats()get_txp_cats63,1604
		$txpdb = new wpdb(get_option('txpuser'), get_option('txppass'), get_option('txpname'), get_option('txphost'));txpdb67,1674
		$prefix = get_option('tpre');prefix69,1818
	function get_txp_users()get_txp_users81,2064
		$txpdb = new wpdb(get_option('txpuser'), get_option('txppass'), get_option('txpname'), get_option('txphost'));txpdb85,2135
		$prefix = get_option('tpre');prefix87,2279
	function get_txp_posts()get_txp_posts100,2512
		$txpdb = new wpdb(get_option('txpuser'), get_option('txppass'), get_option('txpname'), get_option('txphost'));txpdb103,2567
		$prefix = get_option('tpre');prefix105,2711
	function get_txp_comments()get_txp_comments126,3118
		$txpdb = new wpdb(get_option('txpuser'), get_option('txppass'), get_option('txpname'), get_option('txphost'));txpdb130,3192
		$prefix = get_option('tpre');prefix132,3336
		function get_txp_links()get_txp_links138,3473
		$txpdb = new wpdb(get_option('txpuser'), get_option('txppass'), get_option('txpname'), get_option('txphost'));txpdb141,3528
		$prefix = get_option('tpre');prefix143,3672
	function cat2wp($categories='') cat2wp156,3925
		$count = 0;count160,4004
		$txpcat2wpcat = array();txpcat2wpcat161,4018
				$name = $wpdb->escape($name);name173,4278
				$title = $wpdb->escape($title);title174,4312
					$ret_id = wp_insert_category(array('cat_ID' => $cinfo, 'category_nicename' => $name, 'cat_name' => $title));ret_id178,4399
					$ret_id = wp_insert_category(array('category_nicename' => $name, 'cat_name' => $title));ret_id182,4534
	function users2wp($users='')users2wp196,4956
		$count = 0;count200,5031
		$txpid2wpid = array();txpid2wpid201,5045
				$name = $wpdb->escape($name);name213,5277
				$RealName = $wpdb->escape($RealName);RealName214,5311
					$ret_id = wp_insert_user(array(ret_id219,5414
					$ret_id = wp_insert_user(array(ret_id230,5682
				$transperms = array(1 => '10', 2 => '9', 3 => '5', 4 => '4', 5 => '3', 6 => '2', 7 => '0');transperms241,6006
				$user = new WP_User($ret_id);user244,6135
	function posts2wp($posts='')posts2wp270,7160
		$count = 0;count274,7235
		$txpposts2wpposts = array();txpposts2wpposts275,7249
		$cats = array();cats276,7280
				$stattrans = array(1 => 'draft', 2 => 'private', 3 => 'draft', 4 => 'publish', 5 => 'publish');stattrans288,7531
				$uinfo = ( get_userdatabylogin( $AuthorID ) ) ? get_userdatabylogin( $AuthorID ) : 1;uinfo291,7675
				$authorid = ( is_object( $uinfo ) ) ? $uinfo->ID : $uinfo ;authorid292,7765
				$Title = $wpdb->escape($Title);Title294,7830
				$Body = $wpdb->escape($Body);Body295,7866
				$Excerpt = $wpdb->escape($Excerpt);Excerpt296,7900
				$post_status = $stattrans[$Status];post_status297,7940
					$ret_id = wp_insert_post(array(ret_id303,8078
					$ret_id = wp_insert_post(array(ret_id320,8592
				$cats = array();cats337,9149
	function comments2wp($comments='')comments2wp351,9596
		$count = 0;count355,9677
		$txpcm2wpcm = array();txpcm2wpcm356,9691
		$postarr = get_option('txpposts2wpposts');postarr357,9716
				$comment_ID = ltrim($discussid, '0');comment_ID369,9978
				$comment_post_ID = $postarr[$parentid];comment_post_ID370,10020
				$comment_approved = (1 == $visible) ? 1 : 0;comment_approved371,10064
				$name = $wpdb->escape($name);name372,10113
				$email = $wpdb->escape($email);email373,10147
				$web = $wpdb->escape($web);web374,10183
				$message = $wpdb->escape($message);message375,10215
					$ret_id = wp_update_comment(array(ret_id380,10338
					$ret_id = wp_insert_comment(array(ret_id394,10751
	function links2wp($links='')links2wp421,11543
		$count = 0;count425,11618
				$category = $wpdb->escape($category);category437,11840
				$linkname = $wpdb->escape($linkname);linkname438,11882
				$description = $wpdb->escape($description);description439,11924
					$ret_id = wp_insert_link(array(ret_id443,12023
					$ret_id = wp_insert_link(array(ret_id454,12307
	function import_categories() import_categories474,12831
		$cats = $this->get_txp_cats();cats477,12888
	function import_users()import_users489,13174
		$users = $this->get_txp_users(); users492,13219
	function import_posts()import_posts500,13470
		$posts = $this->get_txp_posts();posts503,13515
	function import_comments()import_comments511,13768
		$comments = $this->get_txp_comments();comments514,13819
	function import_links()import_links522,14081
		$links = $this->get_txp_links();links525,14125
	function cleanup_txpimport()cleanup_txpimport534,14404
	function tips()tips550,14794
	function db_form()db_form569,17251
	function dispatch() dispatch580,18026
			$step = 0;step584,18081
			$step = (int) $_GET['step'];step586,18102
	function Textpattern_Import() Textpattern_Import655,19309
$txp_import = new Textpattern_Import();txp_import661,19365

weblog/wp-admin/admin-footer.php,0

weblog/wp-admin/admin-db.php,5196
function get_users_drafts( $user_id ) {get_users_drafts3,7
	$user_id = (int) $user_id;user_id5,62
	$query = "SELECT ID, post_title FROM $wpdb->posts WHERE post_status = 'draft' AND post_author = $user_id ORDER BY ID DESC";query6,90
	$query = apply_filters('get_users_drafts', $query);query7,215
function get_others_drafts( $user_id ) {get_others_drafts11,309
	$user = get_userdata( $user_id );user13,365
	$level_key = $wpdb->prefix . 'user_level';level_key14,400
	$editable = get_editable_user_ids( $user_id );editable16,445
		$other_drafts = '';other_drafts19,515
		$editable = join(',', $editable);editable21,547
		$other_drafts = $wpdb->get_results("SELECT ID, post_title FROM $wpdb->posts WHERE post_status = 'draft' AND post_author IN ($editable) AND post_author != '$user_id' ");other_drafts22,583
function get_editable_authors( $user_id ) {get_editable_authors28,820
	$editable = get_editable_user_ids( $user_id );editable31,880
		$editable = join(',', $editable);editable36,975
		$authors = $wpdb->get_results( "SELECT * FROM $wpdb->users WHERE ID IN ($editable)" );authors37,1011
function get_editable_user_ids( $user_id, $exclude_zeros = true ) {get_editable_user_ids43,1164
	$user = new WP_User( $user_id );user46,1249
	$level_key = $wpdb->prefix . 'user_level';level_key55,1455
	$query = "SELECT user_id FROM $wpdb->usermeta WHERE meta_key = '$level_key'";query57,1500
function get_author_user_ids() {get_author_user_ids64,1680
	$level_key = $wpdb->prefix . 'user_level';level_key66,1728
	$query = "SELECT user_id FROM $wpdb->usermeta WHERE meta_key = '$level_key' AND meta_value != '0'";query68,1773
function get_nonauthor_user_ids() {get_nonauthor_user_ids73,1912
	$level_key = $wpdb->prefix . 'user_level';level_key75,1963
	$query = "SELECT user_id FROM $wpdb->usermeta WHERE meta_key = '$level_key' AND meta_value = '0'";query77,2008
function wp_insert_category($catarr) {wp_insert_category82,2146
	$cat_ID = (int) $cat_ID;cat_ID87,2221
		$update = true;update91,2304
		$update = false;update93,2328
	$cat_name = apply_filters('pre_category_name', $cat_name);cat_name95,2348
		$category_nicename = sanitize_title($cat_name);category_nicename98,2443
		$category_nicename = sanitize_title($category_nicename);category_nicename100,2499
	$category_nicename = apply_filters('pre_category_nicename', $category_nicename);category_nicename101,2558
		$category_description = '';category_description104,2677
	$category_description = apply_filters('pre_category_description', $category_description);category_description105,2707
	$category_parent = (int) $category_parent;category_parent107,2799
		$category_parent = 0;category_parent109,2874
		$cat_ID = $wpdb->insert_id;cat_ID113,3135
		$category_nicename = sanitize_title($cat_name, $cat_ID );category_nicename119,3440
function wp_update_category($catarr) {wp_update_category136,3879
	$cat_ID = (int) $catarr['cat_ID'];cat_ID139,3934
	$category = get_category($cat_ID, ARRAY_A);category142,4013
	$category = add_magic_quotes($category);category145,4091
	$catarr = array_merge($category, $catarr);catarr148,4201
function wp_delete_category($cat_ID) {wp_delete_category153,4286
	$cat_ID = (int) $cat_ID;cat_ID156,4341
	$category = get_category($cat_ID);category162,4463
	$parent = $category->category_parent;parent164,4500
	$default_cat = get_option('default_category');default_cat173,4877
function wp_create_category($cat_name) {wp_create_category184,5171
	$cat_array = compact('cat_name');cat_array185,5212
function wp_create_categories($categories, $post_id = '') {wp_create_categories189,5290
	$cat_ids = array ();cat_ids190,5350
function category_exists($cat_name) {category_exists205,5629
function wp_delete_user($id, $reassign = 'novalue') {wp_delete_user213,5863
	$id = (int) $id;id216,5933
	$user = get_userdata($id);user217,5951
		$post_ids = $wpdb->get_col("SELECT ID FROM $wpdb->posts WHERE post_author = $id");post_ids220,6011
		$reassign = (int) $reassign;reassign230,6280
function get_link($link_id, $output = OBJECT) {get_link247,6789
	$link = $wpdb->get_row("SELECT * FROM $wpdb->links WHERE link_id = '$link_id'");link250,6854
function wp_insert_link($linkdata) {wp_insert_link263,7163
	$update = false;update268,7254
		$update = true;update270,7297
		$link_rating = 0;	link_rating273,7344
		$link_target = '';	link_target276,7394
		$link_visible = 'Y';link_visible279,7446
		$link_owner = $current_user->id;link_owner282,7499
		$link_notes = '';link_notes285,7562
		$link_id = $wpdb->insert_id;link_id297,8383
function wp_update_link($linkdata) {wp_update_link308,8534
	$link_id = (int) $linkdata['link_id'];link_id311,8587
	$link = get_link($link_id, ARRAY_A);link313,8629
	$link = add_magic_quotes($link);link316,8701
	$linkdata = array_merge($link, $linkdata);linkdata319,8804
function wp_delete_link($link_id) {wp_delete_link324,8887
function post_exists($title, $content = '', $post_date = '') {post_exists331,9057
		$post_date = "AND post_date = '$post_date'";post_date335,9162
function comment_exists($comment_author, $comment_date) {comment_exists346,9473

weblog/wp-admin/edit-form-advanced.php,1609
	$form_action = 'post';form_action22,754
	$temp_ID = -1 * time();temp_ID23,778
	$form_extra = "<input type='hidden' name='temp_ID' value='$temp_ID' />";form_extra24,803
	$form_action = 'editpost';form_action27,915
	$form_extra = "<input type='hidden' name='post_ID' value='$post_ID' />";form_extra28,943
$form_pingback = '<input type="hidden" name="post_pingback" value="' . get_option('default_pingback_flag') . '" id="post_pingback" />';form_pingback32,1065
$form_prevstatus = '<input type="hidden" name="prev_status" value="' . $post->post_status . '" />';form_prevstatus34,1202
$form_trackback = '<input type="text" name="trackback_url" style="width: 415px" id="trackback" tabindex="7" value="'. str_replace("\n", ' ', $post->to_ping) .'" />';form_trackback36,1303
	$pings = '<p>'. __('Already pinged:') . '</p><ul>';pings39,1497
	$already_pinged = explode("\n", trim($post->pinged));already_pinged40,1550
$saveasdraft = '<input name="save" type="submit" id="save" tabindex="3" value="' . __('Save and Continue Editing') . '" />';saveasdraft47,1715
function focusit() {focusit60,2257
$o = get_userdata( $o->ID );o123,5241
 $rows = get_settings('default_post_edit_rows');rows148,5921
     $rows = 12;rows150,6007
	$uploading_iframe_ID = (0 == $post_ID ? $temp_ID : $post_ID);uploading_iframe_ID224,8280
	$uploading_iframe_src = wp_nonce_url("inline-uploading.php?action=view&amp;post=$uploading_iframe_ID", 'inlineuploading');uploading_iframe_src225,8343
	$uploading_iframe_src = apply_filters('uploading_iframe_src', $uploading_iframe_src);uploading_iframe_src226,8467

weblog/wp-admin/admin-functions.php,22035
function write_post() {write_post4,82
		$aa = $_POST['aa'];aa53,1673
		$mm = $_POST['mm'];mm54,1695
		$jj = $_POST['jj'];jj55,1717
		$hh = $_POST['hh'];hh56,1739
		$mn = $_POST['mn'];mn57,1761
		$ss = $_POST['ss'];ss58,1783
		$jj = ($jj > 31) ? 31 : $jj;jj59,1805
		$hh = ($hh > 23) ? $hh -24 : $hh;hh60,1836
		$mn = ($mn > 59) ? $mn -60 : $mn;mn61,1872
		$ss = ($ss > 59) ? $ss -60 : $ss;ss62,1908
	$post_ID = wp_insert_post($_POST);post_ID68,2094
function relocate_children($old_ID, $new_ID) {relocate_children82,2441
	$old_ID = (int) $old_ID;old_ID84,2503
	$new_ID = (int) $new_ID;new_ID85,2529
function fix_attachment_links($post_ID) {fix_attachment_links90,2724
	$post = & get_post($post_ID, ARRAY_A);post93,2788
	$search = "#<a[^>]+rel=('|\")[^'\"]*attachment[^>]*>#ie";search95,2829
	$i = 0;i101,3043
	$search = "# id=(\"|')p(\d+)\\1#i";search102,3052
		$id = $id_matches[2];id107,3204
		$attachment = & get_post($id, ARRAY_A);attachment110,3292
			$attachment = add_magic_quotes($attachment);attachment114,3495
	$post = add_magic_quotes($post);post126,3891
function edit_post() {edit_post132,4019
	$post_ID = (int) $_POST['post_ID'];post_ID135,4061
		$aa = $_POST['aa'];aa184,5676
		$mm = $_POST['mm'];mm185,5698
		$jj = $_POST['jj'];jj186,5720
		$hh = $_POST['hh'];hh187,5742
		$mn = $_POST['mn'];mn188,5764
		$ss = $_POST['ss'];ss189,5786
		$jj = ($jj > 31) ? 31 : $jj;jj190,5808
		$hh = ($hh > 23) ? $hh -24 : $hh;hh191,5839
		$mn = ($mn > 59) ? $mn -60 : $mn;mn192,5875
		$ss = ($ss > 59) ? $ss -60 : $ss;ss193,5911
function edit_comment() {edit_comment219,6493
	$comment_ID = (int) $_POST['comment_ID'];comment_ID222,6538
	$comment_post_ID = (int) $_POST['comment_post_ID'];comment_post_ID223,6581
		$aa = $_POST['aa'];aa236,7174
		$mm = $_POST['mm'];mm237,7196
		$jj = $_POST['jj'];jj238,7218
		$hh = $_POST['hh'];hh239,7240
		$mn = $_POST['mn'];mn240,7262
		$ss = $_POST['ss'];ss241,7284
		$jj = ($jj > 31) ? 31 : $jj;jj242,7306
		$hh = ($hh > 23) ? $hh -24 : $hh;hh243,7337
		$mn = ($mn > 59) ? $mn -60 : $mn;mn244,7373
		$ss = ($ss > 59) ? $ss -60 : $ss;ss245,7409
function get_post_to_edit($id) {get_post_to_edit253,7585
	$richedit = ( 'true' == get_user_option('rich_editing') ) ? true : false;richedit255,7637
	$post = get_post($id);post257,7713
function get_default_post_to_edit() {get_default_post_to_edit275,8361
		$post_title = wp_specialchars(stripslashes($_REQUEST['post_title']));post_title277,8439
		$post_title = wp_specialchars(stripslashes($_REQUEST['popuptitle']));post_title279,8558
		$post_title = funky_javascript_fix($post_title);post_title280,8630
		$post_title = '';post_title282,8691
		$post_content = wp_specialchars(stripslashes($_REQUEST['content']));post_content286,8752
		$text       = wp_specialchars(stripslashes(urldecode($_REQUEST['text'])));text288,8858
		$text       = funky_javascript_fix($text);text289,8935
		$popupurl   = wp_specialchars($_REQUEST['popupurl']);popupurl290,8980
        $post_content = '<a href="'.$popupurl.'">'.$post_title.'</a>'."\n$text";post_content291,9036
		$post_excerpt = wp_specialchars(stripslashes($_REQUEST['excerpt']));post_excerpt295,9161
		$post_excerpt = '';post_excerpt297,9238
function get_comment_to_edit($id) {get_comment_to_edit314,9850
	$richedit = ( 'true' == get_user_option('rich_editing') ) ? true : false;richedit316,9905
	$comment = get_comment($id);comment318,9981
function get_category_to_edit($id) {get_category_to_edit330,10439
	$category = get_category($id);category331,10476
function add_user() {add_user338,10602
function edit_user($user_id = 0) {edit_user342,10648
		$update = true;update346,10747
		$userdata = get_userdata($user_id);userdata348,10789
		$update = false;update351,10897
		$user = '';user352,10916
	$pass1 = $pass2 = '';pass1358,11037
		$pass1 = $_POST['pass1'];pass1360,11090
		$pass2 = $_POST['pass2'];pass2362,11148
	$errors = array ();errors392,12465
		$user_id = wp_update_user(get_object_vars($user));user_id438,14200
		$user_id = wp_insert_user(get_object_vars($user));user_id440,14263
function get_link_to_edit($link_id) {get_link_to_edit448,14379
	$link = get_link($link_id);link449,14417
function get_default_link_to_edit() {get_default_link_to_edit460,14761
function add_link() {add_link474,15058
function edit_link($link_id = '') {edit_link478,15105
	$auto_toggle = get_autotoggle($_POST['link_category']);auto_toggle487,15603
function url_shorten($url) {url_shorten504,16143
	$short_url = str_replace('http://', '', stripslashes($url));short_url505,16172
	$short_url = str_replace('www.', '', $short_url);short_url506,16234
		$short_url = substr($short_url, 0, -1);short_url508,16321
		$short_url = substr($short_url, 0, 32).'...';short_url510,16393
function selected($selected, $current) {selected514,16464
function checked($checked, $current) {checked519,16567
function return_categories_list($parent = 0) {return_categories_list524,16665
function sort_cats($cat1, $cat2) {sort_cats529,16855
function get_nested_categories($default = 0, $parent = 0) {get_nested_categories533,16951
		$checked_categories = $wpdb->get_col("checked_categories537,17061
	$cats = return_categories_list($parent);cats552,17449
	$result = array ();result553,17491
function write_nested_categories($categories) {write_nested_categories569,17858
function dropdown_categories($default = 0) {dropdown_categories581,18413
function cat_rows($parent = 0, $level = 0, $categories = 0) {cat_rows586,18568
		$categories = $wpdb->get_results("SELECT * FROM $wpdb->categories ORDER BY cat_name");categories590,18673
				$pad = str_repeat('&#8212; ', $level);pad596,18934
					$edit = "<a href='categories.php?action=edit&amp;cat_ID=$category->cat_ID' class='edit'>".__('Edit')."</a></td>";edit598,19028
					$default_cat_id = get_option('default_category');default_cat_id599,19147
					$edit = '';edit607,19809
				$class = ('alternate' == $class) ? '' : 'alternate';class609,19827
function page_rows($parent = 0, $level = 0, $pages = 0) {page_rows623,20241
		$pages = $wpdb->get_results("SELECT * FROM $wpdb->posts WHERE post_status = 'static' ORDER BY menu_order");pages626,20343
				$pad = str_repeat('&#8212; ', $level);pad633,20614
				$id = $post->ID;id634,20657
				$class = ('alternate' == $class) ? '' : 'alternate';class635,20678
function wp_dropdown_cats($currentcat = 0, $currentparent = 0, $parent = 0, $level = 0, $categories = 0) {wp_dropdown_cats659,21810
		$categories = $wpdb->get_results("SELECT * FROM $wpdb->categories ORDER BY cat_name");categories662,21963
				$count = $wpdb->get_var("SELECT COUNT(post_id) FROM $wpdb->post2cat WHERE category_id = $category->cat_ID");count667,22198
				$pad = str_repeat('&#8211; ', $level);pad668,22311
function link_category_dropdown($fieldname, $selected = 0) {link_category_dropdown682,22728
	$results = $wpdb->get_results("SELECT cat_id, cat_name, auto_toggle FROM $wpdb->linkcategories ORDER BY cat_id");results685,22806
function wp_create_thumbnail($file, $max_side, $effect = '') {wp_create_thumbnail699,23276
		$type = getimagesize($file);type704,23400
			$error = __('Filetype not supported. Thumbnail not created.');error710,23576
			$error = __('Filetype not supported. Thumbnail not created.');error713,23706
			$error = __('Filetype not supported. Thumbnail not created.');error716,23835
				$image = imagecreatefromgif($file);image721,23990
				$image = imagecreatefromjpeg($file);image724,24063
				$image = imagecreatefrompng($file);image727,24137
			$image_attr = getimagesize($file);image_attr733,24260
				$image_width = $image_attr[0];image_width738,24376
				$image_height = $image_attr[1];image_height739,24411
				$image_new_width = $max_side;image_new_width740,24447
				$image_ratio = $image_width / $image_new_width;image_ratio742,24482
				$image_new_height = $image_height / $image_ratio;image_new_height743,24534
				$image_width = $image_attr[0];image_width746,24624
				$image_height = $image_attr[1];image_height747,24659
				$image_new_height = $max_side;image_new_height748,24695
				$image_ratio = $image_height / $image_new_height;image_ratio750,24731
				$image_new_width = $image_width / $image_ratio;image_new_width751,24785
			$thumbnail = imagecreatetruecolor($image_new_width, $image_new_height);thumbnail755,24864
				$thumb = preg_replace('!(\.[^.]+)?$!', __('.thumbnail').'$1', basename($file), 1);thumb760,25233
			$thumbpath = str_replace(basename($file), $thumb, $file);thumbpath762,25321
					$error = __("Thumbnail path invalid");error767,25503
					$error = __("Thumbnail path invalid");error772,25632
					$error = __("Thumbnail path invalid");error777,25760
		$error = __('File not found');error783,25830
function has_meta($postid) {has_meta794,25968
function list_meta($meta) {list_meta805,26189
	$count = 0;count810,26278
			$style = 'alternate';style824,26521
			$style = '';style826,26553
function get_meta_keys() {get_meta_keys844,27272
	$keys = $wpdb->get_col("keys847,27315
function meta_form() {meta_form856,27448
	$keys = $wpdb->get_col("keys858,27486
function add_meta($post_ID) {add_meta895,28455
	$metakeyselect = $wpdb->escape(stripslashes(trim($_POST['metakeyselect'])));metakeyselect898,28501
	$metakeyinput = $wpdb->escape(stripslashes(trim($_POST['metakeyinput'])));metakeyinput899,28579
	$metavalue = $wpdb->escape(stripslashes(trim($_POST['metavalue'])));metavalue900,28655
			$metakey = $metakeyselect;metakey907,29025
			$metakey = $metakeyinput; // defaultmetakey910,29077
		$result = $wpdb->query("result912,29118
function delete_meta($mid) {delete_meta920,29294
	$result = $wpdb->query("DELETE FROM $wpdb->postmeta WHERE meta_id = '$mid'");result923,29339
function update_meta($mid, $mkey, $mvalue) {update_meta926,29421
function touch_time($edit = 1, $for_post = 1) {touch_time932,29603
		$edit = ( ('draft' == $post->post_status) && (!$post->post_date || '0000-00-00 00:00:00' == $post->post_date) ) ? false : true;edit936,29703
	$time_adj = time() + (get_settings('gmt_offset') * 3600);time_adj940,30013
	$post_date = ($for_post) ? $post->post_date : $comment->comment_date;post_date941,30072
	$jj = ($edit) ? mysql2date('d', $post_date) : gmdate('d', $time_adj);jj942,30143
	$mm = ($edit) ? mysql2date('m', $post_date) : gmdate('m', $time_adj);mm943,30214
	$aa = ($edit) ? mysql2date('Y', $post_date) : gmdate('Y', $time_adj);aa944,30285
	$hh = ($edit) ? mysql2date('H', $post_date) : gmdate('H', $time_adj);hh945,30356
	$mn = ($edit) ? mysql2date('i', $post_date) : gmdate('i', $time_adj);mn946,30427
	$ss = ($edit) ? mysql2date('s', $post_date) : gmdate('s', $time_adj);ss947,30498
			$ii = "0".$i;ii955,30742
			$ii = "$i";ii957,30770
function insert_with_markers($filename, $marker, $insertion) {insert_with_markers984,31731
			$markerdata = '';markerdata987,31886
			$markerdata = explode("\n", implode('', file($filename)));markerdata989,31918
		$f = fopen($filename, 'w');f992,31985
		$foundit = false;foundit993,32015
			$state = true;state995,32056
					$state = false;state998,32166
					$state = true;state1007,32478
					$foundit = true;foundit1008,32498
function extract_from_markers($filename, $marker) {extract_from_markers1028,32899
	$result = array ();result1029,32951
		$state = false;state1037,33095
				$state = false;state1040,33201
				$state = true;state1044,33314
function got_mod_rewrite() {got_mod_rewrite1051,33361
function save_mod_rewrite_rules() {save_mod_rewrite_rules1066,33664
	$home_path = get_home_path();home_path1068,33733
	$rules = explode("\n", $wp_rewrite->mod_rewrite_rules());rules1079,33989
function the_quicktags() {the_quicktags1083,34118
function edInsertContent(myField, myValue) {edInsertContent1094,34613
function validate_current_theme() {validate_current_theme1121,35343
	$theme_loc = 'wp-content/themes';theme_loc1122,35379
	$theme_root = ABSPATH.$theme_loc;theme_root1123,35414
	$template = get_settings('template');template1125,35450
	$stylesheet = get_settings('stylesheet');stylesheet1126,35489
function get_broken_themes() {get_broken_themes1145,36010
function get_page_templates() {get_page_templates1152,36114
	$themes = get_themes();themes1153,36146
	$theme = get_current_theme();theme1154,36171
	$templates = $themes[$theme]['Template Files'];templates1155,36202
	$page_templates = array ();page_templates1156,36251
			$template_data = implode('', file(ABSPATH.$template));template_data1160,36348
			$name = $name[1];name1164,36538
			$description = $description[1];description1165,36559
function page_template_dropdown($default = '') {page_template_dropdown1176,36717
	$templates = get_page_templates();templates1177,36766
			$selected = " selected='selected'";selected1180,36892
			$selected = '';selected1182,36938
function parent_dropdown($default = 0, $parent = 0, $level = 0) {parent_dropdown1187,37057
	$items = $wpdb->get_results("SELECT ID, post_parent, post_title FROM $wpdb->posts WHERE post_parent = $parent AND post_status = 'static' ORDER BY menu_order");items1189,37148
			$pad = str_repeat('&nbsp;', $level * 3);pad1199,37482
				$current = ' selected="selected"';current1201,37556
				$current = '';current1203,37603
function user_can_access_admin_page() {user_can_access_admin_page1213,37792
	$parent = get_admin_page_parent();parent1219,37906
function get_admin_page_title() {get_admin_page_title1255,38614
	$hook = get_plugin_page_hook($plugin_page, $pagenow);hook1266,38801
	$parent = $parent1 = get_admin_page_parent();parent1268,38857
					$title = $menu_array[3];title1273,39034
						$title = $menu_array[3];title1277,39201
						$title = $submenu_array[3];title1287,39463
							$title = $submenu_array[3];title1291,39763
function get_admin_page_parent() {get_admin_page_parent1302,39873
				$parent_file = $plugin_page;parent_file1316,40219
				$parent_file = $parent;parent_file1325,40425
					$parent_file = $parent;parent_file1329,40554
	$parent_file = '';parent_file1335,40618
function add_menu_page($page_title, $menu_title, $access_level, $file, $function = '') {add_menu_page1339,40653
	$file = plugin_basename($file);file1342,40777
	$hookname = get_plugin_page_hookname($file, '');hookname1348,40937
function add_submenu_page($parent, $page_title, $menu_title, $access_level, $file, $function = '') {add_submenu_page1355,41093
	$parent = plugin_basename($parent);parent1359,41228
	$file = plugin_basename($file);file1360,41265
	$hookname = get_plugin_page_hookname($file, $parent);hookname1376,41861
function add_options_page($page_title, $menu_title, $access_level, $file, $function = '') {add_options_page1383,42022
function add_management_page($page_title, $menu_title, $access_level, $file, $function = '') {add_management_page1387,42225
function add_theme_page($page_title, $menu_title, $access_level, $file, $function = '') {add_theme_page1391,42420
function validate_file($file, $allowed_files = '') {validate_file1395,42612
function validate_file_to_edit($file, $allowed_files = '') {validate_file_to_edit1408,42855
	$file = stripslashes($file);file1409,42916
	$code = validate_file($file, $allowed_files);code1411,42947
function get_home_path() {get_home_path1428,43379
	$home = get_settings('home');home1429,43406
		$home_path = parse_url($home);home_path1431,43493
		$home_path = $home_path['path'];home_path1432,43526
		$root = str_replace($_SERVER["PHP_SELF"], '', $_SERVER["SCRIPT_FILENAME"]);root1433,43561
		$home_path = trailingslashit($root.$home_path);home_path1434,43639
		$home_path = ABSPATH;home_path1436,43699
function get_real_file_to_edit($file) {get_real_file_to_edit1442,43750
		$real_file = get_home_path().$file;real_file1444,43843
		$real_file = ABSPATH.$file;real_file1446,43891
$wp_file_descriptions = array ('index.php' => __('Main Index Template'), 'style.css' => __('Stylesheet'), 'comments.php' => __('Comments'), 'comments-popup.php' => __('Popup Comments'), 'footer.php' => __('Footer'), 'header.php' => __('Header'), 'sidebar.php' => __('Sidebar'), 'archive.php' => __('Archives'), 'category.php' => __('Category Template'), 'page.php' => __('Page Template'), 'search.php' => __('Search Results'), 'single.php' => __('Single Post'), '404.php' => __('404 Template'), 'my-hacks.php' => __('my-hacks.php (legacy hacks support)'), '.htaccess' => __('.htaccess (for rewrite rules)'),wp_file_descriptions1452,43948
function get_file_description($file) {get_file_description1456,44721
		$template_data = implode('', file(ABSPATH.$file));template_data1463,44938
function update_recently_edited($file) {update_recently_edited1471,45109
	$oldfiles = (array) get_option('recently_edited');oldfiles1472,45150
		$oldfiles = array_reverse($oldfiles);oldfiles1474,45220
		$oldfiles = array_reverse($oldfiles);oldfiles1476,45283
		$oldfiles = array_unique($oldfiles);oldfiles1477,45323
function get_plugin_data($plugin_file) {get_plugin_data1486,45500
	$plugin_data = implode('', file($plugin_file));plugin_data1487,45541
		$version = trim($version[1]);version1494,45961
		$version = '';version1496,45999
	$description = wptexturize(trim($description[1]));description1498,46017
	$name = $plugin_name[1];name1500,46070
	$name = trim($name);name1501,46096
	$plugin = $name;plugin1502,46118
		$plugin = '<a href="' . trim($plugin_uri[1]) . '" title="'.__('Visit plugin homepage').'">'.$plugin.'</a>';plugin1504,46180
		$author = trim($author_name[1]);author1508,46323
		$author = '<a href="' . trim($author_uri[1]) . '" title="'.__('Visit author homepage').'">' . trim($author_name[1]) . '</a>';author1510,46368
function get_plugins() {get_plugins1516,46659
	$wp_plugins = array ();wp_plugins1523,46760
	$plugin_loc = 'wp-content/plugins';plugin_loc1524,46785
	$plugin_root = ABSPATH.$plugin_loc;plugin_root1525,46822
	$plugins_dir = @ dir($plugin_root);plugins_dir1528,46902
				$plugins_subdir = @ dir($plugin_root.'/'.$file);plugins_subdir1534,47105
		$plugin_data = get_plugin_data("$plugin_root/$plugin_file");plugin_data1560,47697
function get_plugin_page_hookname($plugin_page, $parent_page) {get_plugin_page_hookname1572,47906
	$parent = get_admin_page_parent();parent1575,47998
			$page_type = 'toplevel';page_type1579,48142
				$page_type = $admin_page_hooks[$parent];page_type1582,48220
			$page_type = $admin_page_hooks[$parent_page];page_type1585,48322
			$page_type = 'admin';page_type1587,48382
	$plugin_name = preg_replace('!\.php!', '', $plugin_page);plugin_name1590,48412
function get_plugin_page_hook($plugin_page, $parent_page) {get_plugin_page_hook1595,48517
	$hook = get_plugin_page_hookname($plugin_page, $parent_page);hook1598,48598
function browse_happy() {browse_happy1605,48731
	$getit = __('WordPress recommends a better browser');getit1606,48757
function documentation_link($for) {documentation_link1614,49081
function register_importer($id, $name, $description, $callback) {register_importer1618,49129
function get_importers() {get_importers1624,49284
function current_theme_info() {current_theme_info1630,49361
	$themes = get_themes();themes1631,49393
	$current_theme = get_current_theme();current_theme1632,49418
function wp_handle_upload(&$file, $overrides = false) {wp_handle_upload1653,50526
		function wp_handle_upload_error(&$file, $message) {wp_handle_upload_error1656,50666
	$upload_error_handler = 'wp_handle_upload_error';upload_error_handler1662,50857
	$action = 'wp_handle_upload';action1665,50997
	$upload_error_strings = array(false,upload_error_strings1668,51135
	$test_form = true;test_form1677,51645
	$test_size = true;test_size1678,51665
	$test_type = true;test_type1681,51748
		$wp_filetype = wp_check_filetype($file['name'], $mimes);wp_filetype1705,52832
		$filename = $unique_filename_callback($uploads['path'], $file['name']);filename1719,53499
		$number = '';number1721,53583
		$filename = str_replace('#', '_', $file['name']);filename1722,53599
		$filename = str_replace(array('\\', "'"), '', $filename);filename1723,53651
			$ext = '';ext1725,53732
			$ext = ".$ext";ext1727,53753
				$filename = $filename . ++$number . $ext;filename1730,53861
				$filename = str_replace("$number$ext", ++$number . $ext, $filename);filename1732,53915
		$filename = str_replace($ext, '', $filename);filename1734,53992
		$filename = sanitize_title_with_dashes($filename) . $ext;filename1735,54040
	$new_file = $uploads['path'] . "/$filename";new_file1739,54141
	$stat = stat(dirname($new_file));stat1744,54371
	$perms = $stat['mode'] & 0000666;perms1745,54406
	$url = $uploads['url'] . "/$filename";url1749,54491
function wp_shrink_dimensions($width, $height, $wmax = 128, $hmax = 96) {wp_shrink_dimensions1754,54603
function wp_import_cleanup($id) {wp_import_cleanup1763,54922
function wp_import_upload_form($action) {wp_import_upload_form1767,54987
function cancelUpload() {cancelUpload1770,55064
function wp_import_handle_upload() {wp_import_handle_upload1788,55625
	$overrides = array('test_form' => false, 'test_type' => false);overrides1789,55662
	$file = wp_handle_upload($_FILES['import'], $overrides);file1790,55727
	$url = $file['url'];url1795,55833
	$file = $file['file'];file1796,55855
	$filename = basename($file);filename1797,55879
	$object = array(object1800,55941
	$id = wp_insert_attachment($object, $file);id1808,56086
function user_can_richedit() {user_can_richedit1813,56180
function the_attachment_links($id = false) {the_attachment_links1823,56412
	$id = (int) $id;id1824,56457
	$post = & get_post($id);post1825,56475
	$icon = get_attachment_icon($post->ID);icon1830,56562
function get_udims($width, $height) {get_udims1846,57692

weblog/wp-admin/admin-header.php,264
	$dbx_js = true;dbx_js5,176
		$cat_js = true;cat_js7,239
	$sack_js = true;sack_js10,286
function addLoadEvent(func) {if ( typeof wpOnload!='function'){wpOnload=func;}else{ var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}}addLoadEvent21,924

weblog/wp-admin/admin.php,935
$posts_per_page = get_settings('posts_per_page');posts_per_page22,567
$what_to_show = get_settings('what_to_show');what_to_show23,617
$date_format = get_settings('date_format');date_format24,663
$time_format = get_settings('time_format');time_format25,707
$wpvarstoreset = array('profile','redirect','redirect_url','a','popuptitle','popupurl','text', 'trackback', 'pingback');wpvarstoreset27,752
    $wpvar = $wpvarstoreset[$i];wpvar29,921
$xfn_js = $sack_js = $list_js = $cat_js = $dbx_js = $editing = false;xfn_js43,1246
	$plugin_page = stripslashes($_GET['page']);plugin_page46,1345
	$plugin_page = plugin_basename($plugin_page);plugin_page47,1390
	$page_hook = get_plugin_page_hook($plugin_page, $pagenow);page_hook54,1539
	$importer = $_GET['import'];importer80,2219
	$parent_file = 'import.php';parent_file94,2564
	$title = __('Import');title95,2594
	define('WP_IMPORTING', true);WP_IMPORTING102,2769

weblog/wp-admin/bookmarklet.php,561
$mode = 'bookmarklet';mode2,6
$post = get_default_post_to_edit();post24,428
$popuptitle = wp_specialchars(stripslashes($popuptitle));popuptitle26,465
$text       = wp_specialchars(stripslashes(urldecode($text)));text27,523
$popuptitle = funky_javascript_fix($popuptitle);popuptitle29,588
$text       = funky_javascript_fix($text);text30,637
$post_title = wp_specialchars($_REQUEST['post_title']);post_title32,682
$content  = wp_specialchars($_REQUEST['content']);content39,856
$popupurl = wp_specialchars($_REQUEST['popupurl']);popupurl40,907

weblog/wp-admin/cat-js.php,458
function newCatAddIn() {newCatAddIn8,164
function getResponseElement() {getResponseElement40,1106
function newCatLoading() {newCatLoading50,1337
function newCatLoaded() {newCatLoaded55,1465
function newCatInteractive() {newCatInteractive60,1589
function newCatCompletion() {newCatCompletion65,1727
function ajaxNewCatKeyPress(e) {ajaxNewCatKeyPress126,3542
function ajaxNewCat() {ajaxNewCat142,3770
function myPload( str ) {myPload157,4267

weblog/wp-admin/categories.php,484
$title = __('Categories');title4,34
$parent_file = 'edit.php';parent_file5,61
$list_js = true;list_js6,88
$wpvarstoreset = array('action','cat');wpvarstoreset8,106
    $wpvar = $wpvarstoreset[$i];wpvar10,194
	$cat_ID = (int) $_GET['cat_ID'];cat_ID39,778
	$cat_name = get_catname($cat_ID);cat_name45,948
    $cat_ID = (int) $_GET['cat_ID'];cat_ID60,1310
    $category = get_category_to_edit($cat_ID);category61,1347
	$cat_ID = (int) $_POST['cat_ID'];cat_ID100,3048

weblog/wp-admin/edit-comments.php,1638
$title = __('Edit Comments');title4,34
$parent_file = 'edit.php';parent_file5,64
$list_js = true;list_js6,91
function checkAll(form)checkAll15,274
	$i = 0;i44,1293
		$comment = (int) $comment;comment46,1386
		$post_id = $wpdb->get_var("SELECT comment_post_ID FROM $wpdb->comments WHERE comment_ID = $comment");post_id47,1415
		$authordata = get_userdata( $wpdb->get_var("SELECT post_author FROM $wpdb->posts WHERE ID = $post_id") );authordata48,1519
	$s = $wpdb->escape($_GET['s']);s58,1876
	$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments  WHEREcomments59,1909
		$offset = (int) $_GET['offset'] * 20;offset69,2264
		$offset = 0;offset71,2310
	$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_approved = '0' OR comment_approved = '1' ORDER BY comment_date DESC LIMIT $offset,20");comments73,2326
			$start = " start='$offset'";start78,2549
			$start = '';start80,2588
		$i = 0;i83,2661
		$authordata = get_userdata($wpdb->get_var("SELECT post_author FROM $wpdb->posts WHERE ID = $comment->comment_post_ID"));authordata86,2728
			$comment_status = wp_get_comment_status($comment->comment_ID);comment_status87,2851
				$post_title = $wpdb->get_var("SELECT post_title FROM $wpdb->posts WHERE ID = $comment->comment_post_ID");post_title105,4480
				$post_title = ('' == $post_title) ? "# $comment->comment_post_ID" : $post_title;post_title106,4590
		$authordata = get_userdata($wpdb->get_var("SELECT post_author FROM $wpdb->posts WHERE ID = $comment->comment_post_ID"));authordata141,5722
		$class = ('alternate' == $class) ? '' : 'alternate';class142,5845

weblog/wp-admin/import.php,601
$title = __('Import');title3,34
$parent_file = 'import.php';parent_file4,57
$import_loc = 'wp-admin/import';import_loc15,408
$import_root = ABSPATH.$import_loc;import_root16,441
$imports_dir = @ dir($import_root);imports_dir17,477
$importers = get_importers();importers27,716
	$style = '';style36,926
		$style = ('class="alternate"' == $style || 'class="alternate active"' == $style) ? '' : 'alternate';style38,980
		$action = "<a href='admin.php?import=$id' title='".wptexturize(strip_tags($data[1]))."'>{$data[0]}</a>";action39,1083
			$style = 'class="'.$style.'"';style42,1211

weblog/wp-admin/edit.php,1104
$title = __('Posts');title4,34
$parent_file = 'edit.php';parent_file5,56
$list_js = true;list_js6,83
$drafts = get_users_drafts( $user_ID );drafts11,167
$other_drafts = get_others_drafts( $user_ID);other_drafts12,207
	$i = 0;i20,396
	$i = 0;i37,880
$what_to_show = 'posts';what_to_show58,1317
$posts_per_page = 15;posts_per_page59,1342
$posts_per_archive_page = -1;posts_per_archive_page60,1364
			$arc_year  = $arc_row->yyear;arc_year97,2585
			$arc_month = $arc_row->mmonth;arc_month98,2618
				$default = 'selected="selected"';default101,2741
				$default = null;default103,2787
$posts_columns = array(posts_columns122,3215
$posts_columns = apply_filters('manage_posts_columns', $posts_columns);posts_columns130,3432
$bgcolor = '';bgcolor149,3900
$class = ('alternate' == $class) ? '' : 'alternate';class151,3955
	$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_post_ID = $id AND comment_approved != 'spam' ORDER BY comment_date");comments248,6244
$comment_status = wp_get_comment_status($comment->comment_ID);comment_status255,6508

weblog/wp-admin/edit-form-ajax-cat.php,307
function get_out_now() { exit; }get_out_now11,208
$names = explode(',', rawurldecode($_POST['ajaxnewcat']) );names15,286
$ids   = array();ids16,346
	$cat_name = trim( $cat_name );cat_name19,397
	$new_cat_id = wp_create_category($cat_name);new_cat_id28,594
$return = join(',', $ids);return33,677

weblog/wp-admin/edit-form-comment.php,570
$submitbutton_text = __('Edit Comment &raquo;');submitbutton_text2,6
$toprow_title = sprintf(__('Editing Comment # %s'), $comment->comment_ID);toprow_title3,55
$form_action = 'editedcomment';form_action4,130
$form_extra = "' />\n<input type='hidden' name='comment_ID' value='" . $comment->comment_ID . "' />\n<input type='hidden' name='comment_post_ID' value='".$comment->comment_post_ID;form_extra5,162
function focusit() { // focus on first input fieldfocusit15,683
 $rows = get_settings('default_post_edit_rows');rows44,1650
     $rows = 10;rows46,1736

weblog/wp-admin/edit-form.php,158
function focusit() { // focus on first input fieldfocusit14,406
 $rows = get_settings('default_post_edit_rows');rows37,1364
     $rows = 10;rows39,1450

weblog/wp-admin/edit-link-form.php,758
	$editing = true;editing3,33
	$heading = __('Edit a link:');heading4,51
	$submit_text = __('Save Changes &raquo;');submit_text5,83
	$form = '<form action="" method="post" name="editlink" id="editlink">'; form6,127
	$nonce_action = 'update-bookmark_' . $link_id;nonce_action7,201
	$editing = false;editing9,258
	$heading = __('<strong>Add</strong> a link:');heading10,277
	$submit_text = __('Add Link &raquo;');submit_text11,325
	$form = '<form name="addlink" method="post" action="link-manager.php">';form12,365
	$nonce_action = 'add-bookmark';nonce_action13,439
function xfn_check($class, $value = '', $type = 'check') {xfn_check16,475
	$link_rel = $link->link_rel;link_rel19,550
	$rels = preg_split('/\s+/', $link_rel);rels20,580

weblog/wp-admin/edit-page-form.php,1216
	$form_action = 'post';form_action7,237
	$nonce_action = 'add-post';nonce_action8,261
	$temp_ID = -1 * time();temp_ID9,290
	$form_extra = "<input type='hidden' name='temp_ID' value='$temp_ID' />";form_extra10,315
	$form_action = 'editpost';form_action12,398
	$nonce_action = 'update-post_' . $post_ID;nonce_action13,426
	$form_extra = "<input type='hidden' id='post_ID' name='post_ID' value='$post_ID' />";form_extra14,470
$sendto = wp_get_referer();sendto17,560
 	$sendto = 'redo';sendto20,648
$sendto = wp_specialchars( $sendto );sendto21,668
function focusit() { // focus on first input fieldfocusit41,1221
$o = get_userdata( $o->ID );o99,3548
 $rows = get_settings('default_post_edit_rows');rows129,4498
     $rows = 10;rows131,4584
	$uploading_iframe_ID = (0 == $post_ID ? $temp_ID : $post_ID);uploading_iframe_ID192,6586
	$uploading_iframe_src = wp_nonce_url("inline-uploading.php?action=view&amp;post=$uploading_iframe_ID", 'inlineuploading');uploading_iframe_src193,6649
	$uploading_iframe_src = apply_filters('uploading_iframe_src', $uploading_iframe_src);uploading_iframe_src194,6773
	$delete_nonce = wp_create_nonce( 'delete-page_' . $post_ID ); ?>delete_nonce224,7474

weblog/wp-admin/edit-pages.php,328
$title = __('Pages');title3,33
$parent_file = 'edit.php';parent_file4,55
$list_js = true;list_js5,82
$show_post_type = 'page';show_post_type23,796
	$posts = $wpdb->get_results("SELECT * FROM $wpdb->posts WHERE post_status = 'static'");posts28,860
	$class = ('alternate' != $class) ? 'alternate' : ''; ?>class45,1378

weblog/wp-admin/list-manipulation.php,390
function grab_results() {grab_results12,232
	$ajax_results = func_get_arg(0);ajax_results14,281
function get_out_now() { exit; }get_out_now17,318
	$id = (int) $_POST['id'];id22,446
	$id = (int) $_POST['id'];id32,637
	$id = (int) $_POST['id'];id45,877
	$cat_name = get_catname($cat_ID);cat_name46,904
	$id = (int) $_POST['id'];id53,1032
	$id = (int) $_POST['id'];id67,1315

weblog/wp-admin/execute-pings.php,147
$trackbacks = $wpdb->get_results("SELECT ID FROM $wpdb->posts WHERE CHAR_LENGTH(TRIM(to_ping)) > 7 AND post_status != 'draft'");trackbacks18,790

weblog/wp-admin/index.php,1010
$title = __('Dashboard'); title3,34
$today = current_time('mysql', 1);today7,151
$rss = @fetch_rss('http://feeds.technorati.com/cosmos/rss/?url='. trailingslashit(get_option('home')) .'&partner=wordpress');rss18,315
$comments = $wpdb->get_results("SELECT comment_author, comment_author_url, comment_ID, comment_post_ID FROM $wpdb->comments WHERE comment_approved = '1' ORDER BY comment_date_gmt DESC LIMIT 5");comments35,975
$numcomments = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_approved = '0'");numcomments36,1170
$numposts = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->posts WHERE post_status = 'publish'");numposts101,3296
$numcomms = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_approved = '1'");numcomms104,3450
$numcats = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->categories");numcats107,3605
$rss = @fetch_rss('http://wordpress.org/development/feed/');rss129,4877
$rss = @fetch_rss('http://planet.wordpress.org/feed/');rss146,5413

weblog/wp-admin/inline-uploading.php,5376
$wpvarstoreset = array('action', 'post', 'all', 'last', 'link', 'sort', 'start', 'imgtitle', 'descr', 'attachment');wpvarstoreset10,207
	$wpvar = $wpvarstoreset[$i];wpvar13,373
$post = (int) $post;post27,610
$images_width = 1;images_width28,631
$overrides = array('action'=>'save');overrides51,1165
$file = wp_handle_upload($_FILES['image'], $overrides);file53,1204
$url = $file['url'];url58,1431
$type = $file['type'];type59,1452
$file = $file['file'];file60,1475
$filename = basename($file);filename61,1498
$attachment = array(attachment64,1562
$id = wp_insert_attachment($attachment, $file, $post);id74,1785
	$imagesize = getimagesize($file);imagesize78,1945
			$thumb = wp_create_thumbnail($file, 128);thumb89,2463
			$thumb = wp_create_thumbnail($file, 96);thumb91,2547
			$newdata = $imagedata;newdata94,2624
			$error = $thumb;error98,2777
$current_1 = ' class="current"';current_1110,2975
$back = $next = false;back111,3008
$num = 5;num117,3106
$double = $num * 2;double118,3116
	$and_post = "AND post_parent = '$post'";and_post121,3188
	$current_2 = ' class="current"';current_2122,3230
	$current_3 = ' class="current"';current_3124,3273
	$and_user = "AND post_author = " . $user_ID;and_user128,3356
	$start = $wpdb->get_var("SELECT count(ID) FROM $wpdb->posts WHERE post_status = 'attachment' $and_user $and_post") - $num;start131,3416
	$start = (int) $start;start133,3545
	$start = 0;start136,3588
	$sort = "post_date_gmt DESC";sort139,3621
$attachments = $wpdb->get_results("SELECT ID, post_date, post_title, post_mime_type, guid FROM $wpdb->posts WHERE post_status = 'attachment' $and_type $and_post $and_user ORDER BY $sort LIMIT $start, $double", ARRAY_A);attachments141,3653
	$next = $start + count($attachments) - $num;next147,4021
	$next = false;next149,4076
	$back = $start - $num;back153,4115
		$back = '0';back155,4157
	$back = false;back157,4181
$uwidth_sum = 0;uwidth_sum160,4200
$html = '';html161,4217
$popups = '';popups162,4229
$style = '';style163,4243
$script = '';script164,4256
	$attachments = array_slice( $attachments, 0, $num );attachments166,4303
	$__delete = __('Delete');__delete167,4357
	$__not_linked = __('Not Linked');__not_linked168,4384
	$__linked_to_page = __('Linked to Page');__linked_to_page169,4419
	$__linked_to_image = __('Linked to Image');__linked_to_image170,4462
	$__linked_to_file = __('Linked to File');__linked_to_file171,4507
	$__using_thumbnail = __('Using Thumbnail');__using_thumbnail172,4550
	$__using_original = __('Using Original');__using_original173,4595
	$__using_title = __('Using Title');__using_title174,4638
	$__using_filename = __('Using Filename');__using_filename175,4675
	$__using_icon = __('Using Icon');__using_icon176,4718
	$__no_thumbnail = '<del>'.__('No Thumbnail').'</del>';__no_thumbnail177,4753
	$__send_to_editor = __('Send to editor');__send_to_editor178,4809
	$__close = __('Close Options');__close179,4852
	$__confirmdelete = __('Delete this file from the server?');__confirmdelete180,4885
	$__nothumb = __('There is no thumbnail associated with this photo.');__nothumb181,4946
		$ID = $attachment['ID'];ID202,5613
		$href = get_attachment_link($ID);href203,5640
		$meta = get_post_meta($ID, '_wp_attachment_metadata', true);meta204,5676
			$meta = get_post_meta($ID, 'imagedata', true); // Try 1.6 Alpha meta keymeta206,5765
				$meta = array();meta208,5868
		$attachment = array_merge($attachment, $meta);attachment212,5955
		$noscript = "<noscript>noscript213,6004
		$send_delete_cancel = "<a onclick=\"sendToEditor({$ID});return false;\" href=\"javascript:void()\">$__send_to_editor</a>send_delete_cancel217,6213
			$image = & $attachment;image223,6743
				$src = str_replace(basename($image['guid']), $image['thumb'], $image['guid']);src225,6918
				$thumb = 'true';thumb229,7076
				$thumbtext = $__using_thumbnail;thumbtext230,7097
				$src = $image['guid'];src232,7146
				$thumb = 'false';thumb233,7173
				$thumbtext = $__no_thumbnail;thumbtext234,7195
			$height_width = 'height="'.$image['uheight'].'" width="'.$image['uwidth'].'"';height_width237,7327
			$xpadding = (128 - $image['uwidth']) / 2;xpadding238,7409
			$ypadding = (96 - $image['uheight']) / 2;ypadding239,7454
			$title = wp_specialchars($image['post_title'], ENT_QUOTES);title241,7576
			$title = wp_specialchars($attachment['post_title'], ENT_QUOTES);title261,8684
			$filename = basename($attachment['guid']);filename262,8752
			$icon = get_attachment_icon($ID);icon263,8798
			$toggle_icon = "<a id=\"I{$ID}\" onclick=\"toggleOtherIcon({$ID});return false;\" href=\"javascript:void()\">$__using_title</a>";toggle_icon264,8835
$images_width = $uwidth_sum + ( count($images) * 6 ) + 35;images_width289,9981
function htmldecode(st) {htmldecode308,10623
function cancelUpload() {cancelUpload318,10815
function doPopup(i) {doPopup324,10945
function selectLink(n) {selectLink334,11247
function toggleLink(n) {toggleLink344,11567
function toggleOtherLink(n) {toggleOtherLink355,11858
function toggleImage(n) {toggleImage364,12073
function toggleOtherIcon(n) {toggleOtherIcon373,12287
function updateImage(n) {updateImage388,12765
function updateOtherIcon(n) {updateOtherIcon405,13218
function sendToEditor(n) {sendToEditor429,13934

weblog/wp-admin/install-helper.php,918
$debug = 0;debug3,40
function maybe_create_table($table_name, $create_ddl) {maybe_create_table11,221
    $q = $wpdb->query($create_ddl);q19,471
function maybe_add_column($table_name, $column_name, $create_ddl) {maybe_add_column35,898
    $q = $wpdb->query($create_ddl);q44,1244
function maybe_drop_column($table_name, $column_name, $drop_ddl) {maybe_drop_column61,1681
            $q = $wpdb->query($drop_ddl);q66,1909
function check_column($table_name, $col_name, $col_type, $is_null = null, $key = null, $default = null, $extra = null) {check_column94,2604
    $diffs = 0;diffs96,2751
    $results = $wpdb->get_results("DESC $table_name");results97,2767
$error_count = 0;error_count136,4014
$tablename = $wpdb->links;tablename137,4032
    $ddl = "ALTER TABLE $wpdb->links MODIFY COLUMN link_description varchar(255) NOT NULL DEFAULT '' ";ddl141,4150
    $q = $wpdb->query($ddl);q142,4254

weblog/wp-admin/install.php,1210
define('WP_INSTALLING', true);WP_INSTALLING2,6
$schema = ( isset($_SERVER['HTTPS']) && strtolower($_SERVER['HTTPS']) == 'on' ) ? 'https://' : 'http://';schema9,543
$guessurl = str_replace('/wp-admin/install.php?step=2', '', $schema . $_SERVER['HTTP_HOST'] . dirname($_SERVER['PHP_SELF']) );guessurl10,649
	$step = $_GET['step'];step13,803
	$step = 0;step15,832
$installed = $wpdb->get_results("SELECT * FROM $wpdb->users");installed81,2104
$weblog_title = stripslashes($_POST['weblog_title']);weblog_title122,3610
$admin_email = stripslashes($_POST['admin_email']);admin_email123,3664
$now = date('Y-m-d H:i:s');now162,6052
$now_gmt = gmdate('Y-m-d H:i:s');now_gmt163,6080
$random_password = substr(md5(uniqid(microtime())), 0, 6);random_password177,7948
$display_name_array = explode('@', $admin_email);display_name_array178,8007
$display_name = $display_name_array[0];display_name179,8057
$admin_caps = serialize(array('administrator' => true));admin_caps182,8463
$message_headers = 'From: ' . $weblog_title . ' <wordpress@' . $_SERVER['SERVER_NAME'] . '>';message_headers185,8675
$message = sprintf(__("Your new WordPress blog has been successfully set up at:message186,8769

weblog/wp-admin/link-add.php,352
$title = __('Add Link');title4,34
$this_file = 'link-manager.php';this_file5,59
$parent_file = 'link-manager.php';parent_file6,92
$wpvarstoreset = array('action', 'cat_id', 'linkurl', 'name', 'image',wpvarstoreset9,129
    $wpvar = $wpvarstoreset[$i];wpvar14,461
$xfn_js = true;xfn_js28,786
	$link = get_default_link_to_edit();link37,969

weblog/wp-admin/link-categories.php,3201
$title = __('Link Categories');title5,99
$this_file='link-categories.php';this_file6,131
$parent_file = 'link-manager.php';parent_file7,165
$list_js = true;list_js8,200
$wpvarstoreset = array('action', 'cat', 'auto_toggle');wpvarstoreset10,218
    $wpvar = $wpvarstoreset[$i];wpvar12,322
      $cat_name = wp_specialchars($_POST['cat_name']);cat_name34,821
      $auto_toggle = $_POST['auto_toggle'];auto_toggle35,876
          $auto_toggle = 'N';auto_toggle37,953
      $show_images = $_POST['show_images'];show_images40,992
          $show_images = 'N';show_images42,1069
      $show_description = $_POST['show_description'];show_description45,1108
          $show_description = 'N';show_description47,1200
      $show_rating = $_POST['show_rating'];show_rating50,1244
          $show_rating = 'N';show_rating52,1321
      $show_updated = $_POST['show_updated'];show_updated55,1360
          $show_updated = 'N';show_updated57,1440
      $sort_order = $_POST['sort_order'];sort_order60,1480
      $sort_desc = $_POST['sort_desc'];sort_desc62,1523
          $sort_desc = 'N';sort_desc64,1594
      $text_before_link = $_POST['text_before_link'];text_before_link66,1630
      $text_after_link = $_POST['text_after_link'];text_after_link67,1684
      $text_after_all = $_POST['text_after_all'];text_after_all68,1736
      $list_limit = $_POST['list_limit'];list_limit70,1787
          $list_limit = -1;list_limit72,1858
   	$cat_id = (int) $_GET['cat_id'];cat_id85,2511
    $cat_name=get_linkcatname($cat_id);cat_name88,2609
    $cat_id = (int) $_GET['cat_id'];cat_id105,3165
    $row = $wpdb->get_row("SELECT cat_id, cat_name, auto_toggle, show_images, show_description, "row106,3202
    $cat_id = (int)$_POST["cat_id"];cat_id207,7865
    $submit=$_POST["submit"];submit213,8042
    $cat_name= wp_specialchars($_POST["cat_name"]);cat_name216,8099
    $auto_toggle = $_POST["auto_toggle"];auto_toggle217,8151
        $auto_toggle = 'N';auto_toggle219,8224
    $show_images = $_POST["show_images"];show_images222,8259
        $show_images = 'N';show_images224,8332
    $show_description = $_POST["show_description"];show_description227,8367
        $show_description = 'N';show_description229,8455
    $show_rating = $_POST["show_rating"];show_rating232,8495
        $show_rating = 'N';show_rating234,8568
    $show_updated = $_POST["show_updated"];show_updated237,8603
        $show_updated = 'N';show_updated239,8679
    $sort_order = $_POST["sort_order"];sort_order242,8715
    $sort_desc = $_POST["sort_desc"];sort_desc244,8756
        $sort_desc = 'N';sort_desc246,8823
    $text_before_link = $_POST["text_before_link"];text_before_link248,8855
    $text_after_link = $_POST["text_after_link"];text_after_link249,8907
    $text_after_all = $_POST["text_after_all"];text_after_all250,8957
    $list_limit = $_POST["list_limit"];list_limit252,9006
        $list_limit = -1;list_limit254,9073
$results = $wpdb->get_results("SELECT cat_id, cat_name, auto_toggle, show_images, show_description, "results308,11360
$i = 1;i311,11648
    $style = ($i % 2) ? ' class="alternate"' : '';style316,11764

weblog/wp-admin/link-import.php,1271
$parent_file = 'link-manager.php';parent_file6,94
$title = __('Import Blogroll');title7,129
$this_file = 'link-import.php';this_file8,161
$step = $_POST['step'];step10,194
        $opmltype = 'blogrolling'; // default.opmltype21,421
$categories = $wpdb->get_results("SELECT cat_id, cat_name, auto_toggle FROM $wpdb->linkcategories ORDER BY cat_id");categories49,1508
                $cat_id = $_POST['cat_id'];cat_id77,2287
                    $cat_id  = 1;cat_id79,2388
                $opml_url = $_POST['opml_url'];opml_url82,2441
					$blogrolling = true;blogrolling84,2574
					$overrides = array('test_form' => false, 'test_type' => false);overrides88,2676
					$file = wp_handle_upload($_FILES['userfile'], $overrides);file89,2745
					$url = $file['url'];url94,2872
					$opml_url = $file['file'];opml_url95,2898
					$blogrolling = false;blogrolling96,2930
                    $opml = wp_remote_fopen($opml_url);opml100,3023
                    $link_count = count($names);link_count103,3137
                        $query = "INSERT INTO $wpdb->links (link_url, link_name, link_target, link_category, link_description, link_owner, link_rss)query110,3524
                        $result = $wpdb->query($query);result112,3843

weblog/wp-admin/link-manager.php,3846
$title = __('Manage Links');title7,101
$this_file = $parent_file = 'link-manager.php';this_file8,130
$list_js = true;list_js9,178
$wpvarstoreset = array('action','cat_id', 'linkurl', 'name', 'image',wpvarstoreset11,196
    $wpvar = $wpvarstoreset[$i];wpvar17,528
$links_show_cat_id = $_COOKIE['links_show_cat_id_' . COOKIEHASH];links_show_cat_id31,853
$links_show_order = $_COOKIE['links_show_order_' . COOKIEHASH];links_show_order32,919
    $all_links = join(',', $linkcheck);all_links55,1626
    $results = $wpdb->get_results("SELECT link_id, link_owner FROM $wpdb->links LEFT JOIN $wpdb->users ON link_owner = ID WHERE link_id in ($all_links)");results56,1666
    $all_links = join(',', $ids_to_change);all_links62,1957
    $q = $wpdb->query("update $wpdb->links SET link_owner='$newowner' WHERE link_id IN ($all_links)");q63,2001
    $all_links = join(',', $linkcheck);all_links81,2492
    $results = $wpdb->get_results("SELECT link_id, link_visible FROM $wpdb->links WHERE link_id in ($all_links)");results82,2532
        $all_linksoff = join(',', $ids_to_turnoff);all_linksoff93,2952
        $q = $wpdb->query("update $wpdb->links SET link_visible='N' WHERE link_id IN ($all_linksoff)");q94,3004
        $all_linkson = join(',', $ids_to_turnon);all_linkson98,3148
        $q = $wpdb->query("update $wpdb->links SET link_visible='Y' WHERE link_id IN ($all_linkson)");q99,3198
    $all_links = join(',', $linkcheck);all_links118,3698
    $q = $wpdb->query("update $wpdb->links SET link_category='$category' WHERE link_id IN ($all_links)");q120,3793
	$link_id = (int) $_POST['link_id'];link_id138,4120
		$cat_id = $links_show_cat_id;cat_id142,4275
			$cat_id = 'All';cat_id146,4415
	$links_show_cat_id = $cat_id;links_show_cat_id148,4438
	$link_id = (int) $_GET['link_id'];link_id159,4654
        $cat_id = $links_show_cat_id;cat_id168,4917
        $cat_id = 'All';cat_id172,5072
    $links_show_cat_id = $cat_id;links_show_cat_id174,5103
	$xfn_js = true;xfn_js181,5299
	$link_id = (int) $_GET['link_id'];link_id186,5482
        $cat_id = 'All';cat_id198,5797
    $links_show_cat_id = $cat_id;links_show_cat_id200,5828
        $order_by = 'order_name';order_by203,5980
    $links_show_order = $order_by;links_show_order205,6020
    $link_url = stripslashes($_GET["linkurl"]);link_url210,6117
    $link_name = stripslashes($_GET["name"]);link_name211,6165
        $cat_id = $links_show_cat_id;cat_id217,6321
        $cat_id = 'All';cat_id221,6476
    $links_show_cat_id = $cat_id;links_show_cat_id223,6507
        $order_by = $links_show_order;order_by225,6604
        $order_by = 'order_name';order_by228,6692
    $links_show_order = $order_by;links_show_order229,6726
function checkAll(form)checkAll252,7622
    $results = $wpdb->get_results("SELECT cat_id, cat_name, auto_toggle FROM $wpdb->linkcategories ORDER BY cat_id");results281,8264
    $sql = "SELECT link_url, link_name, link_image, link_description, link_visible,sql338,10847
    $links = $wpdb->get_results($sql);links351,11446
            $short_url = str_replace('http://', '', $link->link_url);short_url358,11820
            $short_url = str_replace('www.', '', $short_url);short_url359,11890
                $short_url = substr($short_url, 0, -1);short_url361,11999
                $short_url =  substr($short_url, 0, 32).'...';short_url363,12096
            $image = ($link->link_image != null) ? __('Yes') : __('No');image365,12160
            $visible = ($link->link_visible == 'Y') ? __('Yes') : __('No');visible366,12233
            $style = ($i % 2) ? '' : ' class="alternate"';style368,12327
            $show_buttons = 1; // defaultshow_buttons381,12929
    $results = $wpdb->get_results("SELECT ID, user_login FROM $wpdb->users ORDER BY ID");results409,14249

weblog/wp-admin/link-parse-opml.php,276
$opml_map = array('URL'         => 'link_url',opml_map6,178
$map = $opml_map;map15,523
function startElement($parser, $tagName, $attrs) {startElement21,631
function endElement($parser, $tagName) {endElement47,1432
$xml_parser = xml_parser_create();xml_parser52,1519

weblog/wp-admin/list-manipulation.js,379
function deleteSomething( what, id, message ) {deleteSomething7,99
function getResponseElement() {getResponseElement17,361
function ajaxDelete(what, id) {ajaxDelete27,597
function removeThisItem(id) {removeThisItem40,1273
function getListPos(id) {getListPos58,2103
function getListItems() {getListItems68,2253
function recolorList(pos,dur,from) {recolorList82,2711

weblog/wp-admin/options-discussion.php,221
$title = __('Discussion Options');title4,34
$parent_file = 'options-general.php';parent_file5,69
	$retrospaminator = new retrospam_mgr();retrospaminator13,247
	$result = $retrospaminator->find_spam();result14,288

weblog/wp-admin/menu-header.php,243
$self = preg_replace('|^.*/wp-admin/|i', '', $_SERVER['PHP_SELF']);self3,26
$self = preg_replace('|^.*/plugins/|i', '', $self);self4,94
	$class = '';class9,200
$menu_hook = get_plugin_page_hook($item[2], $parent_file);menu_hook41,1209

weblog/wp-admin/menu.php,122
$awaiting_mod = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_approved = '0'");awaiting_mod27,1331

weblog/wp-admin/moderation.php,1470
$title = __('Moderate comments');title4,34
$parent_file = 'edit.php';parent_file5,68
$list_js = true;list_js6,95
$wpvarstoreset = array('action', 'item_ignored', 'item_deleted', 'item_approved', 'item_spam', 'feelinglucky');wpvarstoreset8,113
	$wpvar = $wpvarstoreset[$i];wpvar10,273
$comment = array();comment24,511
	$item_ignored = 0;item_ignored40,847
	$item_deleted = 0;item_deleted41,867
	$item_approved = 0;item_approved42,887
	$item_spam = 0;item_spam43,908
		$value = 'delete';value47,1006
	$file = basename(__FILE__);file72,1560
	$approved = (int) $_GET['approved'];approved84,1903
	$deleted  = (int) $_GET['deleted'];deleted85,1941
	$ignored  = (int) $_GET['ignored'];ignored86,1978
	$spam     = (int) $_GET['spam'];spam87,2015
	$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_approved = '0'");comments125,2863
	$comments = '';comments127,2963
    $file = basename(__FILE__);file131,3053
$i = 0;i139,3353
	$comment_date = mysql2date(get_settings("date_format") . " @ " . get_settings("time_format"), $comment->comment_date);comment_date142,3405
	$post_title = $wpdb->get_var("SELECT post_title FROM $wpdb->posts WHERE ID='$comment->comment_post_ID'");post_title143,3525
function markAllForDelete() {markAllForDelete172,6278
function markAllForApprove() {markAllForApprove179,6456
function markAllForDefer() {markAllForDefer186,6636
function markAllAsSpam() {markAllAsSpam193,6812

weblog/wp-admin/options-permalink.php,1117
$title = __('Permalink Options');title4,34
$parent_file = 'options-general.php';parent_file5,68
function add_js() {add_js7,107
function GetElementsWithClassName(elementName, className) {GetElementsWithClassName11,174
function upit() {upit22,480
function blurry() {blurry36,875
$home_path = get_home_path();home_path58,1368
		$permalink_structure = $_POST['permalink_structure'];permalink_structure64,1569
			$permalink_structure = preg_replace('#/+#', '/', '/' . $_POST['permalink_structure']);permalink_structure66,1663
		$category_base = $_POST['category_base'];category_base71,1861
			$category_base = preg_replace('#/+#', '/', '/' . $_POST['category_base']);category_base73,1937
$permalink_structure = get_settings('permalink_structure');permalink_structure78,2072
$category_base = get_settings('category_base');category_base79,2132
	$writable = true;writable82,2293
	$writable = false;writable84,2317
	$usingpi = true;usingpi87,2381
	$usingpi = false;usingpi89,2404
$prefix = '';prefix108,3207
	$prefix = '/index.php';prefix111,3249
$structures = array(structures113,3275

weblog/wp-admin/options-general.php,198
$title = __('General Options');title4,36
$parent_file = 'options-general.php';parent_file5,68
	$selected = (get_settings('default_role') == $role) ? 'selected="selected"' : '';selected55,2503

weblog/wp-admin/options-head.php,126
$wpvarstoreset = array('action','standalone', 'option_group_id');wpvarstoreset3,7
	$wpvar = $wpvarstoreset[$i];wpvar5,121

weblog/wp-admin/options-misc.php,104
$title = __('Miscellaneous Options');title4,34
$parent_file = 'options-general.php';parent_file5,72

weblog/wp-admin/upgrade-functions.php,10173
function upgrade_all() {upgrade_all6,177
	$wp_current_db_version = __get_option('db_version');wp_current_db_version8,263
		$wp_current_db_version = 0;wp_current_db_version16,524
		$template = __get_option('template');template19,604
			$wp_current_db_version = 2541;wp_current_db_version21,671
function upgrade_100() {upgrade_10041,981
	$posts = $wpdb->get_results("SELECT ID, post_title, post_name FROM $wpdb->posts WHERE post_name = ''");posts45,1107
				$newtitle = sanitize_title($post->post_title);newtitle49,1290
	$categories = $wpdb->get_results("SELECT cat_ID, cat_name, category_nicename FROM $wpdb->categories");categories55,1447
			$newtitle = sanitize_title($category->cat_name);newtitle58,1634
	$done_ids = $wpdb->get_results("SELECT DISTINCT post_id FROM $wpdb->post2cat");done_ids68,2034
		$catwhere = ' AND ID NOT IN (' . implode(',', $done_posts) . ')';catwhere73,2221
		$catwhere = '';catwhere75,2296
	$allposts = $wpdb->get_results("SELECT ID, post_category FROM $wpdb->posts WHERE post_category != '0' $catwhere");allposts78,2324
			$cat = $wpdb->get_row("SELECT * FROM $wpdb->post2cat WHERE post_id = $post->ID AND category_id = $post->post_category");cat82,2540
function upgrade_101() {upgrade_10195,2897
function upgrade_110() {upgrade_110109,3332
	$users = $wpdb->get_results("SELECT ID, user_nickname, user_nicename FROM $wpdb->users");users113,3400
 			$newname = sanitize_title($user->user_nickname);newname116,3559
	$users = $wpdb->get_results("SELECT ID, user_pass from $wpdb->users");users121,3717
	$all_options = get_alloptions_110();all_options130,4055
	$time_difference = $all_options->time_difference;time_difference132,4094
	$server_time = time()+date('Z');server_time134,4146
	$weblogger_time = $server_time + $time_difference*3600;weblogger_time135,4180
	$gmt_time = time();gmt_time136,4237
	$diff_gmt_server = ($gmt_time - $server_time) / 3600;diff_gmt_server138,4259
	$diff_weblogger_server = ($weblogger_time - $server_time) / 3600;diff_weblogger_server139,4314
	$diff_gmt_weblogger = $diff_gmt_server - $diff_weblogger_server;diff_gmt_weblogger140,4381
	$gmt_offset = -$diff_gmt_weblogger;gmt_offset141,4447
	$got_gmt_fields = ($wpdb->get_var("SELECT MAX(post_date_gmt) FROM $wpdb->posts") == '0000-00-00 00:00:00') ? false : true;got_gmt_fields149,4769
		$add_hours = intval($diff_gmt_weblogger);add_hours154,4978
		$add_minutes = intval(60 * ($diff_gmt_weblogger - $add_hours));add_minutes155,5022
function upgrade_130() {upgrade_130165,5742
	$posts = $wpdb->get_results("SELECT ID, post_title, post_content, post_excerpt, guid, post_date, post_name, post_status, post_author FROM $wpdb->posts");posts169,5839
            $post_content = addslashes(deslash($post->post_content));post_content172,6038
            $post_title = addslashes(deslash($post->post_title));post_title173,6108
            $post_excerpt = addslashes(deslash($post->post_excerpt));post_excerpt174,6174
				$guid = get_permalink($post->ID);guid176,6273
				$guid = $post->guid;guid178,6319
	$comments = $wpdb->get_results("SELECT comment_ID, comment_author, comment_content FROM $wpdb->comments");comments185,6574
            $comment_content = addslashes(deslash($comment->comment_content));comment_content188,6735
            $comment_author = addslashes(deslash($comment->comment_author));comment_author189,6814
	$links = $wpdb->get_results("SELECT link_id, link_name, link_description FROM $wpdb->links");links195,7108
            $link_name = addslashes(deslash($link->link_name));link_name198,7247
            $link_description = addslashes(deslash($link->link_description));link_description199,7311
		$active_plugins = __get_option('active_plugins');active_plugins209,7834
			$active_plugins = explode("\n", trim($active_plugins));active_plugins214,8052
	$options = $wpdb->get_results("SELECT option_name, COUNT(option_name) AS dupes FROM `$wpdb->options` GROUP BY option_name");options229,8970
			$limit = $option->dupes - 1;limit232,9198
			$dupe_ids = $wpdb->get_col("SELECT option_id FROM $wpdb->options WHERE option_name = '$option->option_name' LIMIT $limit");dupe_ids233,9230
			$dupe_ids = join($dupe_ids, ',');dupe_ids234,9357
function upgrade_160() {upgrade_160242,9503
	$users = $wpdb->get_results("SELECT * FROM $wpdb->users");users247,9607
			$idmode = $user->user_idmode;idmode269,10786
			$id = $wpdb->escape( $id );id277,11256
		$caps = get_usermeta( $user->ID, $table_prefix . 'capabilities');caps282,11468
			$level = get_usermeta($user->ID, $table_prefix . 'user_level');level284,11585
			$role = translate_level_to_role($level);role285,11652
	$old_user_fields = array( 'user_firstname', 'user_lastname', 'user_icq', 'user_aim', 'user_msn', 'user_yim', 'user_idmode', 'user_ip', 'user_domain', 'user_browser', 'user_description', 'user_nickname', 'user_level' );old_user_fields290,11804
		$categories = $wpdb->get_col("SELECT cat_ID FROM $wpdb->categories");categories297,12264
			$count = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->post2cat, $wpdb->posts WHERE $wpdb->posts.ID=$wpdb->post2cat.post_id AND post_status='publish' AND category_id = '$cat_id'");count299,12375
	$comments = $wpdb->get_results( "SELECT comment_post_ID, COUNT(*) as c FROM $wpdb->comments WHERE comment_approved = '1' GROUP BY comment_post_ID" );comments305,12713
		$objects = $wpdb->get_results("SELECT ID, post_type FROM $wpdb->posts WHERE post_status = 'object'");objects315,13267
			$meta = get_post_meta($object->ID, 'imagedata', true);meta322,13567
function maybe_create_table($table_name, $create_ddl) {maybe_create_table332,13793
    $q = $wpdb->query($create_ddl);q340,14043
function drop_index($table, $index) {drop_index350,14297
function add_clean_index($table, $index) {add_clean_index362,14638
function maybe_add_column($table_name, $column_name, $create_ddl) {maybe_add_column375,14977
    $q = $wpdb->query($create_ddl);q384,15324
function get_alloptions_110() {get_alloptions_110396,15625
function __get_option($setting) {__get_option412,16441
	$option = $wpdb->get_var("SELECT option_value FROM $wpdb->options WHERE option_name = '$setting'");option415,16491
		$option = preg_replace('|/+$|', '', $option);option421,16755
function deslash($content) {deslash430,16911
    $content = preg_replace("/\\\+'/", "'", $content);content435,17095
    $content = preg_replace('/\\\+"/', '"', $content);content439,17245
    $content = preg_replace("/\\\+/", "\\", $content);content442,17360
function dbDelta($queries, $execute = true) {dbDelta447,17440
		$queries = explode( ';', $queries );queries452,17578
	$cqueries = array(); // Creation Queriescqueries456,17685
	$iqueries = array(); // Insertion Queriesiqueries457,17727
	$for_update = array();for_update458,17770
				$qryline = trim($match2[1]);qryline491,18899
				$flds = explode("\n", $qryline);flds494,18975
					$fieldname = $fvals[1];fieldname502,19286
					$validfield = true;validfield505,19357
						$validfield = false;validfield514,19538
					$fld = trim($fld);fld518,19630
				$tablefields = $wpdb->get_results("DESCRIBE {$table};");tablefields527,19877
						$fieldtype = $matches[1];fieldtype535,20318
							$default_value = $matches[1];default_value547,21001
				$tableindices = $wpdb->get_results("SHOW INDEX FROM {$table};");tableindices573,22093
						$keyname = $tableindex->Key_name;keyname582,22375
						$index_string = '';index_string590,22792
						$index_columns = '';index_columns601,23094
	$allqueries = array_merge($cqueries, $iqueries);allqueries638,24579
function make_db_current() {make_db_current649,24837
	$alterations = dbDelta($wp_queries);alterations652,24888
function make_db_current_silent() {make_db_current_silent658,25031
	$alterations = dbDelta($wp_queries);alterations661,25089
function make_site_theme_from_oldschool($theme_name, $template) {make_site_theme_from_oldschool664,25130
	$home_path = get_home_path();home_path665,25196
	$site_dir = ABSPATH . "wp-content/themes/$template";site_dir666,25227
	$files = array('index.php' => 'index.php', 'wp-layout.css' => 'style.css', 'wp-comments.php' => 'comments.php', 'wp-comments-popup.php' => 'comments-popup.php');files674,25506
			$oldpath = $home_path;oldpath678,25745
			$oldpath = ABSPATH;oldpath680,25778
			$index = implode('', file("$oldpath/$oldfile"));index683,25878
		$lines = explode("\n", implode('', file("$site_dir/$newfile")));lines697,26295
			$f = fopen("$site_dir/$newfile", 'w');f699,26378
					$line = '//' . $line;line703,26508
				$line = str_replace("<?php echo __get_option('siteurl'); ?>/wp-layout.css", "<?php bloginfo('stylesheet_url'); ?>", $line);line706,26573
				$line = str_replace("<?php include(ABSPATH . 'wp-comments.php'); ?>", "<?php comments_template(); ?>", $line);line709,26745
	$header = "/*\nTheme Name: $theme_name\nTheme URI: " . __get_option('siteurl') . "\nDescription: A theme automatically created by the upgrade.\nVersion: 1.0\nAuthor: Moi\n*/\n";header718,26942
	$stylelines = file_get_contents("$site_dir/style.css");stylelines720,27122
		$f = fopen("$site_dir/style.css", 'w');f722,27199
function make_site_theme_from_default($theme_name, $template) {make_site_theme_from_default732,27327
	$site_dir = ABSPATH . "wp-content/themes/$template";site_dir733,27391
	$default_dir = ABSPATH . 'wp-content/themes/default';default_dir734,27445
	$theme_dir = @ dir("$default_dir");theme_dir739,27685
	$stylelines = explode("\n", implode('', file("$site_dir/style.css")));stylelines751,28014
		$f = fopen("$site_dir/style.css", 'w');f753,28106
	$images_dir = @ dir("$default_dir/images");images_dir772,28686
function make_site_theme() {make_site_theme785,29047
	$theme_name = __get_option('blogname');theme_name787,29111
	$template = sanitize_title($theme_name);template788,29152
	$site_dir = ABSPATH . "wp-content/themes/$template";site_dir789,29194
	$current_template = __get_option('template');current_template818,29884
function translate_level_to_role($level) {translate_level_to_role826,30077

weblog/wp-admin/options-reading.php,98
$title = __('Reading Options');title4,34
$parent_file = 'options-general.php';parent_file5,66

weblog/wp-admin/options-writing.php,204
$title = __('Writing Options');title4,34
$parent_file = 'options-general.php';parent_file5,66
$categories = $wpdb->get_results("SELECT * FROM $wpdb->categories ORDER BY cat_name");categories36,1631

weblog/wp-admin/options.php,1148
$title = __('Options');title4,34
$this_file = 'options.php';this_file5,58
$parent_file = 'options-general.php';parent_file6,86
$wpvarstoreset = array('action');wpvarstoreset8,125
	$wpvar = $wpvarstoreset[$i];wpvar10,207
	$any_changed = 0;any_changed30,558
		$options = explode(',', stripslashes($_POST['page_options']));options39,727
	$old_siteurl = get_settings('siteurl');old_siteurl43,816
	$old_home = get_settings('home');old_home44,857
	$nonbools = array('default_ping_status', 'default_comment_status');nonbools48,984
			$option = trim($option);option51,1104
			$value = trim(stripslashes($_POST[$option]));value52,1132
				$value = 'closed';value54,1256
					$value = wp_filter_post_kses( $value );value58,1400
	$referred = remove_query_arg('updated' , wp_get_referer());referred80,2059
	$goback = add_query_arg('updated', 'true', wp_get_referer());goback81,2120
	$goback = preg_replace('|[^a-z0-9-~+_.?#=&;,/:]|i', '', $goback);goback82,2183
$options = $wpdb->get_results("SELECT * FROM $wpdb->options ORDER BY option_name");options96,2569
	$value = wp_specialchars($option->option_value);value99,2686

weblog/wp-admin/page-new.php,192
$title = __('New Page');title3,33
$parent_file = 'post.php';parent_file4,58
$editing = true;editing5,85
	$action = 'post';action15,405
	$post = get_default_post_to_edit();post16,424

weblog/wp-admin/plugin-editor.php,815
$title = __("Edit Plugins");title4,34
$parent_file = 'plugins.php';parent_file5,63
$wpvarstoreset = array('action','redirect','profile','error','warning','a','file');wpvarstoreset7,94
	$wpvar = $wpvarstoreset[$i];wpvar9,226
$plugins = get_plugins();plugins23,464
$plugin_files = array_keys($plugins);plugin_files24,490
	$file = $plugin_files[0];file27,549
$file = validate_file_to_edit($file, $plugin_files);file30,579
$real_file = get_real_file_to_edit("wp-content/plugins/$file");real_file31,632
	$newcontent = stripslashes($_POST['newcontent']);newcontent42,925
		$f = fopen($real_file, 'w+');f44,1009
		$error = 1;error65,1485
		$f = fopen($real_file, 'r');f68,1517
		$content = fread($f, filesize($real_file));content69,1548
		$content = htmlspecialchars($content);content70,1594

weblog/wp-admin/plugins.php,1196
		$current = get_settings('active_plugins');current7,165
		$current = get_settings('active_plugins');current18,644
$title = __('Manage Plugins');title27,932
$check_plugins = get_settings('active_plugins');check_plugins33,1058
	$check_plugins = array();check_plugins38,1231
			$current = get_settings('active_plugins');current46,1508
			$key = array_search($check_plugin, $current);key47,1554
	$current_plugins = get_settings('active_plugins');current_plugins71,2319
$plugins = get_plugins();plugins73,2372
	$style = '';style89,2777
	function sort_plugins($plug1, $plug2) {sort_plugins91,2792
		$style = ('class="alternate"' == $style|| 'class="alternate active"' == $style) ? '' : 'alternate';style98,2983
			$action = "<a href='" . wp_nonce_url("plugins.php?action=deactivate&amp;plugin=$plugin_file", 'deactivate-plugin_' . $plugin_file) . "' title='".__('Deactivate this plugin')."' class='delete'>".__('Deactivate')."</a>";action101,3164
			$action = "<a href='" . wp_nonce_url("plugins.php?action=activate&amp;plugin=$plugin_file", 'activate-plugin_' . $plugin_file) . "' title='".__('Activate this plugin')."' class='edit'>".__('Activate')."</a>";action105,3527

weblog/wp-admin/post.php,3551
$wpvarstoreset = array('action', 'safe_mode', 'withcomments', 'posts', 'content', 'edited_post_title', 'comment_error', 'profile', 'trackback_url', 'excerpt', 'showcomments', 'commentstart', 'commentend', 'commentorder' );wpvarstoreset4,34
	$wpvar = $wpvarstoreset[$i];wpvar7,306
$action = "delete";action22,578
	$submenu_file = 'page-new.php';submenu_file27,722
$editing = true;editing29,756
	$post_ID = write_post();post_ID35,841
			$location = $_POST['referredby'];location41,961
			$location = 'sidebar.php?a=b';location44,1026
			$location = 'post.php';location47,1081
		$location = 'post.php?posted=true';location51,1132
		$location = "page-new.php?saved=true";location55,1216
		$location = "post.php?action=edit&post=$post_ID";location58,1288
	$title = __('Edit');title65,1397
	$post_ID = $p = (int) $_GET['post'];post_ID69,1456
	$post = get_post_to_edit($post_ID);post74,1601
	$post_id = (int) $_POST['post_ID'];post_id90,2138
	$oldmeta = $newmeta = get_post_meta($post_id, '_wp_attachment_metadata', true);oldmeta99,2361
	$post_ID = (int) $_POST['post_ID'];post_ID108,2670
	$post_ID = edit_post();post_ID111,2758
	$referredby = '';referredby113,2784
		$referredby = preg_replace('|https?://[^/]+|i', '', $_POST['referredby']);referredby115,2840
	$referer = preg_replace('|https?://[^/]+|i', '', wp_get_referer());referer116,2917
		$location = wp_get_referer();location119,3011
		$location = wp_get_referer() . '&message=2#postcustom';location121,3078
		$location = wp_get_referer() . '&message=3#postcustom';location123,3171
		$location = $_POST['referredby'];location125,3290
			$location = get_permalink( $post_ID );location127,3366
		$location = 'attachments.php';location129,3450
		$location = 'post.php';location131,3493
	$post_id = (isset($_GET['post']))  ? intval($_GET['post']) : intval($_POST['post_ID']);post_id140,3630
	$post = & get_post($post_id);post143,3769
	$sendback = wp_get_referer();sendback156,4123
	$sendback = preg_replace('|[^a-z0-9-~+_.?#=&;,/:]|i', '', $sendback);sendback159,4362
	$title = __('Edit Comment');title164,4487
	$parent_file = 'edit.php';parent_file165,4517
	$comment = (int) $_GET['comment'];comment170,4607
	$comment = get_comment_to_edit($comment);comment178,4932
	$comment = (int) $_GET['comment'];comment188,5089
	$p = (int) $_GET['p'];p189,5125
	$comment = (int) $_GET['comment'];comment222,6740
	$p = (int) $_GET['p'];p225,6829
		$noredir = true;noredir227,6885
		$noredir = false;noredir229,6914
	$postdata = get_post($p) or die(sprintf(__('Oops, no post with this ID. <a href="%s">Go back</a>!'), 'edit.php'));postdata232,6938
	$comment = (int) $_GET['comment'];comment252,7658
	$p = (int) $_GET['p'];p255,7750
		$noredir = true;noredir257,7806
		$noredir = false;noredir259,7835
	$comment = (int) $_GET['comment'];comment279,8447
	$comment = (int) $_GET['comment'];comment299,9152
	$p = (int) $_GET['p'];p302,9242
		$noredir = true;noredir304,9298
		$noredir = false;noredir306,9327
	$comment_ID = (int) $_POST['comment_ID'];comment_ID331,10033
	$comment_post_ID = (int)  $_POST['comment_post_ID'];comment_post_ID332,10076
	$referredby = $_POST['referredby'];referredby338,10205
	$title = __('Create New Post');title348,10389
		$action = 'post';action356,10718
			$num_drafts = count($drafts);num_drafts363,10901
				$draft = $drafts[$i];draft366,11023
		$post = get_default_post_to_edit();post383,11569
function oneclickbookmarklet(blah) {oneclickbookmarklet402,12779

weblog/wp-admin/profile-update.php,135
$errors = edit_user($user_ID);errors10,127
	$to = 'profile.php?updated=true';to26,499
	$to = 'profile.php?updated=true';to28,539

weblog/wp-admin/profile.php,321
$title = __('Profile');title4,35
$parent_file = 'profile.php';parent_file6,60
$profileuser = new WP_User($user_ID);profileuser8,124
$bookmarklet_height= 440;bookmarklet_height10,163
$show_password_fields = apply_filters('show_password_fields', true);show_password_fields91,3616
			$output = '';output124,4834

weblog/wp-admin/setup-config.php,701
define('WP_INSTALLING', true);WP_INSTALLING2,6
$configFile = file('../wp-config-sample.php');configFile7,213
	$step = $_GET['step'];step13,473
	$step = 0;step15,502
	$dbname  = trim($_POST['dbname']);dbname140,4300
    $uname   = trim($_POST['uname']);uname141,4336
    $passwrd = trim($_POST['pwd']);passwrd142,4374
    $dbhost  = trim($_POST['dbhost']);dbhost143,4410
	$prefix  = trim($_POST['prefix']);prefix144,4449
    define('DB_NAME', $dbname);DB_NAME148,4555
    define('DB_USER', $uname);DB_USER149,4587
    define('DB_PASSWORD', $passwrd);DB_PASSWORD150,4618
    define('DB_HOST', $dbhost);DB_HOST151,4655
	$handle = fopen('../wp-config.php', 'w');handle155,4784

weblog/wp-admin/sidebar.php,28
$mode = 'sidebar';mode2,6

weblog/wp-admin/templates.php,924
$title = __('Template &amp; File Editing');title3,33
$parent_file = 	'edit.php';parent_file4,77
$wpvarstoreset = array('action','redirect','profile','error','warning','a','file');wpvarstoreset6,106
	$wpvar = $wpvarstoreset[$i];wpvar8,238
$recents = get_option('recently_edited');recents22,476
		$file = $recents[0];file26,556
		$file = 'index.php';file28,589
$file = validate_file_to_edit($file);file32,618
$real_file = get_real_file_to_edit($file);real_file33,656
	$newcontent = stripslashes($_POST['newcontent']);newcontent44,925
		$f = @ fopen($real_file, 'w+');f46,1009
		$error = true;error75,1694
		$f = @ fopen($real_file, 'r');f78,1729
			$content = fread($f, filesize($real_file));content80,1776
			$content = htmlspecialchars($content);content81,1823
			$error = true;error83,1876
 $old_files = array('wp-layout.css', 'wp-comments.php', 'wp-comments-popup.php');old_files118,2850

weblog/wp-admin/theme-editor.php,1172
$title = __("Edit Themes");title4,34
$parent_file = 'themes.php';parent_file5,62
$wpvarstoreset = array('action','redirect','profile','error','warning','a','file', 'theme');wpvarstoreset7,92
	$wpvar = $wpvarstoreset[$i];wpvar9,233
$themes = get_themes();themes23,471
	$theme = get_current_theme();theme26,517
	$theme = stripslashes($theme);theme28,557
$allowed_files = array_merge($themes[$theme]['Stylesheet Files'], $themes[$theme]['Template Files']);allowed_files35,676
	$file = $allowed_files[0];file38,799
$file = validate_file_to_edit($file, $allowed_files);file41,830
$real_file = get_real_file_to_edit($file);real_file42,884
$file_show = basename( $file );file_show44,928
	$newcontent = stripslashes($_POST['newcontent']);newcontent55,1196
	$theme = urlencode($theme);theme56,1247
		$f = fopen($real_file, 'w+');f58,1309
		$error = 1;error79,1786
		$f = fopen($real_file, 'r');f82,1846
		$content = fread($f, filesize($real_file));content83,1877
		$content = htmlspecialchars($content);content84,1923
		$theme_name = $a_theme['Name'];theme_name97,2314
		$theme_name = wp_specialchars($theme_name, true);theme_name100,2436

weblog/wp-admin/themes.php,1332
$title = __('Manage Themes');title21,454
$parent_file = 'themes.php';parent_file22,484
$themes = get_themes();themes33,958
$ct = current_theme_info();ct34,982
$style = '';style56,2076
$theme_names = array_keys($themes);theme_names58,2090
	$template = $themes[$theme_name]['Template'];template64,2239
	$stylesheet = $themes[$theme_name]['Stylesheet'];stylesheet65,2286
	$title = $themes[$theme_name]['Title'];title66,2337
	$version = $themes[$theme_name]['Version'];version67,2378
	$description = $themes[$theme_name]['Description'];description68,2423
	$author = $themes[$theme_name]['Author'];author69,2476
	$screenshot = $themes[$theme_name]['Screenshot'];screenshot70,2519
	$stylesheet_dir = $themes[$theme_name]['Stylesheet Dir'];stylesheet_dir71,2570
	$activate_link = wp_nonce_url("themes.php?action=activate&amp;template=$template&amp;stylesheet=$stylesheet", 'switch-theme_' . $template);activate_link72,2629
$broken_themes = get_broken_themes();broken_themes91,3234
	$theme = '';theme104,3611
	$theme_names = array_keys($broken_themes);theme_names106,3627
		$title = $broken_themes[$theme_name]['Title'];title110,3741
		$description = $broken_themes[$theme_name]['Description'];description111,3790
		$theme = ('class="alternate"' == $theme) ? '' : 'class="alternate"';theme113,3852

weblog/wp-admin/update-links.php,690
$link_uris = $wpdb->get_col("SELECT link_url FROM $wpdb->links");link_uris8,198
$link_uris = urlencode( join( $link_uris, "\n" ) );link_uris13,303
$query_string = "uris=$link_uris";query_string15,356
$http_request  = "POST /updated-batch/ HTTP/1.0\r\n";http_request17,392
$response = '';response25,803
	$response = explode("\r\n\r\n", $response, 2);response32,1029
	$body = trim( $response[1] );body33,1077
	$body = str_replace(array("\r\n", "\r"), "\n", $body);body34,1108
	$returns = explode("\n", $body);returns36,1169
		$time = $wpdb->escape( substr($return, 0, 19) );time39,1241
		$uri = $wpdb->escape( preg_replace('/(.*?) | (.*?)/', '$2', $return) );uri40,1292

weblog/wp-admin/upgrade-schema.php,1839
$wp_queries="CREATE TABLE $wpdb->categories (wp_queries4,58
function populate_options() {populate_options152,6118
	$schema = ( isset($_SERVER['HTTPS']) && strtolower($_SERVER['HTTPS']) == 'on' ) ? 'https://' : 'http://';schema155,6180
	$guessurl = preg_replace('|/wp-admin/.*|i', '', $schema . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']);guessurl156,6287
	$unusedoptions = array ('blodotgsping_url', 'bodyterminator', 'emailtestonly', 'phoneemail_separator', 'smilies_directory', 'subjectprefix', 'use_bbcode', 'use_blodotgsping', 'use_phoneemail', 'use_quicktags', 'use_weblogsping', 'weblogs_cache_file', 'use_preview', 'use_htmltrans', 'smilies_directory', 'fileupload_allowedusers', 'use_phoneemail', 'default_post_status', 'default_post_category', 'archive_mode', 'time_difference', 'links_minadminlevel', 'links_use_adminlevels', 'links_rating_type', 'links_rating_char', 'links_rating_ignore_zero', 'links_rating_single_image', 'links_rating_image0', 'links_rating_image1', 'links_rating_image2', 'links_rating_image3', 'links_rating_image4', 'links_rating_image5', 'links_rating_image6', 'links_rating_image7', 'links_rating_image8', 'links_rating_image9', 'weblogs_cacheminutes', 'comment_allowed_tags', 'search_engine_friendly_urls', 'default_geourl_lat', 'default_geourl_lon', 'use_default_geourl', 'weblogs_xml_url', 'new_users_can_blog');unusedoptions237,9463
	$fatoptions = array( 'moderation_keys', 'recently_edited', 'blacklist_keys' );fatoptions243,10587
function populate_roles() {populate_roles249,10818
function populate_roles_160() {populate_roles_160253,10873
	$role = get_role('administrator');role264,11184
	$role = get_role('editor');role297,12198
	$role = get_role('author');role319,12860
	$role = get_role('contributor');role330,13173
	$role = get_role('subscriber');role337,13354

weblog/wp-admin/upgrade.php,344
define('WP_INSTALLING', true);WP_INSTALLING2,6
$step = $_GET['step'];step8,366
	$goback = wp_specialchars(wp_get_referer());goback70,1545
	$wp_current_db_version = __get_option('db_version');wp_current_db_version78,1896
		$backto = __get_option('home');backto87,2123
		$backto = wp_specialchars( $_GET['backto'] , 1 );backto89,2163

weblog/wp-admin/user-edit.php,623
$title = __('Edit User');title4,34
$parent_file = 'profile.php';	parent_file5,60
$submenu_file = 'users.php';submenu_file6,91
$wpvarstoreset = array('action', 'redirect', 'profile', 'user_id');wpvarstoreset8,121
	$wpvar = $wpvarstoreset[$i];wpvar10,237
$errors = array();errors37,672
	$errors = edit_user($user_id);errors42,806
$profileuser = new WP_User($user_id);profileuser52,976
	$selected = ($profileuser->has_cap($role)) ? ' selected="selected"' : '';selected93,2139
$show_password_fields = apply_filters('show_password_fields', true);show_password_fields156,5003
			$output = '';output181,5903

weblog/wp-admin/users.php,1859
$title = __('Users');title5,98
$parent_file = 'profile.php';parent_file6,120
$action = $_REQUEST['action'];action8,152
$update = '';update9,183
 	$userids = $_POST['users'];userids23,417
	$update = 'promote';update24,447
			$update = 'err_admin_role';update28,671
 		$user = new WP_User($id);user32,720
	$userids = $_POST['users'];userids51,1057
	$update = 'del';update53,1088
			$update = 'err_admin_del';update56,1169
	$userids = $_POST['users'];userids83,1660
	$go_delete = false;go_delete94,1967
 		$user = new WP_User($id);user96,2018
			$go_delete = true;go_delete101,2369
 	$all_logins = $wpdb->get_results("SELECT ID, user_login FROM $wpdb->users ORDER BY user_login");all_logins104,2399
 	$user_dropdown = '<select name="reassign_user">';user_dropdown105,2498
	$errors = add_user();errors136,3674
	$userids = $wpdb->get_col("SELECT ID FROM $wpdb->users;");userids147,3822
		$tmp_user = new WP_User($userid);tmp_user150,3916
		$roles = $tmp_user->roles;roles151,3952
		$role = array_shift($roles);role152,3981
	$style = '';style227,5861
		$email = $user_object->user_email;email229,5915
		$url = $user_object->user_url;url230,5952
		$short_url = str_replace('http://', '', $url);short_url231,5985
		$short_url = str_replace('www.', '', $short_url);short_url232,6034
			$short_url = substr($short_url, 0, -1);short_url234,6123
		$short_url =  substr($short_url, 0, 32).'...';short_url236,6197
		$style = ('class="alternate"' == $style) ? '' : 'class="alternate"';style237,6246
		$numposts = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->posts WHERE post_author = '$user_object->ID' and post_status = 'publish'");numposts238,6317
$role_select = '<select name="new_role">';role_select266,7425
$show_password_fields = apply_filters('show_password_fields', true);show_password_fields308,9468

weblog/wp-admin/xfn.js,194
function GetElementsWithClassName(elementName, className) {GetElementsWithClassName1,0
function meChecked() {meChecked12,318
function upit() {upit19,469
function blurry() {blurry36,1059

weblog/wp-content/plugins/akismet/akismet.php,4227
	function akismet_nonce_field($action = -1) {akismet_nonce_field14,683
	$akismet_nonce = -1;akismet_nonce17,743
	function akismet_nonce_field($action = -1) {akismet_nonce_field19,774
	$akismet_nonce = 'akismet-update-key';akismet_nonce22,857
function ksd_config_page() {ksd_config_page25,900
function akismet_conf() {akismet_conf31,1128
		$key = preg_replace('/[^a-h0-9]/i', '', $_POST['key']);key38,1331
			$invalid_key = true;invalid_key42,1477
		$invalid_key = true;invalid_key45,1567
function akismet_verify_key( $key ) {akismet_verify_key65,2935
	$blog = urlencode( get_option('home') );blog67,3035
	$response = ksd_http_post("key=$key&blog=$blog", 'rest.akismet.com', '/1.1/verify-key', $ksd_api_port);response68,3077
	function akismet_warning() {akismet_warning76,3324
	$path = plugin_basename(__FILE__);path77,3354
$ksd_api_host = get_option('wordpress_api_key') . '.rest.akismet.com';ksd_api_host90,3835
$ksd_api_port = 80;ksd_api_port91,3906
$ksd_user_agent = "WordPress/$wp_version | Akismet/1.15";ksd_user_agent92,3926
function ksd_http_post($request, $host, $path, $port = 80) {ksd_http_post95,4058
	$http_request  = "POST $path HTTP/1.0\r\n";http_request98,4145
	$response = '';response106,4520
		$response = explode("\r\n\r\n", $response, 2);response113,4736
function ksd_auto_check_comment( $comment ) {ksd_auto_check_comment118,4810
	$ignore = array( 'HTTP_COOKIE' );ignore125,5158
	$query_string = '';query_string131,5301
	$response = ksd_http_post($query_string, $ksd_api_host, '/1.1/comment-check', $ksd_api_port);response135,5434
		$auto_comment_approved = 'spam';auto_comment_approved137,5562
function akismet_delete_old() {akismet_delete_old144,5723
	$now_gmt = current_time('mysql', 1);now_gmt146,5770
	$n = mt_rand(1, 5);n148,5947
function ksd_auto_approved( $approved ) {ksd_auto_approved153,6036
		$approved = $auto_comment_approved;approved156,6151
function ksd_submit_nonspam_comment ( $comment_id ) {ksd_submit_nonspam_comment160,6211
	$comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment_id'");comment163,6311
	$query_string = '';query_string167,6489
	$response = ksd_http_post($query_string, $ksd_api_host, "/1.1/submit-ham", $ksd_api_port);response170,6621
function ksd_submit_spam_comment ( $comment_id ) {ksd_submit_spam_comment173,6716
	$comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment_id'");comment176,6813
	$query_string = '';query_string182,7046
	$response = ksd_http_post($query_string, $ksd_api_host, "/1.1/submit-spam", $ksd_api_port);response186,7179
function ksd_spam_count() {ksd_spam_count195,7516
	$count = $wpdb->get_var("SELECT COUNT(comment_ID) FROM $wpdb->comments WHERE comment_approved = 'spam'");count197,7570
function ksd_manage_page() {ksd_manage_page201,7696
	$count = sprintf(__('Akismet Spam (%s)'), ksd_spam_count());count203,7740
function ksd_caught() {ksd_caught208,7948
		$i = 0;i214,8220
			$comment = (int) $comment;comment216,8274
		$delete_time = addslashes( $_POST['display_time'] );delete_time230,8837
		$nuked = $wpdb->query( "DELETE FROM $wpdb->comments WHERE comment_approved = 'spam' AND '$delete_time' > comment_date_gmt" );nuked231,8892
$count = get_option('akismet_spam_count');count244,9223
$spam_count = ksd_spam_count();spam_count250,9432
$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_approved = 'spam' ORDER BY comment_date DESC LIMIT 150");comments267,10660
$i = 0;i275,11033
	$comment_date = mysql2date(get_settings("date_format") . " @ " . get_settings("time_format"), $comment->comment_date);comment_date278,11081
	$post = get_post($comment->comment_post_ID);post279,11201
	$post_title = $post->post_title;post_title280,11247
$post = get_post($comment->comment_post_ID);post294,12135
$post_title = wp_specialchars( $post->post_title, 'double' );post_title295,12180
$post_title = ('' == $post_title) ? "# $comment->comment_post_ID" : $post_title;post_title296,12242
function akismet_stats() {akismet_stats323,13162
	$count = get_option('akismet_spam_count');count324,13189
	$path = plugin_basename(__FILE__);path327,13259

weblog/wp-content/plugins/wp-db-backup.php,8979
$rand = substr( md5( md5( DB_PASSWORD ) ), -5 );rand20,506
define('WP_BACKUP_DIR', 'wp-content/backup-' . $rand);WP_BACKUP_DIR22,556
define('ROWS_PER_SEGMENT', 100);ROWS_PER_SEGMENT24,612
class wpdbBackup {wpdbBackup26,646
	function gzip() {gzip34,803
	function wpdbBackup() {wpdbBackup38,862
	function init() {init65,1851
			$via = isset($_GET['via']) ? $_GET['via'] : 'http';via69,1992
	function build_backup_script() {build_backup_script104,2809
		$datum = date("Ymd_B");datum107,2876
		$backup_filename = DB_NAME . "_$table_prefix$datum.sql";backup_filename108,2902
			function setMeter(pct) {setMeter130,3969
			function setProgress(str) {setProgress135,4132
			function addError(str) {addError139,4262
			function backup(table, segment) {backup144,4406
			function nextStep() {nextStep151,4650
			function finishBackup() {finishBackup156,4724
		$this_basename = preg_replace('/^.*wp-content[\\\\\/]plugins[\\\\\/]/', '', __FILE__);this_basename161,4838
		$download_uri = get_settings('siteurl') . "/wp-admin/edit.php?page={$this_basename}&backup={$backup_filename}";download_uri162,4927
			function backupStep(step) {backupStep185,5710
		$also_backup = array();also_backup190,5802
			$also_backup = $_POST['other_tables'];also_backup192,5867
			$also_backup = array();also_backup194,5920
		$core_tables = $_POST['core_tables'];core_tables196,5951
		$tables = array_merge($core_tables, $also_backup);tables197,5991
		$step_count = 1;step_count198,6044
			$rec_count = $wpdb->get_var("SELECT count(*) FROM {$table}");rec_count200,6095
			$rec_segments = ceil($rec_count / ROWS_PER_SEGMENT);rec_segments201,6160
			$table_count = 0;table_count202,6216
	function backup_fragment($table, $segment, $filename) {backup_fragment224,6682
			$msg = __('Creating backup file...');msg230,6834
				$msg = sprintf(__('Finished backing up table \\"%s\\".'), $table);msg233,6910
				$msg = sprintf(__('Backing up table \\"%s\\"...'), $table);msg235,6993
	function perform_backup() {perform_backup300,9147
		$also_backup = array();also_backup302,9217
			$also_backup = $_POST['other_tables'];also_backup304,9282
		$core_tables = $_POST['core_tables'];core_tables307,9331
				$this_basename = preg_replace('/^.*wp-content[\\\\\/]plugins[\\\\\/]/', '', __FILE__);this_basename313,9655
	function admin_menu() {admin_menu322,9990
	function fragment_menu() {fragment_menu326,10130
	function sql_addslashes($a_string = '', $is_like = FALSE)sql_addslashes331,10340
	        $a_string = str_replace('\\', '\\\\\\\\', $a_string);a_string338,10539
	        $a_string = str_replace('\\', '\\\\', $a_string);a_string340,10616
	    $a_string = str_replace('\'', '\\\'', $a_string);a_string342,10682
	function backquote($a_name)backquote348,10887
	             $result = array();result356,11135
	function open($filename = '', $mode = 'w') {open371,11533
			$fp = @gzopen($filename, $mode);fp374,11639
			$fp = @fopen($filename, $mode);fp376,11686
	function close($fp) {close382,11759
	function stow($query_line) {stow391,11874
	function backup_error($err) {backup_error405,12318
	function backup_table($table, $segment = 'none') {backup_table414,12598
		$table_structure = $wpdb->get_results("DESCRIBE $table");table_structure426,12925
			$create_table = $wpdb->get_results("SHOW CREATE TABLE $table", ARRAY_N);create_table451,13688
			$ints = array();ints472,14445
				$row_start = 0;row_start488,14989
				$row_inc = ROWS_PER_SEGMENT;row_inc489,15009
				$row_start = $segment * ROWS_PER_SEGMENT;row_start491,15054
				$row_inc = ROWS_PER_SEGMENT;row_inc492,15100
				$table_data = $wpdb->get_results("SELECT * FROM $table LIMIT {$row_start}, {$row_inc}", ARRAY_A);table_data497,15207
				$entries = 'INSERT INTO ' . $this->backquote($table) . ' VALUES (';	entries506,15514
				$search = array("\x00", "\x0a", "\x0d", "\x1a");search508,15621
				$replace = array('\0', '\n', '\r', '\Z');replace509,15674
						$values = array();values512,15779
	function return_bytes($val) {return_bytes539,16584
	   $val = trim($val);val540,16615
	   $last = strtolower($val{strlen($val)-1});last541,16638
	function db_backup($core_tables, $other_tables) {db_backup556,16953
		$datum = date("Ymd_B");datum559,17038
		$wp_backup_filename = DB_NAME . "_$table_prefix$datum.sql";wp_backup_filename560,17064
			$tables = array_merge($core_tables, $other_tables);tables585,17977
			$tables = $core_tables;tables587,18039
	function deliver_backup ($filename = '', $delivery = 'http', $recipient = '') {deliver_backup610,18704
		$diskfile = ABSPATH . $this->backup_dir . $filename;diskfile613,18829
				$msg = sprintf(__('File not found:%s'), "<br /><strong>$filename</strong><br />");msg616,18948
				$this_basename = preg_replace('/^.*wp-content[\\\\\/]plugins[\\\\\/]/', '', __FILE__);this_basename617,19035
				$recipient = get_settings('admin_email');recipient631,19663
			$randomish = md5(time());randomish633,19714
			$boundary = "==WPBACKUP-BY-SKIPPY-$randomish";boundary634,19743
			$fp = fopen($diskfile,"rb");fp635,19793
			$file = fread($fp,filesize($diskfile)); file636,19825
			$data = chunk_split(base64_encode($file));data638,19891
			$headers = "MIME-Version: 1.0\n";headers639,19937
			$message = sprintf(__("Attached to this email is\n   %1s\n   Size:%2s kilobytes\n"), $filename, round(filesize($diskfile)/1024));message643,20113
			$message = "This is a multi-part message in MIME format.\n\n" .message645,20301
	function backup_menu() {backup_menu673,21179
		$feedback = '';feedback675,21236
		$WHOOPS = FALSE;WHOOPS676,21254
			$feedback = '<div class="updated"><p>' . __('Backup Successful') . '!';feedback680,21372
			$file = $this->backup_file;file681,21447
				$feedback = '<br />' . sprintf(__('Your backup has been emailed to %s'), $feedback);feedback692,21922
		$wp_table_names = explode(',','categories,comments,linkcategories,links,options,post2cat,postmeta,posts,users,usermeta');wp_table_names720,23278
		$wp_table_names = array_map(create_function('$a', 'global $table_prefix;return "{$table_prefix}{$a}";'), $wp_table_names);wp_table_names722,23441
		$other_tables = array();other_tables724,23569
		$also_backup = array();also_backup725,23596
		$all_tables = $wpdb->get_results("SHOW TABLES", ARRAY_N);all_tables728,23657
		$all_tables = array_map(create_function('$a', 'return $a[0];'), $all_tables);all_tables729,23717
		$wp_backup_default_tables = array_intersect($all_tables, $wp_table_names);wp_backup_default_tables731,23873
		$other_tables = array_diff($all_tables, $wp_backup_default_tables);other_tables733,23981
		$stat = stat( ABSPATH . 'wp-content' );stat740,24156
		$dir_perms = $stat['mode'] & 0000777; // Get the permission bits.dir_perms741,24198
			$WHOOPS = TRUE;WHOOPS748,24669
		$table_status = $wpdb->get_results("SHOW TABLE STATUS FROM " . $this->backquote(DB_NAME));table_status785,26725
		$core_size = $db_size = 0;core_size786,26818
			$table_size = $table->Data_length - $table->Data_free;table_size788,26884
		$mem_limit = ini_get('memory_limit');mem_limit794,27070
		$mem_limit = $this->return_bytes($mem_limit);mem_limit795,27110
		$mem_limit = ($mem_limit == 0) ? 8*1024*1024 :  $mem_limit - 2000000;mem_limit796,27158
			$datetime = get_settings('date_format') . ' @ ' . get_settings('time_format');datetime810,27865
			$wp_cron_backup_schedule = get_option('wp_cron_backup_schedule');wp_cron_backup_schedule817,28354
			$schedule = array(0 => __('None'), 1 => __('Daily'));schedule818,28423
			$cron_recipient = get_option('wp_cron_backup_recipient');cron_recipient827,28755
				$cron_recipient = get_settings('admin_email');cron_recipient829,28854
			$cron_tables = get_option('wp_cron_backup_tables');cron_tables833,29062
				$cron_tables = array();cron_tables835,29152
	function wp_cron_daily() {wp_cron_daily858,29915
		$schedule = intval(get_option('wp_cron_backup_schedule'));schedule860,29946
		$wp_table_names = explode(',','categories,comments,linkcategories,links,options,post2cat,postmeta,posts,users,usermeta');wp_table_names868,30130
		$wp_table_names = array_map(create_function('$a', 'global $table_prefix;return "{$table_prefix}{$a}";'), $wp_table_names);wp_table_names869,30254
		$all_tables = $wpdb->get_results("SHOW TABLES", ARRAY_N);all_tables870,30379
		$all_tables = array_map(create_function('$a', 'return $a[0];'), $all_tables);all_tables871,30439
		$core_tables = array_intersect($all_tables, $wp_table_names);core_tables872,30519
		$other_tables = get_option('wp_cron_backup_tables');other_tables873,30583
		$recipient = get_option('wp_cron_backup_recipient');recipient875,30641
		$backup_file = $this->db_backup($core_tables, $other_tables);backup_file877,30699
function wpdbBackup_init() {wpdbBackup_init886,30900
	$mywpdbbackup = new wpdbBackup(); 	mywpdbbackup891,30998

weblog/wp-content/plugins/hello.php,253
$lyrics = "Hello, Dollylyrics12,492
$lyrics = explode("\n", $lyrics);lyrics42,1337
$chosen = wptexturize( $lyrics[ mt_rand(0, count($lyrics) ) ] );chosen44,1406
function hello_dolly() {hello_dolly47,1533
function dolly_css() {dolly_css56,1784

weblog/wp-content/themes/classic/comments-popup.php,170
$commenter = wp_get_current_commenter();commenter32,1373
$comments = get_approved_comments($id);comments34,1435
$commentstatus = get_post($id);commentstatus35,1475

weblog/wp-content/themes/classic/comments.php,0

weblog/wp-content/themes/classic/footer.php,0

weblog/wp-content/themes/classic/header.php,0

weblog/wp-content/themes/classic/index.php,0

weblog/wp-content/themes/classic/sidebar.php,0

weblog/wp-content/themes/default/images/header-img.php,885
$img = 'kubrickheader.jpg';img3,9
$default = false;default10,235
$vars = array('upper'=>array('r1', 'g1', 'b1'), 'lower'=>array('r2', 'g2', 'b2'));vars11,254
			$length = strlen($_GET[$var]) / 3;length15,456
			$v = substr($_GET[$var], $index * $length, $length);v16,495
				$default = true;default20,666
		$default = true;default23,704
$im = imagecreatefromjpeg($img);im31,854
$white = imagecolorat( $im, 15, 15 );white34,948
$h = 182;h35,987
$corners = array(corners38,1073
	$x1 = 19;x153,1431
	$x2 = 740;x254,1443
	$x1 = 20;x160,1577
	$x2 = 739;x261,1589
	$r = ( $r2 - $r1 != 0 ) ? $r1 + ( $r2 - $r1 ) * ( $i / $h ) : $r1;r62,1602
	$g = ( $g2 - $g1 != 0 ) ? $g1 + ( $g2 - $g1 ) * ( $i / $h ) : $g1;g63,1671
	$b = ( $b2 - $b1 != 0 ) ? $b1 + ( $b2 - $b1 ) * ( $i / $h ) : $b1;b64,1740
	$color = imagecolorallocate( $im, $r, $g, $b );color65,1809

weblog/wp-content/themes/default/archive.php,0

weblog/wp-content/themes/default/404.php,0

weblog/wp-content/themes/default/attachment.php,0

weblog/wp-content/themes/default/archives.php,0

weblog/wp-content/themes/default/comments-popup.php,152
$commenter = wp_get_current_commenter();commenter32,1286
$comments = get_approved_comments($id);comments34,1348
$post = get_post($id);post35,1388

weblog/wp-content/themes/default/comments.php,41
		$oddcomment = 'alt';oddcomment17,557

weblog/wp-content/themes/default/footer.php,0

weblog/wp-content/themes/default/functions.php,2079
function kubrick_head() {kubrick_head3,9
	$head = "<style type='text/css'>\n<!--";head4,36
	$output = '';output5,79
		$url =  kubrick_header_image_url() ;url7,129
	$foot = "--></style>\n";foot16,535
function kubrick_header_image() {kubrick_header_image23,665
function kubrick_upper_color() {kubrick_upper_color27,791
function kubrick_lower_color() {kubrick_lower_color35,1011
function kubrick_header_image_url() {kubrick_header_image_url43,1231
		$url = get_template_directory_uri() . '/images/' . $image;url45,1311
		$url = get_template_directory_uri() . '/images/kubrickheader.jpg';url47,1380
function kubrick_header_color() {kubrick_header_color52,1472
function kubrick_header_color_string() {kubrick_header_color_string56,1598
	$color = kubrick_header_color();color57,1640
function kubrick_header_display() {kubrick_header_display64,1744
function kubrick_header_display_string() {kubrick_header_display_string68,1876
	$display = kubrick_header_display();display69,1920
function kubrick_add_theme_page() {kubrick_add_theme_page75,2060
						$uc = ( strlen($uc[0]) == 3 ) ? $uc[0]{0}.$uc[0]{0}.$uc[0]{1}.$uc[0]{1}.$uc[0]{2}.$uc[0]{2} : $uc[0];uc90,2759
						$lc = ( strlen($lc[0]) == 3 ) ? $lc[0]{0}.$lc[0]{0}.$lc[0]{1}.$lc[0]{1}.$lc[0]{2}.$lc[0]{2} : $lc[0];lc91,2868
function kubrick_theme_page_head() {kubrick_theme_page_head134,4330
	function pickColor(color) {pickColor139,4500
	function PopupWindow_populate(contents) {PopupWindow_populate143,4616
	function PopupWindow_hidePopup(magicword) {PopupWindow_hidePopup148,4891
	function colorSelect(t,p) {colorSelect170,5483
	function PopupWindow_setSize(width,height) {PopupWindow_setSize178,5688
	function advUpdate(val, obj) {advUpdate184,5814
	function kUpdate(oid) {kUpdate188,5913
	function toggleDisplay() {toggleDisplay206,6889
	function toggleAdvanced() {toggleAdvanced211,7055
	function kDefaults() {kDefaults218,7240
	function kRevert() {kRevert228,8017
	function kInit() {kInit238,8939
function kubrick_theme_page() {kubrick_theme_page340,11011

weblog/wp-content/themes/default/header.php,0

weblog/wp-content/themes/default/index.php,0

weblog/wp-content/themes/default/links.php,0

weblog/wp-content/themes/default/page.php,0

weblog/wp-content/themes/default/search.php,0

weblog/wp-content/themes/default/searchform.php,0

weblog/wp-content/themes/default/sidebar.php,0

weblog/wp-content/themes/default/single.php,0

weblog/wp-content/themes/scicom/images/header-img.php,885
$img = 'kubrickheader.jpg';img3,9
$default = false;default10,235
$vars = array('upper'=>array('r1', 'g1', 'b1'), 'lower'=>array('r2', 'g2', 'b2'));vars11,254
			$length = strlen($_GET[$var]) / 3;length15,456
			$v = substr($_GET[$var], $index * $length, $length);v16,495
				$default = true;default20,666
		$default = true;default23,704
$im = imagecreatefromjpeg($img);im31,854
$white = imagecolorat( $im, 15, 15 );white34,948
$h = 182;h35,987
$corners = array(corners38,1073
	$x1 = 19;x153,1431
	$x2 = 740;x254,1443
	$x1 = 20;x160,1577
	$x2 = 739;x261,1589
	$r = ( $r2 - $r1 != 0 ) ? $r1 + ( $r2 - $r1 ) * ( $i / $h ) : $r1;r62,1602
	$g = ( $g2 - $g1 != 0 ) ? $g1 + ( $g2 - $g1 ) * ( $i / $h ) : $g1;g63,1671
	$b = ( $b2 - $b1 != 0 ) ? $b1 + ( $b2 - $b1 ) * ( $i / $h ) : $b1;b64,1740
	$color = imagecolorallocate( $im, $r, $g, $b );color65,1809

weblog/wp-content/themes/scicom/archive.php,0

weblog/wp-content/themes/scicom/404.php,0

weblog/wp-content/themes/scicom/attachment.php,0

weblog/wp-content/themes/scicom/archives.php,0

weblog/wp-content/themes/scicom/comments-popup.php,152
$commenter = wp_get_current_commenter();commenter32,1286
$comments = get_approved_comments($id);comments34,1348
$post = get_post($id);post35,1388

weblog/wp-content/themes/scicom/comments.php,41
		$oddcomment = 'alt';oddcomment17,557

weblog/wp-content/themes/scicom/footer.php,0

weblog/wp-content/themes/scicom/functions.php,2079
function kubrick_head() {kubrick_head3,9
	$head = "<style type='text/css'>\n<!--";head4,36
	$output = '';output5,79
		$url =  kubrick_header_image_url() ;url7,129
	$foot = "--></style>\n";foot16,535
function kubrick_header_image() {kubrick_header_image23,665
function kubrick_upper_color() {kubrick_upper_color27,791
function kubrick_lower_color() {kubrick_lower_color35,1011
function kubrick_header_image_url() {kubrick_header_image_url43,1231
		$url = get_template_directory_uri() . '/images/' . $image;url45,1311
		$url = get_template_directory_uri() . '/images/kubrickheader.jpg';url47,1380
function kubrick_header_color() {kubrick_header_color52,1472
function kubrick_header_color_string() {kubrick_header_color_string56,1598
	$color = kubrick_header_color();color57,1640
function kubrick_header_display() {kubrick_header_display64,1744
function kubrick_header_display_string() {kubrick_header_display_string68,1876
	$display = kubrick_header_display();display69,1920
function kubrick_add_theme_page() {kubrick_add_theme_page75,2060
						$uc = ( strlen($uc[0]) == 3 ) ? $uc[0]{0}.$uc[0]{0}.$uc[0]{1}.$uc[0]{1}.$uc[0]{2}.$uc[0]{2} : $uc[0];uc90,2759
						$lc = ( strlen($lc[0]) == 3 ) ? $lc[0]{0}.$lc[0]{0}.$lc[0]{1}.$lc[0]{1}.$lc[0]{2}.$lc[0]{2} : $lc[0];lc91,2868
function kubrick_theme_page_head() {kubrick_theme_page_head134,4330
	function pickColor(color) {pickColor139,4500
	function PopupWindow_populate(contents) {PopupWindow_populate143,4616
	function PopupWindow_hidePopup(magicword) {PopupWindow_hidePopup148,4891
	function colorSelect(t,p) {colorSelect170,5483
	function PopupWindow_setSize(width,height) {PopupWindow_setSize178,5688
	function advUpdate(val, obj) {advUpdate184,5814
	function kUpdate(oid) {kUpdate188,5913
	function toggleDisplay() {toggleDisplay206,6889
	function toggleAdvanced() {toggleAdvanced211,7055
	function kDefaults() {kDefaults218,7240
	function kRevert() {kRevert228,8017
	function kInit() {kInit238,8939
function kubrick_theme_page() {kubrick_theme_page340,11011

weblog/wp-content/themes/scicom/header.php,0

weblog/wp-content/themes/scicom/index.php,0

weblog/wp-content/themes/scicom/links.php,0

weblog/wp-content/themes/scicom/page.php,0

weblog/wp-content/themes/scicom/search.php,0

weblog/wp-content/themes/scicom/searchform.php,0

weblog/wp-content/themes/scicom/sidebar.php,0

weblog/wp-content/themes/scicom/single.php,0

weblog/wp-content/index.php,0

weblog/wp-includes/js/tinymce/langs/en.js,0

weblog/wp-includes/js/tinymce/plugins/autosave/langs/cs.js,0

weblog/wp-includes/js/tinymce/plugins/autosave/langs/en.js,0

weblog/wp-includes/js/tinymce/plugins/autosave/langs/sv.js,0

weblog/wp-includes/js/tinymce/plugins/autosave/editor_plugin_src.js,163
function TinyMCE_autosave_getInfo() {TinyMCE_autosave_getInfo4,157
function TinyMCE_autosave_beforeUnloadHandler() {TinyMCE_autosave_beforeUnloadHandler14,467

weblog/wp-includes/js/tinymce/plugins/autosave/editor_plugin.js,0

weblog/wp-includes/js/tinymce/plugins/directionality/langs/en.js,0

weblog/wp-includes/js/tinymce/plugins/directionality/editor_plugin.js,549
function TinyMCE_directionality_getInfo() {TinyMCE_directionality_getInfo4,172
function TinyMCE_directionality_getControlHTML(control_name) {TinyMCE_directionality_getControlHTML14,499
function TinyMCE_directionality_execCommand(editor_id, element, command, user_interface, value) {TinyMCE_directionality_execCommand30,2064
function TinyMCE_directionality_handleNodeChange(editor_id, node, undo_index, undo_levels, visual_aid, any_selection) {TinyMCE_directionality_handleNodeChange58,2855
	function getAttrib(elm, name) {getAttrib59,2976

weblog/wp-includes/js/tinymce/plugins/inlinepopups/jscripts/mcwindows.js,0

weblog/wp-includes/js/tinymce/plugins/inlinepopups/editor_plugin_src.js,0

weblog/wp-includes/js/tinymce/plugins/inlinepopups/editor_plugin.js,0

weblog/wp-includes/js/tinymce/plugins/wordpress/langs/en.js,0

weblog/wp-includes/js/tinymce/plugins/wordpress/editor_plugin.js,840
function TinyMCE_wordpress_initInstance(inst) {TinyMCE_wordpress_initInstance4,98
function TinyMCE_wordpress_getControlHTML(control_name) {TinyMCE_wordpress_getControlHTML9,297
function TinyMCE_wordpress_parseAttributes(attribute_string) {TinyMCE_wordpress_parseAttributes24,1790
function TinyMCE_wordpress_execCommand(editor_id, element, command, user_interface, value) {TinyMCE_wordpress_execCommand71,3070
	function getAttrib(elm, name) {getAttrib76,3283
function TinyMCE_wordpress_cleanup(type, content) {TinyMCE_wordpress_cleanup132,5077
function TinyMCE_wordpress_handleNodeChange(editor_id, node, undo_index, undo_levels, visual_aid, any_selection) {TinyMCE_wordpress_handleNodeChange232,9241
	function getAttrib(elm, name) {getAttrib233,9357
function wp_save_callback(el, content, body) {wp_save_callback253,10117

weblog/wp-includes/js/tinymce/plugins/wphelp/langs/en.js,0

weblog/wp-includes/js/tinymce/plugins/wphelp/editor_plugin.js,215
function TinyMCE_wphelp_getControlHTML(control_name) {TinyMCE_wphelp_getControlHTML4,95
function TinyMCE_wphelp_execCommand(editor_id, element, command, user_interface, value) {TinyMCE_wphelp_execCommand35,3138

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/anchor.js,74
function init() {init3,22
function insertAnchor() {insertAnchor27,693

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/about.js,135
function init() {init1,0
function getPluginInfo(name) {getPluginInfo48,1425
function insertHelpIFrame() {insertHelpIFrame63,1683

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/color_picker.js,277
function init() {init1,0
function selectColor() {selectColor6,78
function showColor(color) {showColor13,268
function convertRGBToHex(col) {convertRGBToHex48,2673
function convertHexToRGB(col) {convertHexToRGB67,3134
function renderColorMap() {renderColorMap81,3445

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/charmap.js,200
function init() {init1,0
function renderCharMapHTML() {renderCharMapHTML273,12597
function insertChar(chr) {insertChar301,14182
function previewChar(codeA, codeB, codeN) {previewChar309,14354

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/source_editor.js,317
function saveContent() {saveContent1,0
function fixContent(html) {fixContent7,154
function onLoadInit() {onLoadInit18,543
function setWrap(val) {setWrap26,745
function toggleWordWrap(elm) {toggleWordWrap31,832
function resizeInputs() {resizeInputs40,976
function renderWordWrap() {renderWordWrap53,1340

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/image.js,225
function insertImage() {insertImage10,303
function init() {init26,897
function resetImageData() {resetImageData62,2245
function updateImageData() {updateImageData67,2361
function getImageData() {getImageData77,2588

weblog/wp-includes/js/tinymce/themes/advanced/jscripts/link.js,73
function init() {init10,302
function insertLink() {insertLink46,1557

weblog/wp-includes/js/tinymce/themes/advanced/langs/en.js,0

weblog/wp-includes/js/tinymce/themes/advanced/color_picker.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/about.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/anchor.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/charmap.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/editor_template_src.js,0

weblog/wp-includes/js/tinymce/themes/advanced/editor_template.js,0

weblog/wp-includes/js/tinymce/themes/advanced/source_editor.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/image.htm,0

weblog/wp-includes/js/tinymce/themes/advanced/link.htm,0

weblog/wp-includes/js/tinymce/utils/form_utils.js,1008
function getColorPickerHTML(id, target_form_element) {getColorPickerHTML12,241
function pickColor(e, target_form_element) {pickColor26,1015
function updateColor(img_id, form_element_id) {updateColor31,1186
function setBrowserDisabled(id, state) {setBrowserDisabled35,1349
function getBrowserHTML(id, target_form_element, type, prefix) {getBrowserHTML51,1806
function openBrower(img_id, target_form_element, type, option) {openBrower70,2742
function selectByValue(form_obj, field_name, value, add_custom) {selectByValue77,2968
function getSelectValue(form_obj, field_name) {getSelectValue103,3565
function addClassesToList(list_id, specific_option) {addClassesToList112,3769
function isVisible(element_id) {isVisible140,4598
function convertRGBToHex(col) {convertRGBToHex146,4733
function convertHexToRGB(col) {convertHexToRGB165,5213
function trimSize(size) {trimSize179,5538
function getCSSSize(size) {getCSSSize183,5626
function getStyle(elm, attrib, style) {getStyle192,5776

weblog/wp-includes/js/tinymce/utils/mctabs.js,34
function MCTabs() {MCTabs12,233

weblog/wp-includes/js/tinymce/utils/validate.js,751
function testRegExp(form_name, element_name, re) {testRegExp12,239
function validateString(form_name, element_name) {validateString16,382
function validateSelection(form_name, element_name) {validateSelection20,517
function validateCheckBox(form_name, element_name) {validateCheckBox24,656
function validateCleanString(form_name, element_name) {validateCleanString28,782
function validateEmail(form_name, element_name) {validateEmail32,909
function validateAbsUrl(form_name, element_name) {validateAbsUrl36,1124
function validateNumber(form_name, element_name, allow_blank) {validateNumber40,1290
function validateSize(form_name, element_name,) {validateSize44,1470
function validateID(form_name, element_name,) {validateID48,1591

weblog/wp-includes/js/tinymce/tiny_mce_gzip.php,6105
	function wp_translate_tinymce_lang($text) {wp_translate_tinymce_lang22,597
			$search1 = "/^tinyMCELang\\[(['\"])(.*)\\1\]( ?= ?)(['\"])(.*)\\4/Uem";search126,705
			$replace1 = "'tinyMCELang[\\1\\2\\1]\\3'.stripslashes('\\4').__('\\5').stripslashes('\\4')";replace127,780
			$search2 = "/ : (['\"])(.*)\\1/Uem";search229,877
			$replace2 = "' : '.stripslashes('\\1').__('\\2').stripslashes('\\1')";replace230,917
			$search = array($search1, $search2);search32,992
			$replace = array($replace1, $replace2);replace33,1032
			$text = preg_replace($search, $replace, $text);text35,1076
	function wp_compact_tinymce_js($text) {wp_compact_tinymce_js41,1153
		$text = preg_replace("!(^|\s+)//.*$!m", '', $text);text45,1307
		$text = preg_replace("!/\*.*?\*/!s", '', $text);text46,1361
		$text = preg_replace("!^\t+!m", '', $text);text49,1484
		$text = str_replace("\r", '', $text);text50,1530
		$text = preg_replace("!(^|{|}|;|:|\))\n!m", '\\1', $text);text51,1570
	$expiresOffset = 3600 * 24 * 30; // 30 days util client cache expiresexpiresOffset57,1672
	$tinymce = file_get_contents(realpath("tiny_mce.js"));tinymce67,2009
	$theme = apply_filters('mce_theme', 'advanced');theme78,2472
	$locale = get_locale();locale83,2655
	$themeLanguageFile = realpath("themes/" . $theme . "/langs/" . $locale . ".js");themeLanguageFile85,2681
		$themeLanguageFile = realpath("themes/" . $theme . "/langs/en.js");themeLanguageFile88,2803
	$tinymceLanguageFile = realpath("langs/" . $locale . ".js");tinymceLanguageFile91,2946
		$tinymceLanguageFile = realpath("langs/en.js");tinymceLanguageFile94,3050
	$plugins = apply_filters('mce_plugins', array('wordpress', 'autosave','wphelp'));plugins98,3221
		$pluginFile = realpath("plugins/" . $plugin . "/editor_plugin.js");pluginFile101,3338
		$languageFile = realpath("plugins/" . $plugin . "/langs/" . $locale . ".js");languageFile102,3408
			$languageFile = realpath("plugins/" . $plugin . "/langs/en.js");languageFile104,3523
		$valid_elements = 'a[accesskey|charset|class|coords|dir<ltr?rtl|href|hreflang|id|lang|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rel|rev|shape<circle?default?poly?rect|style|tabindex|title|target|type],abbr[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],acronym[class|dir<ltr?rtl|id|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],address[class|align|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],applet[align<bottom?left?middle?right?top|alt|archive|class|code|codebase|height|hspace|id|name|object|style|title|vspace|width],area[accesskey|alt|class|coords|dir<ltr?rtl|href|id|lang|nohref<nohref|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|shape<circle?default?poly?rect|style|tabindex|title|target],base[href|target],basefont[color|face|id|size],bdo[class|dir<ltr?rtl|id|lang|style|title],big[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],blockquote[dir|style|cite|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],body[alink|background|bgcolor|class|dir<ltr?rtl|id|lang|link|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onunload|style|title|text|vlink],br[class|clear<all?left?none?right|id|style|title],button[accesskey|class|dir<ltr?rtl|disabled<disabled|id|lang|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|tabindex|title|type|value],caption[align<bottom?left?right?top|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],center[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],'valid_elements115,3863
		$valid_elements = '-a[id|href|title|rel],-strong/b,-em/i,-strike,-del,-u,p[class|align|dir],-ol,-ul,-li,br,img[class|src|alt|title|width|height|align],-sub,-sup,-blockquote[dir],-table[border|cellspacing|cellpadding|width|height|class|align|dir],thead[class|rowspan|width|height|align|valign|dir],tr[class|rowspan|width|height|align|valign|dir],th[dir|class|colspan|rowspan|width|height|align|valign|scope],td[dir|class|colspan|rowspan|width|height|align|valign],-div[dir|class|align],-span[class|align],-pre[class],-code[class],-address,-h1[class|align|dir],-h2[class|align|dir],-h3[class|align|dir],-h4[class|align|dir],-h5[class|align|dir],-h6[class|align|dir],hr';valid_elements124,18584
	$valid_elements = apply_filters('mce_valid_elements', $valid_elements);valid_elements125,19255
	$plugins = implode($plugins, ',');plugins126,19328
	$mce_buttons = apply_filters('mce_buttons', array('bold', 'italic', 'strikethrough', 'separator', 'bullist', 'numlist', 'outdent', 'indent', 'separator', 'justifyleft', 'justifycenter', 'justifyright' ,'separator', 'link', 'unlink', 'image', 'wordpress', 'separator', 'undo', 'redo', 'code', 'wphelp'));mce_buttons127,19364
	$mce_buttons = implode($mce_buttons, ',');mce_buttons128,19669
	$mce_buttons_2 = apply_filters('mce_buttons_2', array());mce_buttons_2129,19713
	$mce_buttons_2 = implode($mce_buttons_2, ',');mce_buttons_2130,19772
	$mce_buttons_3 = apply_filters('mce_buttons_3', array());mce_buttons_3131,19820
	$mce_buttons_3 = implode($mce_buttons_3, ',');mce_buttons_3132,19879
	$mce_browsers = apply_filters('mce_browsers', array('msie', 'gecko', 'opera'));mce_browsers133,19927
	$mce_browsers = implode($mce_browsers, ',');mce_browsers134,20008

weblog/wp-includes/js/tinymce/blank.htm,0

weblog/wp-includes/js/tinymce/license.html,80
functions (ten lines or less in length), then the use of the objects265,13804

weblog/wp-includes/js/tinymce/tiny_mce.js,252
function TinyMCE() {TinyMCE10,195
function TinyMCEControl(settings) {TinyMCEControl4114,124754
		function getRangeAt(idx) {getRangeAt4382,131167
	function isEmpty(para) {isEmpty4448,132609
		function isEmptyHTML(html) {isEmptyHTML4449,132635

weblog/wp-includes/js/tinymce/tiny_mce_popup.js,46
function TinyMCEPopup() {TinyMCEPopup12,237

weblog/wp-includes/js/tinymce/wp-mce-help.php,105
	function d(id) { return document.getElementById(id); }d89,1797
	function flipTab(n) {flipTab91,1854

weblog/wp-includes/js/colorpicker.js,2032
function getAnchorPosition(anchorname) {getAnchorPosition61,2388
function getAnchorWindowPosition(anchorname) {getAnchorWindowPosition107,3887
function AnchorPosition_getPageOffsetLeft (el) {AnchorPosition_getPageOffsetLeft135,4883
function AnchorPosition_getWindowOffsetLeft (el) {AnchorPosition_getWindowOffsetLeft140,5033
function AnchorPosition_getPageOffsetTop (el) {AnchorPosition_getPageOffsetTop143,5159
function AnchorPosition_getWindowOffsetTop (el) {AnchorPosition_getWindowOffsetTop148,5305
function PopupWindow_getXYPosition(anchorname) {PopupWindow_getXYPosition222,7638
function PopupWindow_setSize(width,height) {PopupWindow_setSize234,7944
function PopupWindow_populate(contents) {PopupWindow_populate239,8069
function PopupWindow_setUrl(url) {PopupWindow_setUrl244,8190
function PopupWindow_setWindowProperties(props) {PopupWindow_setWindowProperties248,8280
function PopupWindow_refresh() {PopupWindow_refresh252,8412
function PopupWindow_showPopup(anchorname) {PopupWindow_showPopup283,9246
function PopupWindow_hidePopup() {PopupWindow_hidePopup331,11108
function PopupWindow_isClicked(e) {PopupWindow_isClicked351,11668
function PopupWindow_hideIfNotClicked(e) {PopupWindow_hideIfNotClicked388,12579
function PopupWindow_autoHide() {PopupWindow_autoHide394,12784
function PopupWindow_hidePopupWindows(e) {PopupWindow_hidePopupWindows398,12948
function PopupWindow_attachListener() {PopupWindow_attachListener407,13206
function PopupWindow() {PopupWindow421,13731
function pickColor(color) {pickColor505,16698
function ColorPicker_writeDiv() {ColorPicker_writeDiv525,17402
function ColorPicker_show(anchorname) {ColorPicker_show529,17544
function ColorPicker_pickColor(color,obj) {ColorPicker_pickColor533,17617
function pickColor(color) {pickColor540,17832
function ColorPicker_select(inputobj,linkname) {ColorPicker_select550,18283
function ColorPicker_highlightColor(c) {ColorPicker_highlightColor561,18724
function ColorPicker() {ColorPicker569,19003

weblog/wp-includes/js/dbx-key.js,0

weblog/wp-includes/js/dbx.js,0

weblog/wp-includes/js/fat.js,0

weblog/wp-includes/js/quicktags.js,883
function edButton(id, display, tagStart, tagEnd, access, open) {edButton9,173
function zeroise(number, threshold) {zeroise18,522
function edLink() {edLink144,2365
function edShowButton(button, i) {edShowButton158,2748
function edShowLinks() {edShowLinks170,3447
function edAddTag(button) {edAddTag179,3794
function edRemoveTag(button) {edRemoveTag186,4024
function edCheckOpenTags(button) {edCheckOpenTags195,4298
function edCloseAllTags() {edCloseAllTags210,4535
function edQuickLink(i, thisSelect) {edQuickLink217,4692
function edSpell(myField) {edSpell234,5077
function edToolbar() {edToolbar258,5690
function edInsertTag(myField, i) {edInsertTag271,6220
function edInsertContent(myField, myValue) {edInsertContent340,8251
function edInsertLink(myField, i, defaultValue) {edInsertLink364,8966
function edInsertImage(myField) {edInsertImage380,9290

weblog/wp-includes/js/tw-sack.js,32
function sack(file){sack6,205

weblog/wp-includes/capabilities.php,4666
class WP_Roles {WP_Roles3,7
	function WP_Roles() {WP_Roles10,113
	function add_role($role, $display_name, $capabilities = '') {add_role25,500
	function remove_role($role) {remove_role38,907
	function add_cap($role, $cap, $grant = true) {add_cap49,1154
	function remove_cap($role, $cap) {remove_cap54,1308
	function &get_role($role) {get_role59,1448
	function get_names() {get_names66,1585
	function is_role($role)is_role70,1641
class WP_Role {WP_Role76,1718
	function WP_Role($role, $capabilities) {WP_Role80,1767
	function add_cap($cap, $grant = true) {add_cap85,1875
			$wp_roles = new WP_Roles();wp_roles89,1965
	function remove_cap($cap) {remove_cap95,2088
			$wp_roles = new WP_Roles();wp_roles99,2166
	function has_cap($cap) {has_cap105,2282
		$capabilities = apply_filters('role_has_cap', $this->capabilities, $cap, $this->name);capabilities106,2308
class WP_User {WP_User115,2496
	function WP_User($id, $name = '') {WP_User123,2624
			$name = $id;name130,2763
			$id = 0;id131,2779
	function get_role_caps() {get_role_caps154,3252
			$wp_roles = new WP_Roles();wp_roles158,3331
			$role = $wp_roles->get_role($role);role167,3669
	function add_role($role) {add_role173,3848
	function remove_role($role) {remove_role180,4035
	function set_role($role) {set_role188,4262
	function level_reduction($max, $item) {level_reduction198,4557
	        $level = intval($matches[1]);level200,4662
	function update_user_level_from_caps() {update_user_level_from_caps207,4784
	function add_cap($cap, $grant = true) {add_cap213,5043
	function remove_cap($cap) {remove_cap218,5177
	function has_cap($cap) {has_cap226,5412
			$cap = $this->translate_level_to_cap($cap);cap228,5464
		$args = array_slice(func_get_args(), 1);args230,5514
		$args = array_merge(array($cap, $this->id), $args);args231,5557
		$caps = call_user_func_array('map_meta_cap', $args);caps232,5611
		$capabilities = apply_filters('user_has_cap', $this->allcaps, $caps, $args);capabilities234,5700
	function translate_level_to_cap($level) {translate_level_to_cap244,5943
function map_meta_cap($cap, $user_id) {map_meta_cap251,6073
	$args = array_slice(func_get_args(), 2);args252,6113
	$caps = array();caps253,6155
		$author_data = get_userdata($user_id);author_data259,6300
		$post = get_post($args[0]);post261,6378
		$post_author_data = get_userdata($post->post_author);post_author_data262,6408
		$post = get_post($args[0]);post288,7227
		$author_data = get_userdata($user_id);author_data295,7343
		$post_author_data = get_userdata($post->post_author);post_author_data296,7384
function current_user_can($capability) {current_user_can311,7727
	$current_user = wp_get_current_user();current_user312,7768
	$args = array_slice(func_get_args(), 1);args314,7809
	$args = array_merge(array($capability), $args);args315,7851
function get_role($role) {get_role324,8063
		$wp_roles = new WP_Roles();wp_roles328,8137
function add_role($role, $display_name, $capabilities = '') {add_role333,8207
		$wp_roles = new WP_Roles();wp_roles337,8316
function remove_role($role) {remove_role342,8416
		$wp_roles = new WP_Roles();wp_roles346,8493
function user_can_create_post($user_id, $blog_id = 1, $category_id = 'None') {user_can_create_post356,8676
	$author_data = get_userdata($user_id);author_data357,8755
function user_can_create_draft($user_id, $blog_id = 1, $category_id = 'None') {user_can_create_draft362,8891
	$author_data = get_userdata($user_id);author_data363,8971
function user_can_edit_post($user_id, $post_id, $blog_id = 1) {user_can_edit_post368,9104
	$author_data = get_userdata($user_id);author_data369,9168
	$post = get_post($post_id);post370,9208
	$post_author_data = get_userdata($post->post_author);post_author_data371,9237
function user_can_delete_post($user_id, $post_id, $blog_id = 1) {user_can_delete_post383,9620
function user_can_set_post_date($user_id, $blog_id = 1, $category_id = 'None') {user_can_set_post_date389,9861
	$author_data = get_userdata($user_id);author_data390,9942
function user_can_edit_post_date($user_id, $post_id, $blog_id = 1) {user_can_edit_post_date395,10141
	$author_data = get_userdata($user_id);author_data396,10210
function user_can_edit_post_comments($user_id, $post_id, $blog_id = 1) {user_can_edit_post_comments401,10407
function user_can_delete_post_comments($user_id, $post_id, $blog_id = 1) {user_can_delete_post_comments407,10674
function user_can_edit_user($user_id, $other_user) {user_can_edit_user412,10883
	$user  = get_userdata($user_id);user413,10936
	$other = get_userdata($other_user);other414,10970

weblog/wp-includes/cache.php,3703
function wp_cache_add($key, $data, $flag = '', $expire = 0) {wp_cache_add2,6
function wp_cache_close() {wp_cache_close8,158
function wp_cache_delete($id, $flag = '') {wp_cache_delete14,250
function wp_cache_flush() {wp_cache_flush20,370
function wp_cache_get($id, $flag = '') {wp_cache_get26,463
function wp_cache_init() {wp_cache_init32,577
	$wp_object_cache = new WP_Object_Cache();wp_object_cache35,631
function wp_cache_replace($key, $data, $flag = '', $expire = 0) {wp_cache_replace38,677
function wp_cache_set($key, $data, $flag = '', $expire = 0) {wp_cache_set44,837
define('CACHE_SERIAL_HEADER', "<?php\n/*");CACHE_SERIAL_HEADER50,989
define('CACHE_SERIAL_FOOTER', "*/\n?".">");CACHE_SERIAL_FOOTER51,1033
class WP_Object_Cache {WP_Object_Cache53,1078
	function acquire_lock() {acquire_lock69,1510
	function add($id, $data, $group = 'default', $expire = '') {add78,1733
			$group = 'default';group80,1817
	function delete($id, $group = 'default', $force = false) {delete88,1961
			$group = 'default';group90,2043
	function flush() {flush101,2291
	function get($id, $group = 'default', $count_hits = true) {get118,2587
			$group = 'default';group120,2670
		$cache_file = $this->cache_dir.$this->get_group_dir($group)."/".$this->hash($id).'.php';cache_file146,3317
		$now = time();now155,3645
	function get_group_dir($group) {get_group_dir170,4126
	function hash($data) {hash177,4279
	function load_group_from_db($group) {load_group_from_db185,4450
					$curcat = $catt->cat_ID;curcat195,4782
					$fullpath = '/'.$this->cache['category'][$catt->cat_ID]->category_nicename;fullpath196,4812
						$curcat = $this->cache['category'][$curcat]->category_parent;curcat198,4964
						$fullpath = '/'.$this->cache['category'][$curcat]->category_nicename.$fullpath;fullpath199,5032
					$options = $wpdb->get_results("SELECT option_name, option_value FROM $wpdb->options");options208,5390
	function make_group_dir($group, $perms) {make_group_dir221,5678
		$group_dir = $this->get_group_dir($group);group_dir222,5721
		$make_dir = '';make_dir223,5766
				$file_perms = $perms & 0000666;file_perms233,6088
	function rm_cache_dir() {rm_cache_dir242,6298
		$dir = $this->cache_dir;dir243,6325
		$dir = rtrim($dir, DIRECTORY_SEPARATOR);dir244,6352
		$top_dir = $dir;top_dir245,6395
		$stack = array($dir);stack246,6414
		$index = 0;index247,6438
			$dir = $stack[$index];dir251,6526
			$dh = @ opendir($dir);dh253,6559
		$stack = array_reverse($stack);  // Last added dirs are deepeststack270,6972
	function release_lock() {release_lock278,7120
	function replace($id, $data, $group = 'default', $expire = '') {replace284,7232
			$group = 'default';group286,7320
	function set($id, $data, $group = 'default', $expire = '') {set294,7464
			$group = 'default';group296,7548
			$data = '';data299,7593
	function save() {save308,7758
		$stat = stat(ABSPATH.'wp-content');stat318,7950
		$dir_perms = $stat['mode'] & 0007777; // Get the permission bits.dir_perms319,7988
		$file_perms = $dir_perms & 0000666; // Remove execute bits for files.file_perms320,8056
		$errors = 0;errors338,8549
			$group_dir = $this->make_group_dir($group, $dir_perms);group_dir340,8617
			$ids = array_unique($ids);ids342,8677
				$cache_file = $group_dir.$this->hash($id).'.php';cache_file344,8734
				$temp_file = tempnam($group_dir, 'tmp');temp_file353,8973
				$serial = CACHE_SERIAL_HEADER.base64_encode(serialize($this->cache[$group][$id])).CACHE_SERIAL_FOOTER;serial354,9018
				$fd = @fopen($temp_file, 'w');fd355,9125
	function stats() {stats382,9582
	function WP_Object_Cache() {WP_Object_Cache406,10262

weblog/wp-includes/comment-functions.php,17145
function comments_template( $file = '/comments.php' ) {comments_template5,30
	$req = get_settings('require_name_email');req11,254
	$commenter = wp_get_current_commenter();commenter12,298
		$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_post_ID = '$post->ID' AND comment_approved = '1' ORDER BY comment_date");comments17,434
		$author_db = $wpdb->escape($comment_author);author_db19,596
		$email_db  = $wpdb->escape($comment_author_email);email_db20,643
		$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_post_ID = '$post->ID' AND ( comment_approved = '1' OR ( comment_author = '$author_db' AND comment_author_email = '$email_db' AND comment_approved = '0' ) ) ORDER BY comment_date");comments21,696
	define('COMMENTS_TEMPLATE', true);COMMENTS_TEMPLATE24,959
	$include = apply_filters('comments_template', TEMPLATEPATH . $file );include25,995
function wp_new_comment( $commentdata ) {wp_new_comment32,1194
	$commentdata = apply_filters('preprocess_comment', $commentdata);commentdata33,1236
	$commentdata = wp_filter_comment($commentdata);commentdata45,1698
	$comment_ID = wp_insert_comment($commentdata);comment_ID49,1817
		$post = &get_post($commentdata['comment_post_ID']); // Don't notify if it's your own commentpost57,2136
function wp_insert_comment($commentdata) {wp_insert_comment66,2454
		$comment_author_IP = $_SERVER['REMOTE_ADDR'];comment_author_IP71,2573
		$comment_date = current_time('mysql');comment_date73,2652
		$comment_date_gmt = gmdate('Y-m-d H:i:s', strtotime($comment_date) );comment_date_gmt75,2728
		$comment_parent = 0;comment_parent77,2833
		$comment_approved = 1;comment_approved79,2891
	$result = $wpdb->query("INSERT INTO $wpdb->comments result81,2917
	$id = $wpdb->insert_id;id87,3459
		$count = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_post_ID = '$comment_post_ID' AND comment_approved = '1'");count90,3517
function wp_filter_comment($commentdata) {wp_filter_comment96,3771
function wp_allow_comment($commentdata) {wp_allow_comment108,4656
	$comment_user_domain = apply_filters('pre_comment_user_domain', gethostbyaddr($comment_author_IP) );comment_user_domain112,4738
	$dupe = "SELECT comment_ID FROM $wpdb->comments WHERE comment_post_ID = '$comment_post_ID' AND ( comment_author = '$comment_author' ";dupe115,4868
		$time_lastcomment = mysql2date('U', $lasttime);time_lastcomment124,5529
		$time_newcomment  = mysql2date('U', $comment_date_gmt);time_newcomment125,5579
		$userdata = get_userdata($user_id);userdata133,5892
		$user = new WP_User($user_id);user134,5930
		$post_author = $wpdb->get_var("SELECT post_author FROM $wpdb->posts WHERE ID = '$comment_post_ID' LIMIT 1");post_author135,5963
		$approved = 1;approved140,6202
			$approved = 1;approved146,6430
			$approved = 0;approved148,6455
			$approved = 'spam';approved150,6616
	$approved = apply_filters('pre_comment_approved', $approved);approved153,6643
function wp_update_comment($commentarr) {wp_update_comment158,6729
	$comment = get_comment($commentarr['comment_ID'], ARRAY_A);comment162,6829
	$commentarr = array_merge($comment, $commentarr);commentarr169,7071
	$commentarr = wp_filter_comment( $commentarr );commentarr171,7123
	$comment_content = apply_filters('comment_save_pre', $comment_content);comment_content176,7231
	$result = $wpdb->query(result178,7305
	$rval = $wpdb->rows_affected;rval188,7653
	$c = $wpdb->get_row( "SELECT count(*) as c FROM {$wpdb->comments} WHERE comment_post_ID = '$comment_post_ID' AND comment_approved = '1'" );c190,7685
function wp_delete_comment($comment_id) {wp_delete_comment199,8009
	$comment = get_comment($comment_id);comment203,8110
	$post_id = $comment->comment_post_ID;post_id208,8259
		$count = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_post_ID = '$post_id' AND comment_approved = '1'");count210,8352
function clean_url( $url ) {clean_url218,8652
	$url = preg_replace('|[^a-z0-9-~+_.?#=&;,/:]|i', '', $url);url220,8711
	$url = str_replace(';//', '://', $url);url221,8772
	$url = (!strstr($url, '://')) ? 'http://'.$url : $url;url222,8813
	$url = preg_replace('/&([^#])(?![a-z]{2,8};)/', '&#038;$1', $url);url223,8869
function get_comments_number( $post_id = 0 ) {get_comments_number227,8954
	$post_id = (int) $post_id;post_id229,9043
		$post_id = $id;post_id232,9090
function comments_number( $zero = 'No Comments', $one = '1 Comment', $more = '% Comments', $number = '' ) {comments_number240,9349
	$number = get_comments_number( $id );number242,9480
		$blah = $zero;blah244,9540
		$blah = $one;blah246,9584
		$blah = str_replace('%', $number, $more);blah248,9627
function get_comments_link() {get_comments_link253,9724
function get_comment_link() {get_comment_link257,9797
function comments_link( $file = '', $echo = true ) {comments_link262,9937
function comments_popup_script($width=400, $height=400, $file='') {comments_popup_script266,10023
			$wpcommentspopupfile = '';  // Use the index.wpcommentspopupfile270,10216
			$wpcommentspopupfile = $file;wpcommentspopupfile272,10276
    $wpcommentsjavascript = 1;wpcommentsjavascript275,10314
    $javascript = "<script type='text/javascript'>\nfunction wpopen (macagna) {\n    window.open(macagna, '_blank', 'width=$width,height=$height,scrollbars=yes,status=yes');\n}\n</script>\n";javascript276,10345
function comments_popup_link($zero='No Comments', $one='1 Comment', $more='% Comments', $CSSclass='', $none='Comments Off') {comments_popup_link280,10562
	$number = $comment_count_cache[$id];number288,11024
				$home = get_settings('home');home303,11523
				$home = get_settings('siteurl');home305,11565
		$title = wp_specialchars(apply_filters('the_title', get_the_title()), true);title318,11990
function get_comment_ID() {get_comment_ID326,12207
function comment_ID() {comment_ID331,12319
function get_comment_author() {get_comment_author335,12370
		$author = __('Anonymous');author338,12460
		$author = $comment->comment_author;author340,12495
function comment_author() {comment_author344,12590
	$author = apply_filters('comment_author', get_comment_author() );author345,12618
function get_comment_author_email() {get_comment_author_email349,12703
function comment_author_email() {comment_author_email354,12846
function get_comment_author_link() {get_comment_author_link358,12949
	$url    = get_comment_author_url();url360,13004
	$author = get_comment_author();author361,13041
		$return = $author;return364,13118
		$return = "<a href='$url' rel='external nofollow'>$author</a>";return366,13145
function comment_author_link() {comment_author_link370,13273
function get_comment_type() {get_comment_type374,13342
function comment_type($commenttxt = 'Comment', $trackbacktxt = 'Trackback', $pingbacktxt = 'Pingback') {comment_type383,13537
	$type = get_comment_type();type384,13642
function get_comment_author_url() {get_comment_author_url397,13835
function comment_author_url() {comment_author_url402,13971
function comment_author_email_link($linktext='', $before='', $after='') {comment_author_email_link406,14068
	$email = apply_filters('comment_email', $comment->comment_author_email);email408,14160
	$display = ($linktext != '') ? $linktext : $email;display410,14278
function get_comment_author_url_link( $linktext = '', $before = '', $after = '' ) {get_comment_author_url_link417,14414
	$url = get_comment_author_url();url419,14516
	$display = ($linktext != '') ? $linktext : $url;display420,14550
	$return = "$before<a href='$url' rel='external'>$display</a>$after";return421,14600
function comment_author_url_link( $linktext = '', $before = '', $after = '' ) {comment_author_url_link425,14736
function get_comment_author_IP() {get_comment_author_IP429,14884
function comment_author_IP() {comment_author_IP434,15017
function get_comment_text() {get_comment_text438,15082
function comment_text() {comment_text443,15203
function get_comment_excerpt() {get_comment_excerpt447,15290
	$comment_text = strip_tags($comment->comment_content);comment_text449,15341
	$blah = explode(' ', $comment_text);blah450,15397
		$k = 20;k452,15461
		$use_dotdotdot = 1;use_dotdotdot453,15472
		$k = count($blah);k455,15504
		$use_dotdotdot = 0;use_dotdotdot456,15525
	$excerpt = '';excerpt458,15550
function comment_excerpt() {comment_excerpt466,15730
function get_comment_date( $d = '' ) {get_comment_date470,15826
		$date = mysql2date( get_settings('date_format'), $comment->comment_date);date473,15900
		$date = mysql2date($d, $comment->comment_date);date475,15982
function comment_date( $d = '' ) {comment_date479,16085
function get_comment_time( $d = '', $gmt = false ) {get_comment_time483,16153
	$comment_date = $gmt? $comment->comment_date_gmt : $comment->comment_date;comment_date485,16224
		$date = mysql2date(get_settings('time_format'), $comment_date);date487,16317
		$date = mysql2date($d, $comment_date);date489,16389
function comment_time( $d = '' ) {comment_time493,16483
function get_trackback_url() {get_trackback_url497,16549
	$tb_url = get_settings('siteurl') . '/wp-trackback.php?p=' . $id;tb_url499,16593
		$tb_url = trailingslashit(get_permalink()) . 'trackback/';tb_url502,16711
function trackback_url( $display = true ) {trackback_url506,16792
function trackback_rdf($timezone = 0) {trackback_rdf513,16919
function comments_open() {comments_open531,17559
function pings_open() {pings_open539,17681
function get_lastcommentmodified($timezone = 'server') {get_lastcommentmodified549,17825
	$add_seconds_blog = get_settings('gmt_offset') * 3600;add_seconds_blog551,17935
	$add_seconds_server = date('Z');add_seconds_server552,17991
	$now = current_time('mysql', 1);now553,18025
				$lastcommentmodified = $wpdb->get_var("SELECT comment_date_gmt FROM $wpdb->comments WHERE comment_date_gmt <= '$now' ORDER BY comment_date_gmt DESC LIMIT 1");lastcommentmodified557,18164
				$lastcommentmodified = $wpdb->get_var("SELECT comment_date FROM $wpdb->comments WHERE comment_date_gmt <= '$now' ORDER BY comment_date_gmt DESC LIMIT 1");lastcommentmodified560,18354
				$lastcommentmodified = $wpdb->get_var("SELECT DATE_ADD(comment_date_gmt, INTERVAL '$add_seconds_server' SECOND) FROM $wpdb->comments WHERE comment_date_gmt <= '$now' ORDER BY comment_date_gmt DESC LIMIT 1");lastcommentmodified563,18542
		$lastcommentmodified = $cache_lastcommentmodified[$timezone];lastcommentmodified568,18843
function get_commentdata( $comment_ID, $no_cache = 0, $include_unapproved = false ) { // less flexible, but saves DB queriesget_commentdata573,18943
		$query = "SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment_ID'";query576,19128
    		$myrow = $wpdb->get_row($query, ARRAY_A);myrow580,19294
function pingback($content, $post_ID) {pingback597,19973
	$log = debug_fopen(ABSPATH . '/pingback.log', 'a');log602,20147
	$post_links = array();post_links603,20200
	$pung = get_pung($post_ID);pung606,20284
	$ltrs = '\w';ltrs609,20328
	$gunk = '/#~:.?+=&%@!\-';gunk610,20343
	$punc = '.:?\-';punc611,20370
	$any = $ltrs . $gunk . $punc;any612,20388
			$test = parse_url($link_test);test636,21405
		$pingback_server_url = discover_pingback_server_uri($pagelinkedto, 2048);pingback_server_url648,21766
			$pagelinkedfrom = get_permalink($post_ID);pagelinkedfrom655,22030
			$client = new IXR_Client($pingback_server_url);client659,22196
function discover_pingback_server_uri($url, $timeout_bytes = 2048) {discover_pingback_server_uri677,22764
	$byte_count = 0;byte_count680,22855
	$contents = '';contents681,22873
	$headers = '';headers682,22890
	$pingback_str_dquote = 'rel="pingback"';pingback_str_dquote683,22906
	$pingback_str_squote = 'rel=\'pingback\'';pingback_str_squote684,22948
	$x_pingback_str = 'x-pingback: ';x_pingback_str685,22992
	$pingback_href_original_pos = 27;pingback_href_original_pos686,23027
	$path  = (!isset($path)) ? '/'        : $path;path695,23176
	$port  = (isset($port))  ? $port      : 80;port697,23269
	$fp = @fsockopen($host, $port, $errno, $errstr, 2);fp700,23357
	$request = "GET $path HTTP/1.1\r\nHost: $host\r\nUser-Agent: WordPress/$wp_version \r\n\r\n";request707,23510
		$line = fgets($fp, 512);line713,23717
		$x_pingback_header_offset = strpos(strtolower($headers), $x_pingback_str);x_pingback_header_offset718,23817
			$pingback_server_url = trim($matches[1]);pingback_server_url722,24005
			$content_type = trim($matches[1]);content_type727,24202
		$line = fgets($fp, 1024);line737,24419
		$pingback_link_offset_dquote = strpos($contents, $pingback_str_dquote);pingback_link_offset_dquote739,24475
		$pingback_link_offset_squote = strpos($contents, $pingback_str_squote);pingback_link_offset_squote740,24549
			$quote = ($pingback_link_offset_dquote) ? '"' : '\'';quote742,24693
			$pingback_link_offset = ($quote=='"') ? $pingback_link_offset_dquote : $pingback_link_offset_squote;pingback_link_offset743,24750
			$pingback_href_pos = @strpos($contents, 'href=', $pingback_link_offset);pingback_href_pos744,24854
			$pingback_href_start = $pingback_href_pos+6;pingback_href_start745,24930
			$pingback_href_end = @strpos($contents, $quote, $pingback_href_start);pingback_href_end746,24978
			$pingback_server_url_len = $pingback_href_end - $pingback_href_start;pingback_server_url_len747,25052
			$pingback_server_url = substr($contents, $pingback_href_start, $pingback_server_url_len);pingback_server_url748,25125
function is_local_attachment($url) {is_local_attachment767,25657
		$post = & get_post($id);post773,25870
function wp_set_comment_status($comment_id, $comment_status) {wp_set_comment_status780,25980
			$query = "UPDATE $wpdb->comments SET comment_approved='0' WHERE comment_ID='$comment_id' LIMIT 1";query785,26107
			$query = "UPDATE $wpdb->comments SET comment_approved='1' WHERE comment_ID='$comment_id' LIMIT 1";query788,26236
 			$query = "UPDATE $wpdb->comments SET comment_approved='spam' WHERE comment_ID='$comment_id' LIMIT 1";query791,26363
		$comment = get_comment($comment_id);comment803,26689
		$comment_post_ID = $comment->comment_post_ID;comment_post_ID804,26728
		$c = $wpdb->get_row( "SELECT count(*) as c FROM {$wpdb->comments} WHERE comment_post_ID = '$comment_post_ID' AND comment_approved = '1'" );c805,26776
function wp_get_comment_status($comment_id) {wp_get_comment_status814,27095
	$result = $wpdb->get_var("SELECT comment_approved FROM $wpdb->comments WHERE comment_ID='$comment_id' LIMIT 1");result817,27158
function check_comment($author, $email, $url, $comment, $user_ip, $user_agent, $comment_type) {check_comment831,27502
	$mod_keys = trim( get_settings('moderation_keys') );mod_keys839,27840
		$words = explode("\n", $mod_keys );words841,27922
			$word = trim($word);word844,27991
			$word = preg_quote($word, '#');word851,28167
			$pattern = "#$word#i"; pattern853,28205
			$uri = parse_url($url);uri866,28745
			$domain = $uri['host'];domain867,28772
			$uri = parse_url( get_option('home') );uri868,28799
			$home_domain = $uri['host'];home_domain869,28842
			$ok_to_comment = $wpdb->get_var("SELECT comment_approved FROM $wpdb->comments WHERE comment_author = '$author' AND comment_author_email = '$email' and comment_approved = '1' LIMIT 1");ok_to_comment875,29093
function get_approved_comments($post_id) {get_approved_comments889,29480
	$post_id = (int) $post_id;post_id892,29539
function sanitize_comment_cookies() {sanitize_comment_cookies896,29713
		$comment_author = apply_filters('pre_comment_author_name', $_COOKIE['comment_author_'.COOKIEHASH]);comment_author898,29807
		$comment_author = stripslashes($comment_author);comment_author899,29909
		$comment_author = wp_specialchars($comment_author, true);comment_author900,29960
		$comment_author_email = apply_filters('pre_comment_author_email', $_COOKIE['comment_author_email_'.COOKIEHASH]);comment_author_email905,30146
		$comment_author_email = stripslashes($comment_author_email);comment_author_email906,30261
		$comment_author_email = wp_specialchars($comment_author_email, true);	comment_author_email907,30324
		$comment_author_url = apply_filters('pre_comment_author_url', $_COOKIE['comment_author_url_'.COOKIEHASH]);comment_author_url912,30533
		$comment_author_url = stripslashes($comment_author_url);comment_author_url913,30642
		$comment_author_url = wp_specialchars($comment_author_url, true);comment_author_url914,30701
function wp_get_current_commenter() {wp_get_current_commenter919,30843
	$comment_author = '';comment_author922,30923
		$comment_author = $_COOKIE['comment_author_'.COOKIEHASH];comment_author924,31000
	$comment_author_email = '';comment_author_email926,31061
		$comment_author_email = $_COOKIE['comment_author_email_'.COOKIEHASH];comment_author_email928,31150
	$comment_author_url = '';comment_author_url930,31223
		$comment_author_url = $_COOKIE['comment_author_url_'.COOKIEHASH];comment_author_url932,31308

weblog/wp-includes/class-IXR.php,7655
class IXR_Value {IXR_Value10,326
    function IXR_Value ($data, $type = false) {IXR_Value13,374
            $type = $this->calculateType();type16,473
    function calculateType() {calculateType31,1000
    function getXml() {getXml64,2043
                $return = '<array><data>'."\n";return80,2628
                $return = '<struct>'."\n";return88,2944
					$name = htmlspecialchars($name);name90,3046
    function isStruct($array) {isStruct104,3497
        $expected = 0;expected106,3598
class IXR_Message {IXR_Message118,3829
    function IXR_Message ($message) {IXR_Message135,4417
    function parse() {parse138,4496
    function tag_open($parser, $tag, $attr) {tag_open165,5723
    function cdata($parser, $cdata) {cdata185,6470
    function tag_close($parser, $tag) {tag_close188,6560
        $valueFlag = false;valueFlag189,6600
                $value = (int) trim($this->_currentTagContents);value193,6698
                $valueFlag = true;valueFlag194,6763
                $value = (double) trim($this->_currentTagContents);value197,6848
                $valueFlag = true;valueFlag198,6916
                $value = $this->_currentTagContents;value201,7001
                $valueFlag = true;valueFlag202,7054
                $value = new IXR_Date(trim($this->_currentTagContents));value205,7149
                $valueFlag = true;valueFlag207,7272
                    $value = (string)$this->_currentTagContents;value212,7484
                    $valueFlag = true;valueFlag213,7549
                $value = (boolean) trim($this->_currentTagContents);value217,7657
                $valueFlag = true;valueFlag218,7726
                $value = base64_decode( trim( $this->_currentTagContents ) );value221,7811
                $valueFlag = true;valueFlag222,7889
                $value = array_pop($this->_arraystructs);value227,8056
                $valueFlag = true;valueFlag229,8168
class IXR_Server {IXR_Server261,9341
    function IXR_Server($callbacks = false, $data = false) {IXR_Server266,9446
    function serve($data = false) {serve274,9686
            $data = $HTTP_RAW_POST_DATA;data280,9904
        $result = $this->call($this->message->methodName, $this->message->params);result289,10310
        $r = new IXR_Value($result);r295,10544
        $resultxml = $r->getXml();resultxml296,10581
        $xml = <<<EODxml298,10642
    function call($methodname, $args) {call313,10855
        $method = $this->callbacks[$methodname];method317,11059
            $args = $args[0];args321,11274
            $method = substr($method, 5);method326,11470
            $result = $this->$method($args);result331,11723
            $result = call_user_func($method, $args);result342,12275
    function error($error, $message = false) {error347,12370
            $error = new IXR_Error($error, $message);error350,12534
    function output($xml) {output354,12645
        $xml = '<?xml version="1.0"?>'."\n".$xml;xml355,12673
        $length = strlen($xml);length356,12723
    function hasMethod($method) {hasMethod364,12953
    function setCapabilities() {setCapabilities367,13057
    function getCapabilities($args) {getCapabilities384,13685
    function setCallbacks() {setCallbacks387,13765
    function listMethods($args) {listMethods392,14012
    function multiCall($methodcalls) {multiCall397,14253
        $return = array();return399,14352
            $method = $call['methodName'];method401,14421
            $params = $call['params'];params402,14464
                $result = new IXR_Error(-32600, 'Recursive calls to system.multicall are forbidden');result404,14552
                $result = $this->call($method, $params);result406,14675
class IXR_Request {IXR_Request421,15072
    function IXR_Request($method, $args) {IXR_Request425,15138
            $v = new IXR_Value($arg);v437,15446
    function getLength() {getLength443,15636
    function getXml() {getXml446,15704
class IXR_Client {IXR_Client452,15765
    function IXR_Client($server, $path = false, $port = 80, $timeout = false) {IXR_Client463,16001
            $bits = parse_url($server);bits466,16158
    function query() {query482,16723
        $args = func_get_args();args483,16746
        $method = array_shift($args);method484,16779
        $request = new IXR_Request($method, $args);request485,16817
        $length = $request->getLength();length486,16869
        $xml = $request->getXml();xml487,16910
        $r = "\r\n";r488,16945
        $request  = "POST {$this->path} HTTP/1.0$r";request489,16966
            $fp = @fsockopen($this->server, $this->port, $errno, $errstr, $this->timeout);fp500,17417
            $fp = @fsockopen($this->server, $this->port, $errno, $errstr);fp502,17525
        $contents = '';contents509,17805
        $gotFirstLine = false;gotFirstLine510,17829
        $gettingHeaders = true;gettingHeaders511,17860
            $line = fgets($fp, 4096);line513,17921
                $gotFirstLine = true;gotFirstLine520,18247
                $gettingHeaders = false;gettingHeaders523,18336
    function getResponse() {getResponse547,19162
    function isError() {isError551,19304
    function getErrorCode() {getErrorCode554,19377
    function getErrorMessage() {getErrorMessage557,19448
class IXR_Error {IXR_Error563,19529
    function IXR_Error($code, $message) {IXR_Error566,19580
    function getXml() {getXml570,19692
        $xml = <<<EODxml571,19716
class IXR_Date {IXR_Date595,20135
    function IXR_Date($time) {IXR_Date602,20246
    function parseTimestamp($timestamp) {parseTimestamp610,20475
    function parseIso($iso) {parseIso618,20797
    function getIso() {getIso627,21135
    function getXml() {getXml630,21285
    function getTimestamp() {getTimestamp633,21390
class IXR_Base64 {IXR_Base64639,21535
    function IXR_Base64($data) {IXR_Base64641,21569
    function getXml() {getXml644,21637
class IXR_IntrospectionServer extends IXR_Server {IXR_IntrospectionServer650,21737
    function IXR_IntrospectionServer() {IXR_IntrospectionServer653,21824
    function addCallback($method, $callback, $args, $help) {addCallback685,23011
    function call($methodname, $args) {call690,23207
            $args = array($args);args693,23326
        $method = $this->callbacks[$methodname];method699,23614
        $signature = $this->signatures[$methodname];signature700,23663
        $returnType = array_shift($signature);returnType701,23716
        $ok = true;ok707,23992
        $argsbackup = $args;argsbackup708,24012
            $arg = array_shift($args);arg710,24098
            $type = array_shift($signature);type711,24137
                        $ok = false;ok716,24325
                        $ok = false;ok722,24517
                        $ok = false;ok727,24694
                        $ok = false;ok733,24884
                        $ok = false;ok739,25091
    function methodSignature($method) {methodSignature750,25448
        $types = $this->signatures[$method];types755,25697
        $return = array();return756,25742
    function methodHelp($method) {methodHelp788,26763
class IXR_ClientMulticall extends IXR_Client {IXR_ClientMulticall794,26845
    function IXR_ClientMulticall($server, $path = false, $port = 80) {IXR_ClientMulticall796,26918
    function addCall() {addCall800,27127
        $args = func_get_args();args801,27152
        $methodName = array_shift($args);methodName802,27185
        $struct = array(struct803,27227
    function query() {query809,27374

weblog/wp-includes/class-pop3.php,5828
class POP3 {POP319,484
    function POP3 ( $server = '', $timeout = '' ) {POP350,1742
    function update_timer () {update_timer67,2339
    function connect ($server, $port = 110)  {connect72,2438
            $server = $this->MAILSERVER;server79,2735
        $fp = fsockopen("$server", $port, $errno, $errstr);fp87,2952
        $reply = fgets($fp,$this->BUFFER);reply97,3257
        $reply = $this->strip_clf($reply);reply98,3300
    function noop () {noop117,3958
            $cmd = "NOOP";cmd123,4142
            $reply = $this->send_cmd( $cmd );reply124,4169
    function user ($user = "") {user129,4278
            $reply = $this->send_cmd("USER $user");reply139,4668
    function pass ($pass = "")     {pass148,4936
            $reply = $this->send_cmd("PASS $pass");reply159,5385
                $count = $this->last("count");count166,5693
    function apop ($login,$pass) {apop179,6131
            $retVal = $this->login($login,$pass);retVal189,6544
            $banner = $this->BANNER;banner198,6916
                $retVal = $this->login($login,$pass);retVal201,7103
                $AuthString = $banner;AuthString204,7210
                $APOPString = md5($AuthString);APOPString206,7287
                $cmd = "APOP $login $APOPString";cmd207,7335
                $reply = $this->send_cmd($cmd);reply208,7385
                    $retVal = $this->login($login,$pass);retVal211,7590
                    $count = $this->last("count");count215,7750
    function login ($login = "", $pass = "") {login229,8242
            $fp = $this->FP;fp238,8624
                $count = $this->pass($pass);count243,8806
    function top ($msgNum, $numLines = "0") {top253,9100
        $fp = $this->FP;fp265,9582
        $buffer = $this->BUFFER;buffer266,9607
        $cmd = "TOP $msgNum $numLines";cmd267,9640
        $reply = fgets($fp, $buffer);reply269,9730
        $reply = $this->strip_clf($reply);reply270,9768
        $count = 0;count280,10064
        $MsgArray = array();MsgArray281,10084
        $line = fgets($fp,$buffer);line283,10114
            $line = fgets($fp,$buffer);line288,10261
    function pop_list ($msgNum = "") {pop_list295,10388
        $fp = $this->FP;fp305,10779
        $Total = $this->COUNT;Total306,10804
            $cmd = "LIST $msgNum";cmd321,11118
            $reply = fgets($fp,$this->BUFFER);reply323,11189
            $reply = $this->strip_clf($reply);reply324,11236
        $cmd = "LIST";cmd336,11666
        $reply = $this->send_cmd($cmd);reply337,11689
            $reply = $this->strip_clf($reply);reply340,11773
        $MsgArray = array();MsgArray344,11938
            $line = fgets($fp,$this->BUFFER);line349,12096
            $line = $this->strip_clf($line);line350,12142
    function get ($msgNum) {get370,12706
        $fp = $this->FP;fp382,13049
        $buffer = $this->BUFFER;buffer383,13074
        $cmd = "RETR $msgNum";cmd384,13107
        $reply = $this->send_cmd($cmd);reply385,13138
        $count = 0;count393,13336
        $MsgArray = array();MsgArray394,13356
        $line = fgets($fp,$buffer);line396,13386
            $line = fgets($fp,$buffer);line401,13533
    function last ( $type = "count" ) {last407,13659
        $last = -1;last412,13891
        $reply = $this->send_cmd("STAT");reply419,14069
        $Vars = explode(" ",$reply);Vars426,14269
        $count = $Vars[1];count427,14306
        $size = $Vars[2];size428,14333
    function reset () {reset438,14547
        $reply = $this->send_cmd("RSET");reply448,14935
    function send_cmd ( $cmd = "" )send_cmd462,15371
        $fp = $this->FP;fp489,16295
        $buffer = $this->BUFFER;buffer490,16320
        $reply = fgets($fp,$buffer);reply493,16416
        $reply = $this->strip_clf($reply);reply494,16453
    function quit() {quit499,16602
        $fp = $this->FP;fp508,16887
        $cmd = "QUIT";cmd509,16912
        $reply = fgets($fp,$this->BUFFER);reply511,16967
        $reply = $this->strip_clf($reply);reply512,17010
    function popstat () {popstat519,17204
        $PopArray = $this->last("array");PopArray523,17368
    function uidl ($msgNum = "")uidl534,17586
        $fp = $this->FP;fp546,18048
        $buffer = $this->BUFFER;buffer547,18073
            $cmd = "UIDL $msgNum";cmd550,18137
            $reply = $this->send_cmd($cmd);reply551,18172
            $UIDLArray = array();UIDLArray562,18533
            $Total = $this->COUNT;Total563,18567
            $cmd = "UIDL";cmd570,18730
            $reply = fgets($fp, $buffer);reply572,18794
            $reply = $this->strip_clf($reply);reply573,18836
            $line = "";line581,19141
            $count = 1;count582,19165
            $line = fgets($fp,$buffer);line583,19189
                $msgUidl = $this->strip_clf($msgUidl);msgUidl589,19423
                $line = fgets($fp,$buffer);line598,19717
    function delete ($msgNum = "") {delete604,19819
        $reply = $this->send_cmd("DELE $msgNum");reply618,20291
    function is_ok ($cmd = "") {is_ok631,20662
    function strip_clf ($text = "") {strip_clf640,20861
            $stripped = str_replace("\r",'',$text);stripped646,21011
            $stripped = str_replace("\n",'',$stripped);stripped647,21063
    function parse_banner ( $server_text ) {parse_banner652,21166
        $outside = true;outside653,21211
        $banner = "";banner654,21236
        $length = strlen($server_text);length655,21258
            $digit = substr($server_text, $count, 1);digit658,21359
                    $outside = false;outside666,21651
                    $outside = true;outside670,21759
        $banner = $this->strip_clf($banner);    // Just in casebanner674,21838

weblog/wp-includes/class-snoopy.php,4254
class SnoopySnoopy39,1258
	function fetch($URI)fetch130,5305
		$URI_PARTS = parse_url($URI);URI_PARTS134,5402
						$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path159,6070
						$frameurls = $this->_frameurls;frameurls184,6929
					$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path221,7754
					$frameurls = $this->_frameurls;frameurls244,8552
	function submit($URI, $formvars="", $formfiles="")submit280,9512
		$postdata = $this->_prepare_post_body($formvars, $formfiles);postdata284,9590
		$URI_PARTS = parse_url($URI);URI_PARTS286,9658
						$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path311,10355
						$frameurls = $this->_frameurls;frameurls342,11668
					$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path380,12550
					$frameurls = $this->_frameurls;frameurls409,13790
	function fetchlinks($URI)fetchlinks442,14602
				$URI = $this->lastredirectaddr;URI447,14696
	function fetchform($URI)fetchform471,15401
	function fetchtext($URI)fetchtext499,16065
	function submitlinks($URI, $formvars="", $formfiles="")submitlinks523,16712
				$URI = $this->lastredirectaddr;URI528,16858
	function submittext($URI, $formvars = "", $formfiles = "")submittext557,17685
				$URI = $this->lastredirectaddr;URI562,17834
	function set_submit_multipart()set_submit_multipart591,18606
	function set_submit_normal()set_submit_normal602,18962
	function _striplinks($document)_striplinks622,19543
	function _stripform($document)_stripform656,20478
		$match = implode("\r\n",$elements[0]);match661,20709
	function _striptext($document)_striptext676,21096
		$search = array("'<script[^>]*?>.*?</script>'si",	// strip out javascriptsearch683,21309
		$replace = array(	"",replace707,22129
		$text = preg_replace($search,$replace,$document);text732,22480
	function _expandlinks($links,$URI)_expandlinks745,22918
		$match = preg_replace("|/[^\/\.]+\.[^\/\.]+$|","",$match[0]);match750,23000
		$match = preg_replace("|/$|","",$match);match751,23064
		$match_part = parse_url($match);match_part752,23107
		$match_root =match_root753,23142
		$search = array( 	"|^http://".preg_quote($this->host)."|i",search756,23214
		$replace = array(	"",replace763,23390
		$expandedLinks = preg_replace($search,$replace,$links);expandedLinks770,23497
	function _httprequest($url,$fp,$URI,$http_method,$content_type="",$body="")_httprequest785,23961
		$cookie_headers = '';cookie_headers787,24041
		$URI_PARTS = parse_url($URI);URI_PARTS791,24142
			$url = "/";url793,24192
		$headers = $http_method." ".$url." ".$this->_httpversion."\r\n";		headers794,24207
		$results = '';results899,27495
    		$_data = fread($fp, $this->maxlength);_data901,27519
	function _httpsrequest($url,$URI,$http_method,$content_type="",$body="")_httpsrequest948,28949
		$headers = array();		headers953,29100
		$URI_PARTS = parse_url($URI);URI_PARTS955,29130
			$url = "/";url957,29180
				$cookie_str = 'Cookie: ';cookie_str978,29850
			$safer_header = strtr( $headers[$curr_header], "\"", " " );safer_header1004,30797
		$headerfile = tempnam($temp_dir, "sno");headerfile1014,31063
		$safer_URI = strtr( $URI, "\"", " " ); // strip quotes from the URI to avoid shell accesssafer_URI1016,31107
		$results = implode("\r\n",$results);results1026,31449
		$result_headers = file("$headerfile");result_headers1028,31491
	function setcookies()setcookies1093,33708
	function _check_timeout($fp)_check_timeout1109,34177
			$fp_status = socket_get_status($fp);fp_status1112,34243
	function _connect(&$fp)_connect1127,34625
				$host = $this->proxy_host;host1133,34752
				$port = $this->proxy_port;port1134,34783
			$host = $this->host;host1138,34830
			$port = $this->port;port1139,34854
	function _disconnect($fp)_disconnect1180,35691
	function _prepare_post_body($formvars, $formfiles)_prepare_post_body1194,36079
		$postdata = '';postdata1198,36197
						$fp = fopen($file_name, "r");fp1240,37562
							$file_content = fread($fp, filesize($file_name));file_content1242,37625
						$base_name = basename($file_name);base_name1245,37709

weblog/wp-includes/classes.php,19969
class WP_Query {WP_Query3,7
	function init_query_flags() {init_query_flags36,693
	function init () {init57,1222
	function parse_query_vars() {parse_query_vars71,1530
	function parse_query ($query) {parse_query76,1645
	function set_404() {set_404248,5705
	function get($query_var) {get253,5786
	function set($query_var, $value) {set261,5923
	function &get_posts() {get_posts265,6005
		$q = $this->query_vars;	q271,6129
		$whichcat = '';whichcat274,6195
		$whichauthor = '';whichauthor275,6213
		$whichpage = '';whichpage276,6234
		$result = '';result277,6253
		$where = '';where278,6269
		$limits = '';limits279,6284
		$distinct = '';distinct280,6300
		$join = '';join281,6318
		$add_hours = intval(get_settings('gmt_offset'));add_hours311,7282
		$add_minutes = intval(60 * (get_settings('gmt_offset') - $add_hours));add_minutes312,7333
		$wp_posts_post_date_field = "post_date"; // "DATE_ADD(post_date, INTERVAL '$add_hours:$add_minutes' HOUR_MINUTE)";wp_posts_post_date_field313,7406
			$page_paths = '/' . trim($q['pagename'], '/');page_paths372,9456
			$page_paths = explode('/', $page_paths);page_paths375,9597
			$all_page_ids = get_all_page_ids();all_page_ids379,9750
			$reqpage = 0;reqpage380,9789
				$page = get_page($page_id);page382,9880
					$reqpage = $page_id;reqpage384,9955
			$attach_paths = '/' . trim($q['attachment'], '/');attach_paths392,10174
			$where = ' AND ID = ' . $q['p'];where413,10917
			$where = ' AND ID = '.$q['page_id'];where419,11091
			$search = ' AND (';search425,11264
				$n = '';n431,11477
				$n = '%';n433,11502
				$s_array = explode(' ',$q['s']);s_array436,11547
				$search = ' AND ((post_title LIKE \''.$n.$q['s'].$n.'\') OR (post_content LIKE \''.$n.$q['s'].$n.'\'))';search445,12053
			$whichcat='';whichcat454,12342
				$eq = '!=';eq462,12679
				$andor = 'AND';andor463,12695
				$eq = '=';eq467,12805
				$andor = 'OR';andor468,12820
			$join = " LEFT JOIN $wpdb->post2cat ON ($wpdb->posts.ID = $wpdb->post2cat.post_id) ";join470,12844
			$cat_array = preg_split('/[,\s]+/', $q['cat']);cat_array471,12933
			$cat_paths = '/' . trim(urldecode($q['category_name']), '/');cat_paths488,13614
			$cat_paths = explode('/', $cat_paths);cat_paths490,13742
			$all_cat_ids = get_all_category_ids();all_cat_ids494,13887
				$cat = get_category($cat_id);cat497,14008
					$partial_match = $cat_id;partial_match502,14187
			$tables = ", $wpdb->post2cat, $wpdb->categories";tables511,14396
			$join = " LEFT JOIN $wpdb->post2cat ON ($wpdb->posts.ID = $wpdb->post2cat.post_id) LEFT JOIN $wpdb->categories ON ($wpdb->post2cat.category_id = $wpdb->categories.cat_ID) ";join512,14449
			$whichcat = " AND (category_id = '" . $q['cat'] . "'";whichcat513,14626
			$whichauthor='';whichauthor521,14862
				$eq = '!=';eq526,15027
				$andor = 'AND';andor527,15043
				$eq = '=';eq531,15169
				$andor = 'OR';andor532,15184
			$author_array = preg_split('/[,\s]+/', $q['author']);author_array534,15208
			$allowed_keys = array('author', 'date', 'category', 'title', 'modified');allowed_keys569,16494
			$orderby_array = explode(' ',$q['orderby']);orderby_array572,16666
		$now = gmdate('Y-m-d H:i:59');now587,17145
			$distinct = 'DISTINCT';distinct593,17458
		$where = apply_filters('posts_where', $where);where616,18190
		$join = apply_filters('posts_join', $join);join617,18239
			$page = abs(intval($q['paged']));page621,18371
				$page = 1;page623,18431
					$pgstrt = '';pgstrt629,18573
					$pgstrt = (intval($page) -1) * $q['posts_per_page'] . ', ';pgstrt630,18592
					$limits = 'LIMIT '.$pgstrt.$q['posts_per_page'];limits631,18657
					$pgstrt = $q['offset'] . ', ';pgstrt633,18767
					$limits = 'LIMIT ' . $pgstrt . $q['posts_per_page'];limits634,18803
				$startrow = $q['posts_per_page'] * (intval($page)-1);startrow637,18912
				$start_date = $wpdb->get_var("SELECT max(post_date) FROM $wpdb->posts $join WHERE (1=1) $where GROUP BY year(post_date), month(post_date), dayofmonth(post_date) ORDER BY post_date DESC LIMIT $startrow,1");start_date638,18970
				$endrow = $startrow + $q['posts_per_page'] - 1;endrow639,19180
				$end_date = $wpdb->get_var("SELECT min(post_date) FROM $wpdb->posts $join WHERE (1=1) $where GROUP BY year(post_date), month(post_date), dayofmonth(post_date) ORDER BY post_date DESC LIMIT $endrow,1");end_date640,19232
		$where = apply_filters('posts_where_paged', $where);where652,19740
		$groupby = " $wpdb->posts.ID ";groupby653,19795
		$groupby = apply_filters('posts_groupby', $groupby);groupby654,19829
		$join = apply_filters('posts_join_paged', $join);join655,19884
		$orderby = "post_" . $q['orderby'];orderby656,19936
		$orderby = apply_filters('posts_orderby', $orderby); orderby657,19974
		$request = " SELECT $distinct * FROM $wpdb->posts $join WHERE 1=1" . $where . " GROUP BY " . $groupby . " ORDER BY " . $orderby . " $limits";request658,20030
			$status = get_post_status($this->posts[0]);status665,20407
	function next_post() {next_post707,21681
	function the_post() {the_post715,21817
		$post = $this->next_post();post718,21885
	function have_posts() {have_posts725,22032
	function rewind_posts() {rewind_posts738,22334
	function &query($query) {query745,22466
	function get_queried_object() {get_queried_object750,22556
			$cat = $this->get('cat');cat759,22758
			$category = &get_category($cat);category760,22787
			$author_id = $this->get('author');author_id770,23169
			$author = get_userdata($author_id);author771,23207
	function get_queried_object_id() {get_queried_object_id779,23365
	function WP_Query ($query = '') {WP_Query789,23531
class retrospam_mgr {retrospam_mgr796,23626
	function retrospam_mgr() {retrospam_mgr801,23710
		$list = explode("\n", get_settings('moderation_keys') );list804,23755
		$list = array_unique( $list );list805,23814
	function move_spam( $id_list ) {move_spam811,24163
		$cnt = 0;cnt813,24213
		$id_list = explode( ',', $id_list );id_list814,24225
	function find_spam() {find_spam826,24590
		$in_queue = 0;in_queue827,24614
					$word = trim($word);word832,24758
					$fulltext = strtolower($comment->email.' '.$comment->url.' '.$comment->ip.' '.$comment->text);fulltext835,24827
	function display_edit_form( $counters ) {display_edit_form848,25206
		$numfound = count($counters[found]);numfound849,25249
		$numqueue = $counters[in_queue];numqueue850,25288
		$body = '<p>' . sprintf(__('Suspected spam comments: <strong>%s</strong>'), $numfound) . '</p>';body852,25324
			$id_list = implode( ',', $counters[found] );id_list855,25463
		$head = '<div class="wrap"><h2>' . __('Check Comments Results:') . '</h2>';head859,25690
class WP_Rewrite {WP_Rewrite868,25967
	function using_permalinks() {using_permalinks938,27239
	function using_index_permalinks() {using_index_permalinks945,27360
	function using_mod_rewrite_permalinks() {using_mod_rewrite_permalinks958,27652
	function preg_index($number) {preg_index965,27815
		$match_prefix = '$';match_prefix966,27847
		$match_suffix = '';match_suffix967,27870
			$match_prefix = '$' . $this->matches . '['; match_prefix970,27926
			$match_suffix = ']';match_suffix971,27974
	function page_rewrite_rules() {page_rewrite_rules977,28069
		$uris = get_settings('page_uris');uris978,28102
		$attachment_uris = get_settings('page_attachment_uris');attachment_uris979,28139
		$rewrite_rules = array();rewrite_rules981,28199
		$page_structure = $this->get_page_permastruct();page_structure982,28227
				$rewrite_rules = array_merge($rewrite_rules, $this->generate_rewrite_rules($page_structure));rewrite_rules986,28437
				$rewrite_rules = array_merge($rewrite_rules, $this->generate_rewrite_rules($page_structure));rewrite_rules992,28679
	function get_date_permastruct() {get_date_permastruct999,28816
		$endians = array('%year%/%monthnum%/%day%', '%day%/%monthnum%/%year%', '%monthnum%/%day%/%year%');endians1010,29102
		$date_endian = '';date_endian1013,29234
				$date_endian= $endian;date_endian1017,29354
			$date_endian = '%year%/%monthnum%/%day%';date_endian1023,29432
		$front = $this->front;front1027,29618
		$tok_index = 1;tok_index1029,29709
				$front = $front . 'date/';front1032,29819
	function get_year_permastruct() {get_year_permastruct1042,29957
		$structure = $this->get_date_permastruct($this->permalink_structure);structure1043,29992
		$structure = str_replace('%monthnum%', '', $structure);structure1049,30114
		$structure = str_replace('%day%', '', $structure);structure1050,30172
		$structure = preg_replace('#/+#', '/', $structure);structure1052,30226
	function get_month_permastruct() {get_month_permastruct1057,30306
		$structure = $this->get_date_permastruct($this->permalink_structure);structure1058,30342
		$structure = str_replace('%day%', '', $structure);structure1064,30464
		$structure = preg_replace('#/+#', '/', $structure);structure1066,30518
	function get_day_permastruct() {get_day_permastruct1071,30598
	function get_category_permastruct() {get_category_permastruct1075,30702
	function get_author_permastruct() {get_author_permastruct1095,31174
	function get_search_permastruct() {get_search_permastruct1110,31505
	function get_page_permastruct() {get_page_permastruct1125,31835
	function get_feed_permastruct() {get_feed_permastruct1140,32133
	function get_comment_feed_permastruct() {get_comment_feed_permastruct1155,32447
	function add_rewrite_tag($tag, $pattern, $query) {add_rewrite_tag1170,32838
		$position = array_search($tag, $this->rewritecode);		position1174,33057
	function generate_rewrite_rules($permalink_structure, $paged = true, $feed = true, $forcomments = false, $walk_dirs = true) {generate_rewrite_rules1185,33384
		$feedregex2 = '';feedregex21186,33511
		$feedregex2 = '(' . trim($feedregex2, '|') .  ')/?$';feedregex21190,33612
		$feedregex = $this->feed_base  . '/' . $feedregex2;feedregex1191,33668
		$trackbackregex = 'trackback/?$';trackbackregex1193,33723
		$pageregex = 'page/?([0-9]{1,})/?$';pageregex1194,33759
		$front = substr($permalink_structure, 0, strpos($permalink_structure, '%'));front1196,33801
		$num_tokens = count($tokens[0]);num_tokens1199,33941
		$index = $this->index;index1201,33977
		$feedindex = $index;feedindex1202,34002
		$trackbackindex = $index;trackbackindex1203,34025
			$query_token = str_replace($this->rewritecode, $this->queryreplace, $tokens[0][$i]) . $this->preg_index($i+1);query_token1209,34173
		$structure = $permalink_structure;structure1213,34325
			$structure = str_replace($front, '', $structure);structure1215,34385
		$structure = trim($structure, '/');structure1217,34442
			$dirs = explode('/', $structure);dirs1219,34500
		$num_dirs = count($dirs);num_dirs1223,34577
		$front = preg_replace('|^/+|', '', $front);front1225,34606
		$post_rewrite = array();post_rewrite1227,34653
		$struct = $front;struct1228,34680
			$struct = ltrim($struct, '/');struct1231,34770
			$match = str_replace($this->rewritecode, $this->rewritereplace, $struct);match1232,34804
			$num_toks = preg_match_all('/%.+?%/', $struct, $toks);num_toks1233,34881
			$query = $queries[$num_toks - 1];query1234,34939
			$pagematch = $match . $pageregex;pagematch1236,34977
			$pagequery = $index . '?' . $query . '&paged=' . $this->preg_index($num_toks + 1);pagequery1237,35014
			$feedmatch = $match . $feedregex;feedmatch1239,35101
			$feedquery = $feedindex . '?' . $query . '&feed=' . $this->preg_index($num_toks + 1);feedquery1240,35138
			$feedmatch2 = $match . $feedregex2;feedmatch21242,35228
			$feedquery2 = $feedindex . '?' . $query . '&feed=' . $this->preg_index($num_toks + 1);feedquery21243,35267
			$rewrite = array();rewrite1250,35462
				$rewrite = array($feedmatch => $feedquery, $feedmatch2 => $feedquery2);rewrite1252,35500
				$rewrite = array_merge($rewrite, array($pagematch => $pagequery));rewrite1254,35591
				$post = false;post1257,35683
				$page = false;page1258,35702
					$post = true;post1262,36022
						$page = true;page1264,36084
					$trackbackmatch = $match . $trackbackregex;trackbackmatch1265,36104
					$trackbackquery = $trackbackindex . '?' . $query . '&tb=1';trackbackquery1266,36153
					$match = rtrim($match, '/');match1267,36218
					$submatchbase = str_replace(array('(',')'),'',$match);submatchbase1268,36252
					$sub1 = $submatchbase . '/([^/]+)/';sub11269,36312
					$sub1tb = $sub1 . $trackbackregex;sub1tb1270,36354
					$sub1feed = $sub1 . $feedregex;sub1feed1271,36394
					$sub1feed2 = $sub1 . $feedregex2;sub1feed21272,36431
					$sub2 = $submatchbase . '/attachment/([^/]+)/';sub21274,36490
					$sub2tb = $sub2 . $trackbackregex;sub2tb1275,36543
					$sub2feed = $sub2 . $feedregex;sub2feed1276,36583
					$sub2feed2 = $sub2 . $feedregex2;sub2feed21277,36620
					$subquery = $index . '?attachment=' . $this->preg_index(1);subquery1279,36679
					$subtbquery = $subquery . '&tb=1';subtbquery1280,36744
					$subfeedquery = $subquery . '&feed=' . $this->preg_index(2);subfeedquery1281,36784
					$match = $match . '(/[0-9]+)?/?$';match1282,36850
					$query = $index . '?' . $query . '&page=' . $this->preg_index($num_toks + 1);query1283,36890
					$query = $index . '?' . $query;query1286,37007
				$rewrite = array_merge($rewrite, array($match => $query));rewrite1289,37063
					$rewrite = array_merge(array($trackbackmatch => $trackbackquery), $rewrite);rewrite1292,37144
						$rewrite = array_merge($rewrite, array($sub1 => $subquery, $sub1tb => $subtbquery, $sub1feed => $subfeedquery, $sub1feed2 => $subfeedquery));rewrite1294,37246
					$rewrite = array_merge($rewrite, array($sub2 => $subquery, $sub2tb => $subtbquery, $sub2feed => $subfeedquery, $sub2feed2 => $subfeedquery));rewrite1295,37394
			$post_rewrite = array_merge($rewrite, $post_rewrite);post_rewrite1298,37552
	function generate_rewrite_rule($permalink_structure, $walk_dirs = false) {generate_rewrite_rule1303,37641
	function rewrite_rules() {rewrite_rules1311,37962
		$rewrite = array();rewrite1312,37990
		$post_rewrite = $this->generate_rewrite_rules($this->permalink_structure);post_rewrite1319,38091
		$post_rewrite = apply_filters('post_rewrite_rules', $post_rewrite);post_rewrite1320,38168
		$date_rewrite = $this->generate_rewrite_rules($this->get_date_permastruct());date_rewrite1323,38249
		$date_rewrite = apply_filters('date_rewrite_rules', $date_rewrite);date_rewrite1324,38329
		$root_rewrite = $this->generate_rewrite_rules($this->root . '/');root_rewrite1327,38412
		$root_rewrite = apply_filters('root_rewrite_rules', $root_rewrite);root_rewrite1328,38480
		$comments_rewrite = $this->generate_rewrite_rules($this->root . $this->comments_base, true, true, true, false);comments_rewrite1331,38565
		$comments_rewrite = apply_filters('comments_rewrite_rules', $comments_rewrite);comments_rewrite1332,38679
		$search_structure = $this->get_search_permastruct();search_structure1335,38774
		$search_rewrite = $this->generate_rewrite_rules($search_structure);search_rewrite1336,38829
		$search_rewrite = apply_filters('search_rewrite_rules', $search_rewrite);search_rewrite1337,38899
		$category_rewrite = $this->generate_rewrite_rules($this->get_category_permastruct());category_rewrite1340,38992
		$category_rewrite = apply_filters('category_rewrite_rules', $category_rewrite);category_rewrite1341,39080
		$author_rewrite = $this->generate_rewrite_rules($this->get_author_permastruct());author_rewrite1344,39176
		$author_rewrite = apply_filters('author_rewrite_rules', $author_rewrite);author_rewrite1345,39260
		$page_rewrite = $this->page_rewrite_rules();page_rewrite1348,39348
		$page_rewrite = apply_filters('page_rewrite_rules', $page_rewrite);page_rewrite1349,39395
	function wp_rewrite_rules() {wp_rewrite_rules1360,39804
	function mod_rewrite_rules() {mod_rewrite_rules1371,40051
		$site_root = parse_url(get_settings('siteurl'));site_root1376,40140
		$site_root = trailingslashit($site_root['path']);site_root1377,40191
		$home_root = parse_url(get_settings('home'));home_root1379,40244
		$home_root = trailingslashit($home_root['path']);home_root1380,40292
		$rules = "<IfModule mod_rewrite.c>\n";rules1382,40349
			$rewrite = $this->rewrite_rules();rewrite1388,40523
			$num_rules = count($rewrite);num_rules1389,40561
				$match = str_replace('.+?', '.+', $match);match1396,40860
		$rules = apply_filters('mod_rewrite_rules', $rules);rules1418,41559
		$rules = apply_filters('rewrite_rules', $rules);  // Deprecatedrules1419,41614
	function flush_rules() {flush_rules1424,41702
	function init() {init1432,41908
	function set_permalink_structure($permalink_structure) {set_permalink_structure1449,42496
	function set_category_base($category_base) {set_category_base1456,42703
	function WP_Rewrite() {WP_Rewrite1463,42874
class WP {WP1468,42922
	function parse_request($extra_query_vars = '') {parse_request1480,43630
			$extra_query_vars = array();extra_query_vars1488,43828
		$rewrite = $wp_rewrite->wp_rewrite_rules();rewrite1493,43953
			$error = '404';error1497,44083
			$pathinfo = $_SERVER['PATH_INFO'];pathinfo1500,44135
			$pathinfo_array = explode('?', $pathinfo);pathinfo_array1501,44173
			$pathinfo = $pathinfo_array[0];pathinfo1502,44219
			$req_uri = $_SERVER['REQUEST_URI'];req_uri1503,44254
			$req_uri_array = explode('?', $req_uri);req_uri_array1504,44293
			$req_uri = $req_uri_array[0];req_uri1505,44337
			$self = $_SERVER['PHP_SELF'];self1506,44370
			$home_path = parse_url(get_settings('home'));home_path1507,44403
			$home_path = $home_path['path'];home_path1508,44452
			$home_path = trim($home_path, '/');home_path1509,44488
			$req_uri = str_replace($pathinfo, '', $req_uri);req_uri1515,44765
			$req_uri = trim($req_uri, '/');req_uri1516,44817
			$req_uri = preg_replace("|^$home_path|", '', $req_uri);req_uri1517,44852
			$req_uri = trim($req_uri, '/');req_uri1518,44911
			$pathinfo = trim($pathinfo, '/');pathinfo1519,44946
			$pathinfo = preg_replace("|^$home_path|", '', $pathinfo);pathinfo1520,44983
			$pathinfo = trim($pathinfo, '/');pathinfo1521,45044
			$self = trim($self, '/');self1522,45081
			$self = preg_replace("|^$home_path|", '', $self);self1523,45110
			$self = str_replace($home_path, '', $self);self1524,45163
			$self = trim($self, '/');self1525,45210
				$request = $pathinfo;request1530,45442
					$req_uri = '';req_uri1534,45624
				$request = $req_uri;request1535,45644
			$request_match = $request;request_match1541,45730
					$request_match = $req_uri . '/' . $request;request_match1546,45991
					$query = preg_replace("!^.+\?!", '', $query);query1555,46286
			$wpvar = $this->public_query_vars[$i];wpvar1594,47332
	function send_headers() {send_headers1613,47933
				$wp_last_modified = mysql2date('D, d M Y H:i:s', get_lastcommentmodified('GMT'), 0).' GMT';wp_last_modified1625,48561
				$wp_last_modified = mysql2date('D, d M Y H:i:s', get_lastpostmodified('GMT'), 0).' GMT';wp_last_modified1627,48666
			$wp_etag = '"' . md5($wp_last_modified) . '"';wp_etag1628,48759
			$client_last_modified = trim( $_SERVER['HTTP_IF_MODIFIED_SINCE']);client_last_modified1636,49060
			$client_modified_timestamp = $client_last_modified ? strtotime($client_last_modified) : 0;client_modified_timestamp1638,49208
			$wp_modified_timestamp = strtotime($wp_last_modified);wp_modified_timestamp1641,49363
	function build_query_string() {build_query_string1652,49713
	function register_globals() {register_globals1672,50415
	function init() {init1690,50890
	function query_posts() {query_posts1694,50938
	function handle_404() {handle_4041699,51036
	function main($query_args = '') {main1713,51627
	function WP() {WP1722,51821

weblog/wp-includes/functions-formatting.php,15421
function wptexturize($text) {wptexturize3,7
	$output = '';output4,37
	$textarr = preg_split("/(<.*>)/Us", $text, -1, PREG_SPLIT_DELIM_CAPTURE);textarr6,96
	$stop = count($textarr); $next = true; // loop stuffstop7,171
		$curl = $textarr[$i];curl9,259
			$curl = str_replace('---', '&#8212;', $curl);curl12,358
			$curl = str_replace(' -- ', ' &#8212; ', $curl);curl13,407
			$curl = str_replace('--', '&#8211;', $curl);curl14,459
			$curl = str_replace('xn&#8211;', 'xn--', $curl);curl15,507
			$curl = str_replace('...', '&#8230;', $curl);curl16,559
			$curl = str_replace('``', '&#8220;', $curl);curl17,608
			$cockney = array("'tain't","'twere","'twas","'tis","'twill","'til","'bout","'nuff","'round","'cause");cockney20,733
			$cockneyreplace = array("&#8217;tain&#8217;t","&#8217;twere","&#8217;twas","&#8217;tis","&#8217;twill","&#8217;til","&#8217;bout","&#8217;nuff","&#8217;round","&#8217;cause");cockneyreplace21,839
			$curl = str_replace($cockney, $cockneyreplace, $curl);curl22,1018
			$curl = preg_replace("/'s/", '&#8217;s', $curl);curl24,1077
			$curl = preg_replace("/'(\d\d(?:&#8217;|')?s)/", "&#8217;$1", $curl);curl25,1129
			$curl = preg_replace('/(\s|\A|")\'/', '$1&#8216;', $curl);curl26,1202
			$curl = preg_replace('/(\d+)"/', '$1&#8243;', $curl);curl27,1264
			$curl = preg_replace("/(\d+)'/", '$1&#8242;', $curl);curl28,1321
			$curl = preg_replace("/(\S)'([^'\s])/", "$1&#8217;$2", $curl);curl29,1378
			$curl = preg_replace('/(\s|\A)"(?!\s)/', '$1&#8220;$2', $curl);curl30,1444
			$curl = preg_replace('/"(\s|\S|\Z)/', '&#8221;$1', $curl);curl31,1511
			$curl = preg_replace("/'([\s.]|\Z)/", '&#8217;$1', $curl);curl32,1573
			$curl = preg_replace("/ \(tm\)/i", ' &#8482;', $curl);curl33,1635
			$curl = str_replace("''", '&#8221;', $curl);curl34,1693
			$curl = preg_replace('/(\d+)x(\d+)/', "$1&#215;$2", $curl);curl36,1745
			$next = false;next40,1973
			$next = true;next42,2002
		$curl = preg_replace('/&([^#])(?![a-zA-Z1-4]{1,8};)/', '&#038;$1', $curl);curl44,2023
function clean_pre($text) {clean_pre50,2143
	$text = str_replace('<br />', '', $text);text51,2171
	$text = str_replace('<p>', "\n", $text);text52,2214
	$text = str_replace('</p>', '', $text);text53,2256
function wpautop($pee, $br = 1) {wpautop57,2315
	$pee = $pee . "\n"; // just to make things a little easier, pad the endpee58,2349
	$pee = preg_replace('|<br />\s*<br />|', "\n\n", $pee);pee59,2422
	$pee = preg_replace('!(<(?:table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|p|h[1-6])[^>]*>)!', "\n$1", $pee); pee61,2509
	$pee = preg_replace('!(</(?:table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|p|h[1-6])>)!', "$1\n\n", $pee);pee62,2685
	$pee = str_replace(array("\r\n", "\r"), "\n", $pee); // cross-platform newlines pee63,2858
	$pee = preg_replace("/\n\n+/", "\n\n", $pee); // take care of duplicatespee64,2940
	$pee = preg_replace('/\n?(.+?)(?:\n\s*\n|\z)/s', "<p>$1</p>\n", $pee); // make paragraphs, including one at the end pee65,3014
	$pee = preg_replace('|<p>\s*?</p>|', '', $pee); // under certain strange conditions it could create a P of entirely whitespace pee66,3132
	$pee = preg_replace('!<p>\s*(</?(?:table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|hr|pre|select|form|blockquote|address|math|p|h[1-6])[^>]*>)\s*</p>!', "$1", $pee); // don't pee all over a tagpee67,3261
	$pee = preg_replace("|<p>(<li.+?)</p>|", "$1", $pee); // problem with nested listspee68,3480
	$pee = preg_replace('|<p><blockquote([^>]*)>|i', "<blockquote$1><p>", $pee);pee69,3564
	$pee = str_replace('</blockquote></p>', '</p></blockquote>', $pee);pee70,3642
	$pee = preg_replace('!<p>\s*(</?(?:table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|hr|pre|select|form|blockquote|address|math|p|h[1-6])[^>]*>)!', "$1", $pee);pee71,3711
	$pee = preg_replace('!(</?(?:table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|p|h[1-6])[^>]*>)\s*</p>!', "$1", $pee); pee72,3895
	$pee = preg_replace('!(</?(?:table|thead|tfoot|caption|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|p|h[1-6])[^>]*>)\s*<br />!', "$1", $pee);pee74,4180
	$pee = preg_replace('!<br />(\s*</?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)!', '$1', $pee);pee75,4355
	$pee = preg_replace('!(<pre.*?>)(.*?)</pre>!ise', " stripslashes('$1') .  stripslashes(clean_pre('$2'))  . '</pre>' ", $pee);pee76,4447
function seems_utf8($Str) { # by bmorel at ssi dot frseems_utf882,4595
function wp_specialchars( $text, $quotes = 0 ) {wp_specialchars99,5251
	$text = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/', '&#038;$1', $text);text101,5367
	$text = str_replace('<', '&lt;', $text);text102,5440
	$text = str_replace('>', '&gt;', $text);text103,5482
		$text = str_replace('"', '&quot;', $text);text105,5555
		$text = str_replace("'", '&#039;', $text);text107,5637
		$text = str_replace('"', '&quot;', $text);text109,5706
		$text = str_replace("'", '&#039;', $text);text110,5751
function utf8_uri_encode( $utf8_string ) {utf8_uri_encode115,5817
  $unicode = '';        unicode116,5860
  $values = array();values117,5885
  $num_octets = 1;num_octets118,5906
    $value = ord( $utf8_string[ $i ] );value122,5988
	$values = array();values138,6485
	$num_octets = 1;num_octets139,6505
function remove_accents($string) {remove_accents147,6568
		$chars = array(chars152,6696
		$string = strtr($string, $chars);string250,11792
		$string = strtr($string, $chars['in'], $chars['out']);string266,12602
		$string = str_replace($double_chars['in'], $double_chars['out'], $string);string269,12866
function sanitize_user( $username, $strict = false ) {sanitize_user275,12967
	$raw_username = $username;raw_username276,13022
	$username = strip_tags($username);username277,13050
	$username = preg_replace('|%([a-fA-F0-9][a-fA-F0-9])|', '', $username);username279,13102
	$username = preg_replace('/&.+?;/', '', $username); // Kill entitiesusername280,13175
		$username = preg_replace('|[^a-z0-9 _.\-@]|i', '', $username);username284,13314
function sanitize_title($title, $fallback_title = '') {sanitize_title289,13458
	$title = strip_tags($title);title290,13514
	$title = apply_filters('sanitize_title', $title);title291,13544
		$title = $fallback_title;title294,13618
function sanitize_title_with_dashes($title) {sanitize_title_with_dashes300,13669
	$title = strip_tags($title);title301,13715
	$title = preg_replace('|%([a-fA-F0-9][a-fA-F0-9])|', '---$1---', $title);title303,13774
	$title = str_replace('%', '', $title);title305,13905
	$title = preg_replace('|---([a-fA-F0-9][a-fA-F0-9])---|', '%$1', $title);title307,13965
	$title = remove_accents($title);title309,14041
			$title = mb_strtolower($title, 'UTF-8');title312,14144
		$title = utf8_uri_encode($title);title314,14192
	$title = strtolower($title);title317,14232
	$title = preg_replace('/&.+?;/', '', $title); // kill entitiestitle318,14262
	$title = preg_replace('/[^%a-z0-9 _-]/', '', $title);title319,14326
	$title = preg_replace('/\s+/', '-', $title);title320,14381
	$title = preg_replace('|-+|', '-', $title);title321,14427
	$title = trim($title, '-');title322,14472
function convert_chars($content, $flag = 'obsolete') { convert_chars327,14521
	$wp_htmltranswinuni = array(wp_htmltranswinuni329,14644
	$content = preg_replace('/<title>(.+?)<\/title>/','',$content);content365,15535
	$content = preg_replace('/<category>(.+?)<\/category>/','',$content);content366,15600
	$content = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/i', '&#038;$1', $content);content369,15729
	$content = strtr($content, $wp_htmltranswinuni);content372,15831
	$content = str_replace('<br>', '<br />', $content);content375,15911
	$content = str_replace('<hr>', '<hr />', $content);content376,15964
function funky_javascript_fix($text) {funky_javascript_fix381,16039
		$text =  preg_replace("/\%u([0-9A-F]{4,4})/e",  "'&#'.base_convert('\\1',16,10).';'", $text);text386,16181
function balanceTags($text, $is_comment = 0) {balanceTags410,16891
	$tagstack = array(); $stacksize = 0; $tagqueue = ''; $newtext = '';tagstack415,16999
	$text = str_replace('< !--', '<    !--', $text);text418,17139
	$text = preg_replace('#<([0-9]{1})#', '&lt;$1', $text);text420,17263
		$i = strpos($text,$regex[0]);i425,17408
		$l = strlen($regex[0]);l426,17440
		$tagqueue = '';tagqueue429,17490
			$tag = strtolower(substr($regex[1],1));tag432,17565
				$tag = '';tag435,17665
				$tag = '</' . $tag . '>'; // Close Tagtag440,17851
				$tag = '';tag455,18256
			$tag = strtolower($regex[1]);tag458,18300
					$tagqueue = '</' . array_pop ($tagstack) . '>';tagqueue471,18861
				$stacksize = array_push ($tagstack, $tag);stacksize474,18939
			$attributes = $regex[2];attributes478,19009
				$attributes = ' '.$attributes;attributes480,19058
			$tag = '<'.$tag.$attributes.'>';tag482,19098
				$tag = '';tag486,19240
		$text = substr($text,$i+$l);text490,19305
	$newtext = str_replace("< !--","<!--",$newtext);newtext505,19591
	$newtext = str_replace("<    !--","< !--",$newtext);newtext506,19641
function force_balance_tags($text) {force_balance_tags511,19717
function format_to_edit($content, $richedit = false) {format_to_edit515,19794
	$content = apply_filters('format_to_edit', $content);content516,19849
		$content = htmlspecialchars($content);content518,19923
function format_to_post($content) {format_to_post522,19985
	$content = apply_filters('format_to_post', $content);content524,20036
function zeroise($number,$threshold) { // function to add leading zeros when necessaryzeroise528,20112
function backslashit($string) {backslashit533,20250
	$string = preg_replace('/^([0-9])/', '\\\\\\\\\1', $string);string534,20282
	$string = preg_replace('/([a-z])/i', '\\\\\1', $string);string535,20344
function trailingslashit($string) {trailingslashit539,20422
function addslashes_gpc($gpc) {addslashes_gpc546,20550
		$gpc = stripslashes($gpc);gpc550,20629
function stripslashes_deep($value)stripslashes_deep557,20695
   $value = is_array($value) ?value559,20732
function antispambot($emailaddy, $mailto=0) {antispambot566,20878
	$emailNOSPAMaddy = '';emailNOSPAMaddy567,20924
		$j = floor(rand(0, 1+$mailto));j570,21042
	$emailNOSPAMaddy = str_replace('@','&#64;',$emailNOSPAMaddy);emailNOSPAMaddy579,21329
function make_clickable($ret) {make_clickable583,21421
	$ret = ' ' . $ret;ret584,21453
	$ret = preg_replace("#(^|[\n ])([\w]+?://[\w\#$%&~/.\-;:=,?@\[\]+]*)#is", "$1<a href='$2' rel='nofollow'>$2</a>", $ret);ret585,21473
	$ret = preg_replace("#(^|[\n ])((www|ftp)\.[\w\#$%&~/.\-;:=,?@\[\]+]*)#is", "$1<a href='http://$2' rel='nofollow'>$2</a>", $ret);ret586,21595
	$ret = preg_replace("#(\s)([a-z0-9\-_.]+)@([^,< \n\r]+)#i", "$1<a href=\"mailto:$2@$3\">$2@$3</a>", $ret);ret587,21726
	$ret = substr($ret, 1);ret588,21834
	$ret = trim($ret);ret589,21859
function wp_rel_nofollow( $text ) {wp_rel_nofollow593,21896
	$text = preg_replace('|<a (.+?)>|i', '<a $1 rel="nofollow">', $text);text594,21932
function convert_smilies($text) {convert_smilies598,22021
    $output = '';output600,22102
		$textarr = preg_split("/(<.*>)/U", $text, -1, PREG_SPLIT_DELIM_CAPTURE); // capture the tags as well as in betweentextarr603,22233
		$stop = count($textarr);// loop stuffstop604,22350
			$content = $textarr[$i];content606,22425
				$content = str_replace($wp_smiliessearch, $wp_smiliesreplace, $content);content608,22531
		$output = $text;output614,22677
function is_email($user_email) {is_email620,22720
	$chars = "/^([a-z0-9+_]|\\-|\\.)+@(([a-z0-9_]|\\-)+\\.)+[a-z]{2,6}\$/i";chars621,22753
function wp_iso_descrambler($string) {wp_iso_descrambler634,23064
    $subject = str_replace('_', ' ', $matches[2]);subject639,23257
    $subject = preg_replace('#\=([0-9a-f]{2})#ei', "chr(hexdec(strtolower('$1')))", $subject);subject640,23308
function get_gmt_from_date($string) {get_gmt_from_date647,23489
  $string_time = gmmktime($matches[4], $matches[5], $matches[6], $matches[2], $matches[3], $matches[1]);string_time650,23712
  $string_gmt = gmdate('Y-m-d H:i:s', $string_time - get_settings('gmt_offset') * 3600);string_gmt651,23817
function get_date_from_gmt($string) {get_date_from_gmt656,24013
  $string_time = gmmktime($matches[4], $matches[5], $matches[6], $matches[2], $matches[3], $matches[1]);string_time659,24228
  $string_localtime = gmdate('Y-m-d H:i:s', $string_time + get_settings('gmt_offset')*3600);string_localtime660,24333
function iso8601_timezone_to_offset($timezone) {iso8601_timezone_to_offset665,24515
    $offset = 0;offset668,24634
    $sign    = (substr($timezone, 0, 1) == '+') ? 1 : -1;sign670,24662
    $hours   = intval(substr($timezone, 1, 2));hours671,24720
    $minutes = intval(substr($timezone, 3, 4)) / 60;minutes672,24768
    $offset  = $sign * 3600 * ($hours + $minutes);offset673,24821
function iso8601_to_datetime($date_string, $timezone = USER) {iso8601_to_datetime679,24974
      $offset = iso8601_timezone_to_offset($date_bits[7]);offset683,25283
      $offset = 3600 * get_settings('gmt_offset');offset685,25433
    $timestamp = gmmktime($date_bits[4], $date_bits[5], $date_bits[6], $date_bits[2], $date_bits[3], $date_bits[1]);timestamp687,25490
function popuplinks($text) {popuplinks695,25875
	$text = preg_replace('/<a (.+?)>/i', "<a $1 target='_blank' rel='external'>", $text);text699,26134
function sanitize_email($email) {sanitize_email703,26239
function human_time_diff( $from, $to = '' ) {     human_time_diff707,26331
		$to = time();to709,26401
	$diff = (int) abs($to - $from);diff710,26417
		$mins = round($diff / 60);mins712,26472
			$since = __('1 min');since714,26519
			$since = sprintf( __('%s mins'), $mins);since716,26551
		$hours = round($diff / 3600);hours718,26645
			$since = __('1 hour');since720,26696
			$since = sprintf( __('%s hours'), $hours );since722,26730
		$days = round($diff / 86400);days724,26806
			$since = __('1 day');since726,26856
			$since = sprintf( __('%s days'), $days );since728,26888
function wp_trim_excerpt($text) { // Fakes an excerpt if neededwp_trim_excerpt733,26955
		$text = $post->post_content;text736,27056
		$text = apply_filters('the_content', $text);text737,27087
		$text = str_replace(']]>', ']]&gt;', $text);text738,27134
		$text = strip_tags($text);text739,27181
		$excerpt_length = 55;excerpt_length740,27210
		$words = explode(' ', $text, $excerpt_length + 1);words741,27234
			$text = implode(' ', $words);text745,27382
function ent2ncr($text) {ent2ncr751,27440
	$to_ncr = array(to_ncr752,27466
function wp_richedit_pre($text) {wp_richedit_pre1015,33974
	$output = $text;output1019,34126
	$output = convert_chars($output);output1020,34144
	$output = wpautop($output);output1021,34179
	$output = str_replace('&lt;', '&amp;lt;', $output);output1024,34267
	$output = str_replace('&gt;', '&amp;gt;', $output);output1025,34320
function js_escape($text) {js_escape1031,34499
	$text = wp_specialchars($text, 'double');text1032,34527
	$text = str_replace('&#039;', "'", $text);text1033,34570

weblog/wp-includes/default-filters.php,0

weblog/wp-includes/feed-functions.php,3511
function get_bloginfo_rss($show = '') {get_bloginfo_rss3,7
	$info = strip_tags(get_bloginfo($show));info4,47
function bloginfo_rss($show = '') {bloginfo_rss8,122
function get_the_title_rss() {get_the_title_rss12,192
	$title = get_the_title();title13,223
	$title = apply_filters('the_title', $title);title14,250
	$title = apply_filters('the_title_rss', $title);title15,296
function the_title_rss() {the_title_rss19,365
function the_content_rss($more_link_text='(more...)', $stripteaser=0, $more_file='', $cut = 0, $encode_html = 0) {the_content_rss23,422
	$content = get_the_content($more_link_text, $stripteaser, $more_file);content24,537
	$content = apply_filters('the_content_rss', $content);content25,609
		$encode_html = 2;encode_html27,695
		$content = wp_specialchars($content);content30,744
		$cut = 0;cut31,784
		$content = make_url_footnote($content);content33,828
		$content = strip_tags($content);content35,902
		$blah = explode(' ', $content);blah38,953
			$k = $cut;k40,1016
			$use_dotdotdot = 1;use_dotdotdot41,1030
			$k = count($blah);k43,1064
			$use_dotdotdot = 0;use_dotdotdot44,1086
		$content = $excerpt;content50,1220
	$content = str_replace(']]>', ']]&gt;', $content);content52,1246
function the_excerpt_rss() {the_excerpt_rss56,1317
	$output = get_the_excerpt(true);output57,1346
function permalink_single_rss($file = '') {permalink_single_rss61,1432
function comment_link() {comment_link65,1505
function get_comment_author_rss() {get_comment_author_rss69,1560
function comment_author_rss() {comment_author_rss72,1666
function comment_text_rss() {comment_text_rss76,1733
	$comment_text = get_comment_text();comment_text77,1763
	$comment_text = apply_filters('comment_text_rss', $comment_text);comment_text78,1800
function comments_rss_link($link_text = 'Comments RSS', $commentsrssfilename = '') {comments_rss_link82,1891
	$url = comments_rss($commentsrssfilename);url83,1976
function comments_rss($commentsrssfilename = '') {comments_rss87,2062
		$url = trailingslashit( get_permalink() ) . 'feed/';url91,2175
		$url = get_settings('home') . "/$commentsrssfilename?feed=rss2&amp;p=$id";url93,2236
function get_author_rss_link($echo = false, $author_id, $author_nicename) {get_author_rss_link98,2373
       $auth_ID = $author_id;auth_ID99,2449
       $permalink_structure = get_settings('permalink_structure');permalink_structure100,2479
				 $link = get_settings('home') . '?feed=rss2&amp;author=' . $author_id;link103,2588
				 $link = get_author_link(0, $author_id, $author_nicename);link105,2679
				 $link = $link . "feed/";link106,2742
			 $link = apply_filters('author_feed_link', $link);link109,2786
function get_category_rss_link($echo = false, $cat_ID, $category_nicename) {get_category_rss_link115,2895
       $permalink_structure = get_settings('permalink_structure');permalink_structure116,2972
				 $link = get_settings('home') . '?feed=rss2&amp;cat=' . $cat_ID;link119,3081
				 $link = get_category_link($cat_ID);link121,3166
				 $link = $link . "feed/";link122,3207
			 $link = apply_filters('category_feed_link', $link);link125,3247
function the_category_rss($type = 'rss') {the_category_rss131,3358
    $categories = get_the_category();categories132,3401
    $the_list = '';the_list133,3439
function rss_enclosure() {rss_enclosure145,3844
	$custom_fields = get_post_custom();custom_fields149,4000
						$enclosure = split( "\n", $enc );enclosure155,4217

weblog/wp-includes/functions-compat.php,1025
	function floatval($string) {floatval9,119
	function is_a($object, $class) {is_a15,215
	function ob_clean() {ob_clean26,452
function printr($var, $do_not_echo = false) {printr38,612
	$code =  htmlentities(ob_get_contents());code42,736
	function file_get_contents( $file ) {file_get_contents52,963
		$file = file($file);file53,1002
    define('CASE_LOWER', 0);CASE_LOWER59,1107
    define('CASE_UPPER', 1);CASE_UPPER63,1169
    function array_change_key_case($input, $case = CASE_LOWER)array_change_key_case80,1598
        $output   = array ();output88,1853
        $keys     = array_keys($input);keys89,1883
        $casefunc = ($case == CASE_LOWER) ? 'strtolower' : 'strtoupper';casefunc90,1923
   function http_build_query( $formdata, $numeric_prefix = null, $key = null ) {http_build_query102,2187
       $res = array();res103,2268
           $tmp_key = urlencode(is_int($k) ? $numeric_prefix.$k : $k);tmp_key105,2337
       $separator = ini_get('arg_separator.output');separator109,2599

weblog/wp-includes/pluggable-functions.php,7842
function set_current_user($id, $name = '') {set_current_user7,151
function wp_set_current_user($id, $name = '') {wp_set_current_user13,296
	$current_user = new WP_User($id, $name);current_user19,452
function wp_get_current_user() {wp_get_current_user30,647
function get_currentuserinfo() {get_currentuserinfo40,811
	$user_login = $_COOKIE[USER_COOKIE];user_login55,1164
function get_userdata( $user_id ) {get_userdata61,1292
	$user_id = (int) $user_id;user_id63,1343
	$user = wp_cache_get($user_id, 'users');user67,1410
	$metavalues = $wpdb->get_results("SELECT meta_key, meta_value FROM $wpdb->usermeta WHERE user_id = '$user_id'");metavalues76,1617
				$value = $meta->meta_value;value83,1883
function update_user_cache() {update_user_cache108,2572
function get_userdatabylogin($user_login) {get_userdatabylogin114,2676
	$user_login = sanitize_user( $user_login );user_login116,2735
	$userdata = wp_cache_get($user_login, 'userlogins');userdata121,2829
	$metavalues = $wpdb->get_results("SELECT meta_key, meta_value FROM $wpdb->usermeta WHERE user_id = '$user->ID'");metavalues129,3057
				$value = $meta->meta_value;value136,3324
function wp_mail($to, $subject, $message, $headers = '') {wp_mail162,3978
		$headers = "MIME-Version: 1.0\n" .headers164,4061
function wp_login($username, $password, $already_md5 = false) {wp_login174,4383
		$error = __('<strong>Error</strong>: The password field is empty.');error181,4538
	$login = get_userdatabylogin($username);login185,4629
		$error = __('<strong>Error</strong>: Wrong username.');error189,4801
			$error = __('<strong>Error</strong>: Incorrect password.');error197,5151
			$pwd = '';pwd198,5214
function is_user_logged_in() {is_user_logged_in206,5309
	$user = wp_get_current_user();user207,5340
function auth_redirect() {auth_redirect217,5481
function check_admin_referer($action = -1) {check_admin_referer231,5936
	$adminurl = strtolower(get_settings('siteurl')).'/wp-admin';adminurl232,5981
	$referer = strtolower(wp_get_referer());referer233,6043
function check_ajax_referer() {check_ajax_referer244,6336
	$cookie = explode('; ', urldecode(empty($_POST['cookie']) ? $_GET['cookie'] : $_POST['cookie'])); // AJAX scripts must pass cookie=document.cookiecookie245,6368
			$user = urldecode(substr(strstr($tasty, '='), 1)); // Nasty double encodinguser248,6596
			$pass = urldecode(substr(strstr($tasty, '='), 1));pass250,6722
function wp_redirect($location) {wp_redirect261,7002
	$location = preg_replace('|[^a-z0-9-~+_.?#=&;,/:%]|i', '', $location);location264,7054
	$strip = array('%0d', '%0a');strip266,7127
	$location = str_replace($strip, '', $location);location267,7158
function wp_get_cookie_login() {wp_get_cookie_login277,7357
function wp_setcookie($username, $password, $already_md5 = false, $home = '', $siteurl = '', $remember = false) {wp_setcookie287,7615
		$password = md5( md5($password) ); // Double hash the password in the cookie.password289,7751
		$cookiepath = COOKIEPATH;cookiepath292,7853
		$cookiepath = preg_replace('|https?://[^/]+|i', '', $home . '/' );cookiepath294,7887
		$sitecookiepath = SITECOOKIEPATH;sitecookiepath297,7983
		$cookiehash = COOKIEHASH;cookiehash298,8019
		$sitecookiepath = preg_replace('|https?://[^/]+|i', '', $siteurl . '/' );sitecookiepath300,8057
		$cookiehash = md5($siteurl);cookiehash301,8133
		$expire = time() + 31536000;expire305,8186
		$expire = 0;expire307,8223
function wp_clearcookie() {wp_clearcookie320,8640
function wp_notify_postauthor($comment_id, $comment_type='') {wp_notify_postauthor329,9041
	$comment = get_comment($comment_id);comment332,9124
	$post    = get_post($comment->comment_post_ID);post333,9162
	$user    = get_userdata( $post->post_author );user334,9211
	$comment_author_domain = gethostbyaddr($comment->comment_author_IP);comment_author_domain338,9351
	$blogname = get_settings('blogname');blogname340,9422
		$notify_message  = sprintf( __('New comment on your post #%1$s "%2$s"'), $comment->comment_post_ID, $post->post_title ) . "\r\n";notify_message345,9558
		$subject = sprintf( __('[%1$s] Comment: "%2$s"'), $blogname, $post->post_title );subject352,10337
		$notify_message  = sprintf( __('New trackback on your post #%1$s "%2$s"'), $comment->comment_post_ID, $post->post_title ) . "\r\n";notify_message354,10464
		$subject = sprintf( __('[%1$s] Trackback: "%2$s"'), $blogname, $post->post_title );subject359,11019
		$notify_message  = sprintf( __('New pingback on your post #%1$s "%2$s"'), $comment->comment_post_ID, $post->post_title ) . "\r\n";notify_message361,11147
		$subject = sprintf( __('[%1$s] Pingback: "%2$s"'), $blogname, $post->post_title );subject366,11728
	$wp_email = 'wordpress@' . preg_replace('#^www\.#', '', strtolower($_SERVER['SERVER_NAME']));wp_email371,12108
		$from = "From: \"$blogname\" <$wp_email>";from374,12245
			$reply_to = "Reply-To: $comment->comment_author_email";reply_to376,12336
		$from = "From: \"$comment->comment_author\" <$wp_email>";from378,12406
			$reply_to = "Reply-To: \"$comment->comment_author_email\" <$comment->comment_author_email>";reply_to380,12512
	$message_headers = "MIME-Version: 1.0\n"message_headers383,12613
	$notify_message = apply_filters('comment_notification_text', $notify_message, $comment_id);notify_message390,12820
	$subject = apply_filters('comment_notification_subject', $subject, $comment_id);subject391,12913
	$message_headers = apply_filters('comment_notification_headers', $message_headers, $comment_id);message_headers392,12995
function wp_notify_moderator($comment_id) {wp_notify_moderator406,13401
	$comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID='$comment_id' LIMIT 1");comment412,13530
	$post = $wpdb->get_row("SELECT * FROM $wpdb->posts WHERE ID='$comment->comment_post_ID' LIMIT 1");post413,13630
	$comment_author_domain = gethostbyaddr($comment->comment_author_IP);comment_author_domain415,13731
	$comments_waiting = $wpdb->get_var("SELECT count(comment_ID) FROM $wpdb->comments WHERE comment_approved = '0'");comments_waiting416,13801
	$notify_message  = sprintf( __('A new comment on the post #%1$s "%2$s" is waiting for your approval'), $post->ID, $post->post_title ) . "\r\n";notify_message418,13917
	$subject = sprintf( __('[%1$s] Please moderate: "%2$s"'), get_settings('blogname'), $post->post_title );subject430,15339
	$admin_email = get_settings('admin_email');admin_email431,15445
	$notify_message = apply_filters('comment_moderation_text', $notify_message, $comment_id);notify_message433,15491
	$subject = apply_filters('comment_moderation_subject', $subject, $comment_id);subject434,15582
function wp_new_user_notification($user_id, $plaintext_pass = '') {wp_new_user_notification443,15798
	$user = new WP_User($user_id);user444,15866
	$user_login = stripslashes($user->user_login);user_login446,15900
	$user_email = stripslashes($user->user_email);user_email447,15948
	$message  = sprintf(__('New user registration on your blog %s:'), get_settings('blogname')) . "\r\n\r\n";message449,15998
	$message  = sprintf(__('Username: %s'), $user_login) . "\r\n";message458,16399
function wp_verify_nonce($nonce, $action = -1) {wp_verify_nonce468,16758
	$user = wp_get_current_user();user469,16807
	$uid = $user->id;uid470,16839
	$i = ceil(time() / 43200);i472,16859
function wp_create_nonce($action = -1) {wp_create_nonce482,17163
	$user = wp_get_current_user();user483,17204
	$uid = $user->id;uid484,17236
	$i = ceil(time() / 43200);i486,17256
function wp_salt() {wp_salt493,17388
	$salt = get_option('secret');salt494,17409
		$salt = DB_PASSWORD . DB_USER . DB_NAME . DB_HOST . ABSPATH;salt496,17461
function wp_hash($data) {wp_hash503,17587
	$salt = wp_salt();salt504,17613

weblog/wp-includes/functions-post.php,15500
function wp_insert_post($postarr = array()) {wp_insert_post8,101
		$postarr = get_object_vars($postarr);postarr12,228
	$update = false;update18,353
		$update = true;update20,393
		$post = & get_post($ID);post21,411
		$previous_status = $post->post_status;previous_status22,438
	$post_content    = apply_filters('content_save_pre',   $post_content);post_content26,503
	$post_excerpt    = apply_filters('excerpt_save_pre',   $post_excerpt);post_excerpt27,575
	$post_title      = apply_filters('title_save_pre',     $post_title);post_title28,647
	$post_category   = apply_filters('category_save_pre',  $post_category);post_category29,717
	$post_status     = apply_filters('status_save_pre',    $post_status);post_status30,790
	$post_name       = apply_filters('name_save_pre',      $post_name);post_name31,861
	$comment_status  = apply_filters('comment_status_pre', $comment_status);comment_status32,930
	$ping_status     = apply_filters('ping_status_pre',    $ping_status);ping_status33,1004
		$post_category = array(get_option('default_category'));post_category37,1179
	$post_cat = $post_category[0];post_cat39,1240
		$post_author = $user_ID;post_author42,1301
		$post_status = 'draft';post_status45,1357
		$post_ID = $ID;post_ID49,1422
			$post_name = sanitize_title($post_title);post_name55,1584
		$post_name = sanitize_title($post_name);post_name57,1639
			$post_date = current_time('mysql');post_date64,1856
			$post_date_gmt = get_gmt_from_date($post_date);post_date_gmt69,1962
			$comment_status = 'closed';comment_status74,2067
			$comment_status = get_settings('default_comment_status');comment_status76,2105
		$ping_status = get_settings('default_ping_status');ping_status79,2197
		$post_pingback = get_option('default_pingback_flag');post_pingback81,2281
		$to_ping = preg_replace('|\s+|', "\n", $to_ping);to_ping84,2362
		$to_ping = '';to_ping86,2420
		$pinged = '';pinged89,2463
		$post_parent = (int) $post_parent;post_parent92,2508
		$post_parent = 0;post_parent94,2551
		$menu_order = (int) $menu_order;menu_order97,2599
		$menu_order = 0;menu_order99,2640
		$post_password = '';post_password102,2691
		$post_name_check = ('publish' == $post_status)post_name_check105,2783
			$suffix = 2;suffix110,3184
				$alt_post_name = $post_name . "-$suffix";alt_post_name112,3230
				$post_name_check = ('publish' == $post_status)post_name_check113,3276
			$post_name = $alt_post_name;post_name118,3684
			$post_ID = $wpdb->insert_id;			post_ID150,5111
		$post_name = sanitize_title($post_title, $post_ID);post_name154,5205
				$result = $wpdb->query("result186,6158
			$result = $wpdb->query("result191,6304
function wp_insert_attachment($object, $file = false, $post_parent = 0) {wp_insert_attachment213,6868
		$object = get_object_vars($object);object217,6995
	$post_content    = apply_filters('content_save_pre',   $post_content);post_content223,7104
	$post_excerpt    = apply_filters('excerpt_save_pre',   $post_excerpt);post_excerpt224,7176
	$post_title      = apply_filters('title_save_pre',     $post_title);post_title225,7248
	$post_category   = apply_filters('category_save_pre',  $post_category);post_category226,7318
	$post_name       = apply_filters('name_save_pre',      $post_name);post_name227,7391
	$comment_status  = apply_filters('comment_status_pre', $comment_status);comment_status228,7460
	$ping_status     = apply_filters('ping_status_pre',    $ping_status);ping_status229,7534
	$post_mime_type  = apply_filters('post_mime_type_pre', $post_mime_type);post_mime_type230,7605
		$post_category = array(get_option('default_category'));post_category234,7782
	$post_cat = $post_category[0];post_cat236,7843
		$post_author = $user_ID;post_author239,7904
	$post_status = 'attachment';post_status241,7932
	$update = false;update244,7996
		$update = true;update246,8036
		$post_ID = $ID;	post_ID247,8054
		$post_name = sanitize_title($post_title);post_name252,8133
		$post_name = sanitize_title($post_name);post_name254,8183
		$post_date = current_time('mysql');post_date257,8252
		$post_date_gmt = current_time('mysql', 1);post_date_gmt259,8319
			$comment_status = 'closed';comment_status263,8415
			$comment_status = get_settings('default_comment_status');comment_status265,8453
		$ping_status = get_settings('default_ping_status');ping_status268,8545
		$post_pingback = get_option('default_pingback_flag');post_pingback270,8629
		$to_ping = preg_replace('|\s+|', "\n", $to_ping);to_ping273,8710
		$to_ping = '';to_ping275,8768
		$post_parent = (int) $post_parent;post_parent278,8814
		$post_parent = 0;post_parent280,8857
		$menu_order = (int) $menu_order;menu_order283,8905
		$menu_order = 0;menu_order285,8946
		$post_password = '';post_password288,8997
		$to_ping = preg_replace('|\s+|', "\n", $to_ping);to_ping291,9045
		$to_ping = '';to_ping293,9103
		$pinged = '';pinged296,9146
			$post_ID = $wpdb->insert_id;			post_ID327,10507
		$post_name = sanitize_title($post_title, $post_ID);post_name331,10575
function wp_delete_attachment($postid) {wp_delete_attachment351,11011
	$postid = (int) $postid;postid353,11067
	$meta = get_post_meta($postid, '_wp_attachment_metadata', true);meta361,11254
	$file = get_post_meta($postid, '_wp_attached_file', true);file362,11320
function wp_get_single_post($postid = 0, $mode = OBJECT) {wp_get_single_post386,12135
	$post = get_post($postid, $mode);post389,12210
function wp_get_recent_posts($num = 10) {wp_get_recent_posts402,12435
		$limit = "LIMIT $num";limit407,12550
	$sql = "SELECT * FROM $wpdb->posts WHERE post_status IN ('publish', 'draft', 'private') ORDER BY post_date DESC $limit";sql410,12579
	$result = $wpdb->get_results($sql,ARRAY_A);result411,12701
function wp_update_post($postarr = array()) {wp_update_post416,12783
		$postarr = get_object_vars($postarr);postarr420,12873
	$post = wp_get_single_post($postarr['ID'], ARRAY_A);	post423,12956
	$post = add_magic_quotes($post);post426,13044
 		$post_cats = $postarr['post_category'];post_cats431,13283
 		$post_cats = $post['post_category'];post_cats433,13334
		$clear_date = true;clear_date438,13613
		$clear_date = false;clear_date440,13641
 	$postarr = array_merge($post, $postarr);postarr443,13733
function wp_get_post_cats($blogid = '1', $post_ID = 0) {wp_get_post_cats456,14034
	$post_ID = (int) $post_ID;post_ID459,14108
	$sql = "SELECT category_id sql461,14137
	$result = $wpdb->get_col($sql);result466,14246
		$result = array();result469,14297
function wp_set_post_cats($blogid = '1', $post_ID = 0, $post_categories = array()) {wp_set_post_cats474,14353
		$post_categories = array(get_option('default_category'));post_categories478,14580
	$post_categories = array_unique($post_categories);post_categories480,14642
	$old_categories = $wpdb->get_col("old_categories483,14724
		$old_categories = array();old_categories489,14863
		$old_categories = array_unique($old_categories);old_categories491,14902
	$delete_cats = array_diff($old_categories,$post_categories);delete_cats495,14973
	$add_cats = array_diff($post_categories, $old_categories);add_cats508,15231
	$all_affected_cats = array_unique(array_merge($post_categories, $old_categories));all_affected_cats519,15492
		$count = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->post2cat, $wpdb->posts WHERE $wpdb->posts.ID=$wpdb->post2cat.post_id AND post_status='publish' AND category_id = '$cat_id'");count521,15621
function wp_delete_post($postid = 0) {wp_delete_post527,15971
	$postid = (int) $postid;postid529,16038
		$categories = wp_get_post_cats('', $post->ID);categories540,16325
function post_permalink($post_id = 0, $mode = '') { // $mode legacypost_permalink573,17282
function get_cat_name($cat_id) {get_cat_name578,17428
	$name = $wpdb->get_var("SELECT cat_name FROM $wpdb->categories WHERE cat_ID=$cat_id");name582,17511
function get_cat_ID($cat_name='General') {get_cat_ID588,17661
	$cid = $wpdb->get_var("SELECT cat_ID FROM $wpdb->categories WHERE cat_name='$cat_name'");cid591,17721
function get_author_name( $auth_id ) {get_author_name597,17896
	$authordata = get_userdata( $auth_id );authordata598,17935
function get_extended($post) {get_extended604,18056
	$main = preg_replace('/^[\s]*(.*)[\s]*$/','\\1',$main);main608,18189
	$extended = preg_replace('/^[\s]*(.*)[\s]*$/','\\1',$extended);extended609,18246
function trackback_url_list($tb_list, $post_id) {trackback_url_list617,18500
		$postdata = wp_get_single_post($post_id, ARRAY_A);postdata620,18594
		$excerpt = strip_tags($post_excerpt?$post_excerpt:$post_content);excerpt626,18728
			$excerpt = substr($excerpt,0,252) . '...';excerpt629,18831
		$trackback_urls = explode(',', $tb_list);trackback_urls632,18884
		    $tb_url = trim($tb_url);tb_url634,18968
function wp_blacklist_check($author, $email, $url, $comment, $user_ip, $user_agent) {wp_blacklist_check640,19085
	$mod_keys = trim( get_settings('blacklist_keys') );mod_keys653,19492
	$words = explode("\n", $mod_keys );words656,19616
		$word = trim($word);word659,19683
		$word = preg_quote($word, '#');word666,19856
		$pattern = "#$word#i"; pattern668,19893
function wp_proxy_check($ipnum) {wp_proxy_check684,20385
		$rev_ip = implode( '.', array_reverse( explode( '.', $ipnum ) ) );rev_ip686,20477
		$lookup = $rev_ip . '.sbl-xbl.spamhaus.org.';lookup687,20546
function do_trackbacks($post_id) {do_trackbacks695,20677
	$post = $wpdb->get_row("SELECT * FROM $wpdb->posts WHERE ID = $post_id");post698,20728
	$to_ping = get_to_ping($post_id);to_ping699,20803
	$pinged  = get_pung($post_id);pinged700,20838
		$excerpt = apply_filters('the_content', $post->post_content);excerpt707,21022
		$excerpt = apply_filters('the_excerpt', $post->post_excerpt);excerpt709,21092
	$excerpt = str_replace(']]>', ']]&gt;', $excerpt);excerpt710,21156
	$excerpt = strip_tags($excerpt);excerpt711,21208
    	$excerpt = mb_strcut($excerpt, 0, 252, get_settings('blog_charset')) . '...';excerpt713,21311
		$excerpt = substr($excerpt, 0, 252) . '...';excerpt715,21400
	$post_title = apply_filters('the_title', $post->post_title);post_title717,21448
	$post_title = strip_tags($post_title);post_title718,21510
		$tb_ping = trim($tb_ping);tb_ping721,21601
function get_pung($post_id) { // Get URIs already pung for a postget_pung731,21905
	$pung = $wpdb->get_var("SELECT pinged FROM $wpdb->posts WHERE ID = $post_id");pung733,21986
	$pung = trim($pung);pung734,22066
	$pung = preg_split('/\s/', $pung);pung735,22088
	$pung = apply_filters('get_pung', $pung);pung736,22124
function get_enclosed($post_id) { // Get enclosures already enclosed for a postget_enclosed740,22185
	$custom_fields = get_post_custom( $post_id );custom_fields742,22280
	$pung = array();pung743,22327
			$enclosure = split( "\n", $enc );enclosure751,22535
	$pung = apply_filters('get_enclosed', $pung);pung755,22617
function get_to_ping($post_id) { // Get any URIs in the todo listget_to_ping759,22682
	$to_ping = $wpdb->get_var("SELECT to_ping FROM $wpdb->posts WHERE ID = $post_id");to_ping761,22763
	$to_ping = trim($to_ping);to_ping762,22847
	$to_ping = preg_split('/\s/', $to_ping, -1, PREG_SPLIT_NO_EMPTY);to_ping763,22875
	$to_ping = apply_filters('get_to_ping',  $to_ping);to_ping764,22942
function add_ping($post_id, $uri) { // Add a URI to those already pungadd_ping768,23016
	$pung = $wpdb->get_var("SELECT pinged FROM $wpdb->posts WHERE ID = $post_id");pung770,23102
	$pung = trim($pung);pung771,23182
	$pung = preg_split('/\s/', $pung);pung772,23204
	$new = implode("\n", $pung);new774,23257
	$new = apply_filters('add_ping', $new);new775,23287
function get_page_hierarchy($posts, $parent = 0) {get_page_hierarchy781,23558
	$result = array ( );result782,23609
			$children = get_page_hierarchy($posts, $post->ID);children786,23755
function generate_page_rewrite_rules() {generate_page_rewrite_rules793,23893
	$posts = get_page_hierarchy($wpdb->get_results("SELECT ID, post_name, post_parent FROM $wpdb->posts WHERE post_status = 'static'"));posts797,24015
	$posts = array_reverse($posts, true);posts799,24242
	$page_rewrite_rules = array();page_rewrite_rules801,24282
	$page_attachment_rewrite_rules = array();page_attachment_rewrite_rules802,24314
			$uri = get_page_uri($id);uri809,24437
			$attachments = $wpdb->get_results("SELECT ID, post_name, post_parent FROM $wpdb->posts WHERE post_status = 'attachment' AND post_parent = '$id'");attachments810,24466
					$attach_uri = get_page_uri($attachment->ID);attach_uri813,24687
function get_post_status($ID = '') {get_post_status828,25041
	$post = get_post($ID);post829,25078
function get_post_mime_type($ID = '') {get_post_mime_type842,25384
	$post = & get_post($ID);post843,25424
function get_attached_file($attachment_id) {get_attached_file851,25527
function wp_mkdir_p($target) {wp_mkdir_p855,25641
		$stat = @ stat(dirname($target));stat866,25910
		$dir_perms = $stat['mode'] & 0007777;  // Get the permission bits.dir_perms867,25946
function wp_upload_dir() {wp_upload_dir883,26385
	$siteurl = get_settings('siteurl');siteurl884,26412
	$path = str_replace(ABSPATH, '', trim(get_settings('upload_path')));path886,26526
	$dir = ABSPATH . $path;dir887,26596
	$url = trailingslashit($siteurl) . $path;url888,26621
		$dir = ABSPATH . 'wp-content/uploads';dir891,26714
		$dir = ABSPATH . UPLOADS;dir895,26788
		$url = trailingslashit($siteurl) . UPLOADS;url896,26816
		$time = current_time( 'mysql' );time901,26963
		$y = substr( $time, 0, 4 );y902,26998
		$m = substr( $time, 5, 2 );m903,27028
		$dir = $dir . "/$y/$m";dir904,27058
		$url = $url . "/$y/$m";url905,27084
		$message = sprintf(__('Unable to create directory %s. Is its parent directory writable by the server?'), $dir);message910,27182
    $uploads = array('path' => $dir, 'url' => $url, 'error' => false);uploads914,27337
function wp_upload_bits($name, $type, $bits) {wp_upload_bits918,27458
	$wp_filetype = wp_check_filetype($name);wp_filetype922,27576
	$upload = wp_upload_dir();upload926,27700
	$number = '';number931,27784
	$filename = $name;filename932,27799
	$path_parts = pathinfo($filename);path_parts933,27819
	$ext = $path_parts['extension'];ext934,27855
		$ext = '';ext936,27909
		$ext = ".$ext";ext938,27928
			$filename = $filename . ++$number . $ext;filename941,28032
			$filename = str_replace("$number$ext", ++$number . $ext, $filename);filename943,28084
	$new_file = $upload['path'] . "/$filename";new_file946,28162
		$message = sprintf(__('Unable to create directory %s. Is its parent directory writable by the server?'), dirname($new_file));message948,28252
	$ifp = @ fopen($new_file, 'wb');ifp952,28421
	$success = @ fwrite($ifp, $bits);success956,28535
	$stat = @ stat(dirname($new_file));stat959,28618
	$perms = $stat['mode'] & 0007777;perms960,28655
	$perms = $perms & 0000666;perms961,28690
	$url = $upload['url'] . "/$filename";url965,28768
function wp_check_filetype($filename, $mimes = null) {wp_check_filetype970,28880
	$mimes = is_array($mimes) ? $mimes : apply_filters('upload_mimes', array (mimes972,28997
	$type = false;type1010,30217
	$ext = false;ext1011,30233
		$ext_preg = '!\.(' . $ext_preg . ')$!i';ext_preg1014,30297
			$type = $mime_match;type1016,30398
			$ext = $ext_matches[1];ext1017,30422

weblog/wp-includes/functions.php,37092
	function _($string) {_6,96
function get_profile($field, $user = false) {get_profile11,143
		$user = $wpdb->escape($_COOKIE[USER_COOKIE]);user14,219
function mysql2date($dateformatstring, $mysqlstring, $translate = true) {mysql2date18,356
	$m = $mysqlstring;m20,488
	$i = mktime(substr($m,11,2),substr($m,14,2),substr($m,17,2),substr($m,5,2),substr($m,8,2),substr($m,0,4));i24,547
		$i = 0;i27,689
		$datemonth = $month[date('m', $i)];datemonth30,759
		$datemonth_abbrev = $month_abbrev[$datemonth];datemonth_abbrev31,797
		$dateweekday = $weekday[date('w', $i)];dateweekday32,846
		$dateweekday_abbrev = $weekday_abbrev[$dateweekday];dateweekday_abbrev33,888
		$dateformatstring = ' '.$dateformatstring;dateformatstring34,943
		$dateformatstring = preg_replace("/([^\\\])D/", "\\1".backslashit($dateweekday_abbrev), $dateformatstring);dateformatstring35,988
		$dateformatstring = preg_replace("/([^\\\])F/", "\\1".backslashit($datemonth), $dateformatstring);dateformatstring36,1098
		$dateformatstring = preg_replace("/([^\\\])l/", "\\1".backslashit($dateweekday), $dateformatstring);dateformatstring37,1199
		$dateformatstring = preg_replace("/([^\\\])M/", "\\1".backslashit($datemonth_abbrev), $dateformatstring);dateformatstring38,1302
		$dateformatstring = substr($dateformatstring, 1, strlen($dateformatstring)-1);dateformatstring40,1411
	$j = @date($dateformatstring, $i);j42,1495
function current_time($type, $gmt = 0) {current_time50,1616
function date_i18n($dateformatstring, $unixtimestamp) {date_i18n65,1979
	$i = $unixtimestamp;i67,2093
		$datemonth = $month[date('m', $i)];datemonth69,2164
		$datemonth_abbrev = $month_abbrev[$datemonth];datemonth_abbrev70,2202
		$dateweekday = $weekday[date('w', $i)];dateweekday71,2251
		$dateweekday_abbrev = $weekday_abbrev[$dateweekday];dateweekday_abbrev72,2293
		$dateformatstring = ' '.$dateformatstring;dateformatstring73,2348
		$dateformatstring = preg_replace("/([^\\\])D/", "\\1".backslashit($dateweekday_abbrev), $dateformatstring);dateformatstring74,2393
		$dateformatstring = preg_replace("/([^\\\])F/", "\\1".backslashit($datemonth), $dateformatstring);dateformatstring75,2503
		$dateformatstring = preg_replace("/([^\\\])l/", "\\1".backslashit($dateweekday), $dateformatstring);dateformatstring76,2604
		$dateformatstring = preg_replace("/([^\\\])M/", "\\1".backslashit($datemonth_abbrev), $dateformatstring);dateformatstring77,2707
		$dateformatstring = substr($dateformatstring, 1, strlen($dateformatstring)-1);dateformatstring78,2815
	$j = @date($dateformatstring, $i);j80,2899
function get_weekstartend($mysqlstring, $start_of_week) {get_weekstartend84,2951
	$my = substr($mysqlstring,0,4);my85,3009
	$mm = substr($mysqlstring,8,2);mm86,3042
	$md = substr($mysqlstring,5,2);md87,3075
	$day = mktime(0,0,0, $md, $mm, $my);day88,3108
	$weekday = date('w',$day);weekday89,3146
	$i = 86400;i90,3174
		$weekday = 7 - (get_settings('start_of_week') - $weekday);weekday93,3237
		$weekday = date('w',$day);weekday96,3351
			$weekday = 7 - (get_settings('start_of_week') - $weekday);weekday98,3430
		$day = $day - 86400;day100,3493
		$i = 0;i101,3516
function get_lastpostdate($timezone = 'server') {get_lastpostdate109,3664
	$add_seconds_blog = get_settings('gmt_offset') * 3600;add_seconds_blog111,3760
	$add_seconds_server = date('Z');add_seconds_server112,3816
	$now = current_time('mysql', 1);now113,3850
				$lastpostdate = $wpdb->get_var("SELECT post_date_gmt FROM $wpdb->posts WHERE post_date_gmt <= '$now' AND post_status = 'publish' ORDER BY post_date_gmt DESC LIMIT 1");lastpostdate117,3982
				$lastpostdate = $wpdb->get_var("SELECT post_date FROM $wpdb->posts WHERE post_date_gmt <= '$now' AND post_status = 'publish' ORDER BY post_date_gmt DESC LIMIT 1");lastpostdate120,4181
				$lastpostdate = $wpdb->get_var("SELECT DATE_ADD(post_date_gmt, INTERVAL '$add_seconds_server' SECOND) FROM $wpdb->posts WHERE post_date_gmt <= '$now' AND post_status = 'publish' ORDER BY post_date_gmt DESC LIMIT 1");lastpostdate123,4378
		$lastpostdate = $cache_lastpostdate[$timezone];lastpostdate128,4674
function get_lastpostmodified($timezone = 'server') {get_lastpostmodified133,4753
	$add_seconds_blog = get_settings('gmt_offset') * 3600;add_seconds_blog135,4857
	$add_seconds_server = date('Z');add_seconds_server136,4913
	$now = current_time('mysql', 1);now137,4947
				$lastpostmodified = $wpdb->get_var("SELECT post_modified_gmt FROM $wpdb->posts WHERE post_modified_gmt <= '$now' AND post_status = 'publish' ORDER BY post_modified_gmt DESC LIMIT 1");lastpostmodified141,5083
				$lastpostmodified = $wpdb->get_var("SELECT post_modified FROM $wpdb->posts WHERE post_modified_gmt <= '$now' AND post_status = 'publish' ORDER BY post_modified_gmt DESC LIMIT 1");lastpostmodified144,5298
				$lastpostmodified = $wpdb->get_var("SELECT DATE_ADD(post_modified_gmt, INTERVAL '$add_seconds_server' SECOND) FROM $wpdb->posts WHERE post_modified_gmt <= '$now' AND post_status = 'publish' ORDER BY post_modified_gmt DESC LIMIT 1");lastpostmodified147,5511
		$lastpostdate = get_lastpostdate($timezone);lastpostdate150,5763
			$lastpostmodified = $lastpostdate;lastpostmodified152,5855
		$lastpostmodified = $cache_lastpostmodified[$timezone];lastpostmodified156,5965
function user_pass_ok($user_login,$user_pass) {user_pass_ok161,6056
		$userdata = get_userdatabylogin($user_login);userdata164,6175
		$userdata = $cache_userdata[$user_login];userdata166,6233
function get_usernumposts($userid) {get_usernumposts172,6335
function url_to_postid($url) {url_to_postid180,6606
	$id = intval($values[2]);id185,6790
	$rewrite = $wp_rewrite->wp_rewrite_rules();rewrite189,6889
	$url_split = explode('#', $url);url_split201,7300
	$url = $url_split[0];url202,7334
	$url_split = explode('?', $url);url_split205,7391
	$url = $url_split[0];url206,7425
		$url = str_replace('://', '://www.', $url);url210,7595
		$url = str_replace('://www.', '://', $url);url214,7751
		$url = str_replace('index.php/', '', $url);url218,7910
		$url = str_replace(get_settings('home'), '', $url);url222,8044
		$home_path = parse_url(get_settings('home'));home_path225,8136
		$home_path = $home_path['path'];home_path226,8184
		$url = str_replace($home_path, '', $url);url227,8219
	$url = trim($url, '/');url231,8304
	$request = $url;request233,8330
	$request_match = $request;request_match238,8394
			$request_match = $url . '/' . $request;request_match243,8613
			$query = preg_replace("!^.+\?!", '', $query);query249,8791
			$query = new WP_Query($query);query253,8930
function maybe_unserialize($original) {maybe_unserialize264,9084
function get_settings($setting) {get_settings273,9241
	$value = wp_cache_get($setting, 'options');value276,9291
		$row = $wpdb->get_row("SELECT option_value FROM $wpdb->options WHERE option_name = '$setting' LIMIT 1");row281,9423
			$value = $row->option_value;value286,9705
		$value = preg_replace('|/+$|', '', $value);value298,10016
function get_option($option) {get_option303,10140
function get_user_option( $option, $user = 0 ) {get_user_option307,10205
		$user = wp_get_current_user();user311,10292
		$user = get_userdata($user);user313,10331
function form_option($option) {form_option323,10626
function get_alloptions() {get_alloptions327,10720
		$options = $wpdb->get_results("SELECT option_name, option_value FROM $wpdb->options");options331,10919
		$value = maybe_unserialize($option->option_value);value344,11546
function update_option($option_name, $newvalue) {update_option350,11759
		$newvalue = trim($newvalue);newvalue354,11854
	$oldvalue = get_option($option_name);oldvalue357,11949
	$_newvalue = $newvalue;_newvalue367,12129
		$newvalue = serialize($newvalue);newvalue369,12206
	$newvalue = $wpdb->escape($newvalue);newvalue373,12295
	$option_name = $wpdb->escape($option_name);option_name374,12334
function update_user_option( $user_id, $option_name, $newvalue, $global = false ) {update_user_option383,12646
		$option_name = $wpdb->prefix . $option_name;option_name386,12762
function add_option($name, $value = '', $description = '', $autoload = 'yes') {add_option391,12926
		$value = serialize($value);value399,13162
	$name = $wpdb->escape($name);name403,13235
	$value = $wpdb->escape($value);value404,13266
	$description = $wpdb->escape($description);description405,13299
function delete_option($name) {delete_option411,13516
	$option_id = $wpdb->get_var("SELECT option_id FROM $wpdb->options WHERE option_name = '$name'");option_id414,13600
function add_post_meta($post_id, $key, $value, $unique = false) {add_post_meta421,13858
	$original = $value;original431,14116
		$value = $wpdb->escape(serialize($value));value433,14183
function delete_post_meta($post_id, $key, $value = '') {delete_post_meta442,14411
		$meta_id = $wpdb->get_var("SELECT meta_id FROM $wpdb->postmeta WHEREmeta_id446,14526
		$meta_id = $wpdb->get_var("SELECT meta_id FROM $wpdb->postmeta WHEREmeta_id449,14653
		$cache_key = $post_meta_cache['$post_id'][$key];cache_key463,15132
function get_post_meta($post_id, $key, $single = false) {get_post_meta474,15390
	$metalist = $wpdb->get_results("SELECT meta_value FROM $wpdb->postmeta WHERE post_id = '$post_id' AND meta_key = '$key'", ARRAY_N);metalist485,15703
	$values = array();values487,15837
			$return = maybe_unserialize( $values[0] );return496,15993
		$return = $values;return501,16078
function update_post_meta($post_id, $key, $value, $prev_value = '') {update_post_meta507,16142
	$original_value = $value;original_value510,16246
		$value = $wpdb->escape(serialize($value));value512,16319
	$original_prev = $prev_value;original_prev514,16365
		$prev_value = $wpdb->escape(serialize($prev_value));prev_value516,16452
		$cache_key = $post_meta_cache['$post_id'][$key];cache_key526,16789
		$cache_key = $post_meta_cache['$post_id'][$key];cache_key533,17135
function get_postdata($postid) {get_postdata544,17412
	$post = &get_post($postid);post545,17445
	$postdata = array (postdata547,17475
function &get_post(&$post, $output = OBJECT) {get_post569,18093
			$_post = & $GLOBALS['post'];_post574,18225
			$_post = null;_post576,18264
		$_post = & $post_cache[$post->ID];_post582,18467
			$_post = & $post_cache[$post];_post587,18637
			$query = "SELECT * FROM $wpdb->posts WHERE ID = '$post' LIMIT 1";query589,18680
			$_post = & $wpdb->get_row($query);_post590,18749
function &get_children($post = 0, $output = OBJECT) {get_children611,19192
			$post_parent = & $GLOBALS['post']->post_parent;post_parent616,19331
		$post_parent = $post->post_parent;post_parent620,19439
		$post_parent = $post;post_parent622,19486
	$post_parent = (int) $post_parent;post_parent625,19514
	$query = "SELECT * FROM $wpdb->posts WHERE post_parent = $post_parent";query627,19551
	$children = $wpdb->get_results($query);children629,19625
function set_page_path($page) {set_page_path655,20217
	$path = $page->fullpath;path657,20292
	$curpage = $page;curpage658,20318
		$curpage = get_page($curpage->post_parent);curpage660,20375
		$path = '/' . $curpage->post_name . $path;path661,20421
function &get_page(&$page, $output = OBJECT) {get_page671,20596
			$_page = & $GLOBALS['page'];_page676,20717
			$_page = null;_page679,20806
		$_page = $page;_page685,20980
			$_page = & $GLOBALS['page'];_page688,21078
			$query = "SELECT * FROM $wpdb->posts WHERE ID= '$page' LIMIT 1";query695,21328
			$_page = & $wpdb->get_row($query);_page696,21396
		$_page = set_page_path($_page);_page704,21602
function set_category_path($cat) {set_category_path719,21923
	$path = $cat->fullpath;path721,22007
	$curcat = $cat;curcat722,22032
		$curcat = get_category($curcat->category_parent);curcat724,22090
		$path = '/' . $curcat->category_nicename . $path;path725,22142
function &get_category(&$category, $output = OBJECT) {get_category735,22338
		$_category = $category;_category743,22539
			$_category = $wpdb->get_row("SELECT * FROM $wpdb->categories WHERE cat_ID = '$category' LIMIT 1");_category746,22637
	$_category = apply_filters('get_category', $_category);_category751,22799
		$_category = set_category_path($_category);_category754,22896
function &get_comment(&$comment, $output = OBJECT) {get_comment771,23349
		$_comment = & $comment_cache[$comment->comment_ID];_comment780,23611
			$_comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment' LIMIT 1");_comment783,23719
			$_comment = & $comment_cache[$comment];_comment786,23887
function get_catname($cat_ID) {get_catname801,24180
	$category = &get_category($cat_ID);category802,24212
function get_all_category_ids() {get_all_category_ids806,24281
		$cat_ids = $wpdb->get_col("SELECT cat_ID FROM $wpdb->categories");cat_ids810,24400
function get_all_page_ids() {get_all_page_ids817,24553
		$page_ids = $wpdb->get_col("SELECT ID FROM $wpdb->posts WHERE post_status='static'");page_ids821,24662
function gzip_compression() {gzip_compression828,24829
function timer_stop($display = 0, $precision = 3) { //if called like timer_stop(1), will echo $timetotaltimer_stop840,25110
	$mtime = microtime();mtime842,25245
	$mtime = explode(' ',$mtime);mtime843,25268
	$mtime = $mtime[1] + $mtime[0];mtime844,25299
	$timeend = $mtime;timeend845,25332
	$timetotal = $timeend-$timestart;timetotal846,25352
function weblog_ping($server = '', $path = '') {weblog_ping852,25472
	$client = new IXR_Client($server, ((!strlen(trim($path)) || ('/' == $path)) ? false : $path));client857,25667
	$home = trailingslashit( get_option('home') );home863,25925
function generic_ping($post_id = 0) {generic_ping868,26189
	$services = get_settings('ping_sites');services869,26227
	$services = preg_replace("|(\s)+|", '$1', $services); // Kill dupe linesservices870,26268
	$services = trim($services);services871,26342
		$services = explode("\n", $services);services873,26398
function trackback($trackback_url, $title, $excerpt, $ID) {trackback883,26549
	$title = urlencode($title);title889,26679
	$excerpt = urlencode($excerpt);excerpt890,26708
	$blog_name = urlencode(get_settings('blogname'));blog_name891,26741
	$tb_url = $trackback_url;tb_url892,26792
	$url = urlencode(get_permalink($ID));url893,26819
	$query_string = "title=$title&url=$url&blog_name=$blog_name&excerpt=$excerpt";query_string894,26858
	$trackback_url = parse_url($trackback_url);trackback_url895,26938
	$http_request = 'POST ' . $trackback_url['path'] . ($trackback_url['query'] ? '?'.$trackback_url['query'] : '') . " HTTP/1.0\r\n";http_request896,26983
	$fs = @fsockopen($trackback_url['host'], $trackback_url['port'], $errno, $errstr, 4);fs905,27544
	$debug_file = 'trackback.log';debug_file908,27663
	$fp = fopen($debug_file, 'a');fp909,27695
	$tb_url = addslashes( $tb_url );tb_url919,27910
function make_url_footnote($content) {make_url_footnote924,28161
	$j = 0;j926,28280
		$links_summary = (!$j) ? "\n" : $links_summary;links_summary928,28332
		$link_match = $matches[0][$i];link_match930,28390
		$link_number = '['.($i+1).']';link_number931,28423
		$link_url = $matches[2][$i];link_url932,28456
		$link_text = $matches[4][$i];link_text933,28487
		$content = str_replace($link_match, $link_text.' '.$link_number, $content);content934,28519
		$link_url = ((strtolower(substr($link_url,0,7)) != 'http://') && (strtolower(substr($link_url,0,8)) != 'https://')) ? get_settings('home') . $link_url : $link_url;link_url935,28597
	$content = strip_tags($content);content938,28819
function xmlrpc_getposttitle($content) {xmlrpc_getposttitle944,28904
		$post_title = $matchtitle[0];post_title947,29047
		$post_title = preg_replace('/<title>/si', '', $post_title);post_title948,29079
		$post_title = preg_replace('/<\/title>/si', '', $post_title);post_title949,29141
		$post_title = $post_default_title;post_title951,29215
function xmlrpc_getpostcategory($content) {xmlrpc_getpostcategory956,29279
		$post_category = trim($matchcat[1], ',');post_category959,29432
		$post_category = explode(',', $post_category);post_category960,29476
		$post_category = $post_default_category;post_category962,29535
function xmlrpc_removepostdata($content) {xmlrpc_removepostdata967,29608
	$content = preg_replace('/<title>(.+?)<\/title>/si', '', $content);content968,29651
	$content = preg_replace('/<category>(.+?)<\/category>/si', '', $content);content969,29720
	$content = trim($content);content970,29795
function debug_fopen($filename, $mode) {debug_fopen974,29844
		$fp = fopen($filename, $mode);fp977,29923
function debug_fwrite($fp, $string) {debug_fwrite984,30002
function debug_fclose($fp) {debug_fclose991,30108
function spawn_pinger() {spawn_pinger998,30196
	$doping = false;doping1000,30250
		$doping = true;doping1002,30356
		$doping = true;doping1005,30499
		$ping_url = get_settings('siteurl') .'/wp-admin/execute-pings.php';ping_url1011,30602
		$parts = parse_url($ping_url);parts1012,30672
		$argyle = @ fsockopen($parts['host'], $_SERVER['SERVER_PORT'], $errno, $errstr, 0.01);argyle1013,30705
function do_enclose( $content, $post_ID ) {do_enclose1019,30971
	$log = debug_fopen(ABSPATH . '/enclosures.log', 'a');log1023,31096
	$post_links = array();post_links1024,31151
	$pung = get_enclosed( $post_ID );pung1027,31235
	$ltrs = '\w';ltrs1029,31271
	$gunk = '/#~:.?+=&%@!\-';gunk1030,31286
	$punc = '.:?\-';punc1031,31313
	$any = $ltrs . $gunk . $punc;any1032,31331
			$test = parse_url($link_test);test1041,31657
				$len = (int) $headers['content-length'];len1052,32117
				$type = $wpdb->escape( $headers['content-type'] );type1053,32162
				$allowed_types = array( 'video', 'audio' );allowed_types1054,32217
					$meta_value = "$url\n$len\n$type\n";meta_value1056,32347
function wp_get_http_headers( $url, $red = 1 ) {wp_get_http_headers1065,32571
	$parts = parse_url( $url );parts1072,32702
	$file = $parts['path'] . ($parts['query'] ? '?'.$parts['query'] : '');file1073,32731
	$host = $parts['host'];host1074,32803
	$head = "HEAD $file HTTP/1.1\r\nHOST: $host\r\nUser-Agent: WordPress/" . $wp_version . "\r\n\r\n";head1078,32885
	$fp = @fsockopen($host, $parts['port'], $err_num, $err_msg, 3);fp1080,32986
	$response = '';response1084,33081
	$count = count($matches[1]);count1090,33296
		$key = strtolower($matches[1][$i]);key1092,33362
    $code = $headers['response'];code1099,33571
function start_wp() {start_wp1107,33811
function setup_postdata($post) {setup_postdata1117,34017
	$id = $post->ID;id1121,34168
	$authordata = get_userdata($post->post_author);authordata1123,34187
	$day = mysql2date('d.m.y', $post->post_date);day1125,34237
	$currentmonth = mysql2date('m', $post->post_date);currentmonth1126,34284
	$numpages = 1;numpages1127,34336
	$page = get_query_var('page');page1128,34352
		$page = 1;page1130,34399
		$more = 1;more1132,34445
	$content = $post->post_content;content1133,34458
			$more = 1;more1136,34562
		$multipage = 1;multipage1137,34576
		$content = str_replace("\n<!--nextpage-->\n", '<!--nextpage-->', $content);content1138,34594
		$content = str_replace("\n<!--nextpage-->", '<!--nextpage-->', $content);content1139,34672
		$content = str_replace("<!--nextpage-->\n", '<!--nextpage-->', $content);content1140,34748
		$pages = explode('<!--nextpage-->', $content);pages1141,34824
		$numpages = count($pages);numpages1142,34873
		$multipage = 0;multipage1145,34947
function setup_userdata($user_id = '') {setup_userdata1151,35057
		$user = wp_get_current_user();user1155,35233
		$user = new WP_User($user_id);user1157,35273
	$userdata = $user->data;userdata1162,35341
	$user_login	= $user->user_login;user_login1163,35367
	$user_level	= $user->user_level;user_level1164,35401
	$user_ID	= $user->ID;user_ID1165,35435
	$user_email	= $user->user_email;user_email1166,35458
	$user_url	= $user->user_url;user_url1167,35492
	$user_pass_md5	= md5($user->user_pass);user_pass_md51168,35522
	$user_identity	= $user->display_name;user_identity1169,35563
function is_new_day() {is_new_day1172,35605
function merge_filters($tag) {merge_filters1183,35790
function apply_filters($tag, $string) {apply_filters1199,36328
	$args = array_slice(func_get_args(), 2);args1202,36389
				$all_args = array_merge(array($string), $args);all_args1213,36639
				$function_name = $function['function'];function_name1214,36691
				$accepted_args = $function['accepted_args'];accepted_args1215,36735
					$the_args = array($string);the_args1218,36816
					$the_args = array_slice($all_args, 0, $accepted_args);the_args1220,36883
					$the_args = NULL;the_args1222,36978
					$the_args = $all_args;the_args1224,37010
				$string = call_user_func_array($function_name, $the_args);string1226,37039
function add_filter($tag, $function_to_add, $priority = 10, $accepted_args = 1) {add_filter1233,37134
function remove_filter($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {remove_filter1252,37847
		$new_function_list = array();new_function_list1257,38035
function do_action($tag, $arg = '') {do_action1270,38420
	$extra_args = array_slice(func_get_args(), 2);extra_args1272,38478
 		$args = array_merge($arg, $extra_args);args1274,38550
		$args = array_merge(array($arg), $extra_args);args1276,38599
				$function_name = $function['function'];function_name1287,38848
				$accepted_args = $function['accepted_args'];accepted_args1288,38892
						$the_args = $arg;the_args1292,39002
						$the_args = array($arg);the_args1294,39036
					$the_args = array_slice($args, 0, $accepted_args);the_args1296,39105
					$the_args = NULL;the_args1298,39200
					$the_args = $args;the_args1300,39236
				$string = call_user_func_array($function_name, $the_args);string1303,39267
function add_action($tag, $function_to_add, $priority = 10, $accepted_args = 1) {add_action1309,39345
function remove_action($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {remove_action1313,39494
function get_page_uri($page_id) {get_page_uri1317,39655
	$page = get_page($page_id);page1318,39689
	$uri = urldecode($page->post_name);uri1319,39718
		$page = get_page($page->post_parent);page1326,39885
		$uri = urldecode($page->post_name) . "/" . $uri;uri1327,39925
function get_posts($args) {get_posts1333,39997
	$now = current_time('mysql');now1347,40339
	$posts = $wpdb->get_results(posts1349,40371
function &query_posts($query) {query_posts1361,40893
function update_post_cache(&$posts) {update_post_cache1366,40981
function clean_post_cache($id) {clean_post_cache1377,41161
function update_page_cache(&$pages) {update_page_cache1384,41282
function clean_page_cache($id) {clean_page_cache1397,41516
function update_post_category_cache($post_ids) {update_post_category_cache1404,41637
		$post_ids = implode(',', $post_ids);post_ids1411,41783
	$dogs = $wpdb->get_results("SELECT post_id, category_id FROM $wpdb->post2cat WHERE post_id IN ($post_ids)");dogs1413,41823
function update_post_caches(&$posts) {update_post_caches1422,42088
	$post_id_list = implode(',', $post_id_array);post_id_list1437,42551
		$post_meta_cache = array();post_meta_cache1444,42887
			$mpid = $metarow['post_id'];mpid1446,42954
			$mkey = $metarow['meta_key'];mkey1447,42986
			$mval = $metarow['meta_value'];mval1448,43019
function update_category_cache() {update_category_cache1462,43456
function wp_head() {wp_head1466,43508
function wp_footer() {wp_footer1470,43555
function is_single ($post = '') {is_single1474,43606
	$post_obj = $wp_query->get_queried_object();post_obj1483,43745
function is_page ($page = '') {is_page1495,43972
	$page_obj = $wp_query->get_queried_object();page_obj1504,44106
function is_attachment () {is_attachment1516,44334
function is_preview() {is_preview1522,44419
function is_archive () {is_archive1528,44498
function is_date () {is_date1534,44577
function is_year () {is_year1540,44650
function is_month () {is_month1546,44723
function is_day () {is_day1552,44798
function is_time () {is_time1558,44869
function is_author ($author = '') {is_author1564,44942
	$author_obj = $wp_query->get_queried_object();author_obj1573,45084
function is_category ($category = '') {is_category1585,45327
	$cat_obj = $wp_query->get_queried_object();cat_obj1594,45477
function is_search () {is_search1606,45723
function is_feed () {is_feed1612,45800
function is_trackback () {is_trackback1618,45873
function is_admin () {is_admin1624,45956
function is_home () {is_home1630,46083
function is_404 () {is_4041636,46156
function is_comments_popup () {is_comments_popup1642,46227
function is_paged () {is_paged1648,46320
function in_the_loop() {in_the_loop1654,46395
function get_query_var($var) {get_query_var1660,46475
function have_posts() {have_posts1666,46559
function rewind_posts() {rewind_posts1672,46639
function the_post() {the_post1678,46723
function get_theme_root() {get_theme_root1684,46792
function get_theme_root_uri() {get_theme_root_uri1688,46891
function get_stylesheet() {get_stylesheet1692,47040
function get_stylesheet_directory() {get_stylesheet_directory1696,47136
	$stylesheet = get_stylesheet();stylesheet1697,47174
	$stylesheet_dir = get_theme_root() . "/$stylesheet";stylesheet_dir1698,47207
function get_stylesheet_directory_uri() {get_stylesheet_directory_uri1702,47341
	$stylesheet = rawurlencode( get_stylesheet() );stylesheet1703,47383
	$stylesheet_dir_uri = get_theme_root_uri() . "/$stylesheet";stylesheet_dir_uri1704,47432
function get_stylesheet_uri() {get_stylesheet_uri1708,47582
	$stylesheet_dir_uri = get_stylesheet_directory_uri();stylesheet_dir_uri1709,47614
	$stylesheet_uri = $stylesheet_dir_uri . "/style.css";stylesheet_uri1710,47669
function get_template() {get_template1714,47806
	$template = get_settings('template');template1715,47832
function get_template_directory() {get_template_directory1723,48095
	$template = get_template();template1724,48131
	$template_dir = get_theme_root() . "/$template";template_dir1725,48160
function get_template_directory_uri() {get_template_directory_uri1729,48284
	$template = get_template();template1730,48324
	$template_dir_uri = get_theme_root_uri() . "/$template";template_dir_uri1731,48353
function get_theme_data($theme_file) {get_theme_data1735,48493
	$theme_data = implode('', file($theme_file));theme_data1736,48532
		$version = trim($version[1]);version1744,48999
		$version ='';version1746,49037
		$status = trim($status[1]);status1748,49112
		$status = 'publish';status1750,49148
	$description = wptexturize(trim($description[1]));description1752,49172
	$name = $theme_name[1];name1754,49225
	$name = trim($name);name1755,49250
	$theme = $name;theme1756,49272
		$author = trim($author_name[1]);author1759,49321
		$author = '<a href="' . trim($author_uri[1]) . '" title="' . __('Visit author homepage') . '">' . trim($author_name[1]) . '</a>';author1761,49366
function get_themes() {get_themes1767,49680
	$themes = array();themes1774,49800
	$wp_broken_themes = array();wp_broken_themes1775,49820
	$theme_root = get_theme_root();theme_root1776,49850
	$theme_loc = str_replace(ABSPATH, '', $theme_root);theme_loc1777,49883
	$themes_dir = @ dir($theme_root);themes_dir1780,49978
				$stylish_dir = @ dir($theme_root . '/' . $theme_dir);stylish_dir1787,50289
				$found_stylesheet = false;found_stylesheet1788,50347
						$found_stylesheet = true;found_stylesheet1792,50535
		$theme_data = get_theme_data("$theme_root/$theme_file");theme_data1815,51107
		$name = $theme_data['Name'];name1817,51167
		$title = $theme_data['Title'];title1818,51198
		$description = wptexturize($theme_data['Description']);description1819,51231
		$version = $theme_data['Version'];version1820,51289
		$author = $theme_data['Author'];author1821,51326
		$template = $theme_data['Template'];template1822,51361
		$stylesheet = dirname($theme_file);stylesheet1823,51400
				$screenshot = "screenshot.$ext";screenshot1827,51561
			$name = dirname($theme_file);name1833,51643
			$title = $name;title1834,51676
				$template = dirname($theme_file);template1839,51798
		$template = trim($template);template1845,51872
		$stylesheet_files = array();stylesheet_files1852,52099
		$stylesheet_dir = @ dir("$theme_root/$stylesheet");stylesheet_dir1853,52130
		$template_files = array();template_files1861,52410
		$template_dir = @ dir("$theme_root/$template");template_dir1862,52439
		$template_dir = dirname($template_files[0]);template_dir1870,52707
		$stylesheet_dir = dirname($stylesheet_files[0]);stylesheet_dir1871,52754
			$template_dir = '/';template_dir1874,52836
			$stylesheet_dir = '/';stylesheet_dir1876,52892
				$suffix = $themes[$name]['Stylesheet'];suffix1887,53477
				$new_name = "$name/$suffix";new_name1888,53521
				$name = "$name/$stylesheet";name1892,53651
	$theme_names = array_keys($themes);theme_names1900,54133
	$wp_themes = $themes;wp_themes1914,54682
function get_theme($theme) {get_theme1919,54726
	$themes = get_themes();themes1920,54755
function get_current_theme() {get_current_theme1928,54867
	$themes = get_themes();themes1929,54898
	$theme_names = array_keys($themes);theme_names1930,54923
	$current_template = get_settings('template');current_template1931,54960
	$current_stylesheet = get_settings('stylesheet');current_stylesheet1932,55007
	$current_theme = 'WordPress Default';current_theme1933,55058
				$current_theme = $themes[$theme_name]['Name'];current_theme1939,55290
function get_query_template($type) {get_query_template1948,55392
	$template = '';template1949,55429
		$template = TEMPLATEPATH . "/{$type}.php";template1951,55497
function get_404_template() {get_404_template1956,55600
function get_archive_template() {get_archive_template1960,55668
function get_author_template() {get_author_template1964,55744
function get_category_template() {get_category_template1968,55818
	$template = '';template1969,55853
		$template = TEMPLATEPATH . "/category-" . get_query_var('cat') . '.php';template1971,55951
		$template = TEMPLATEPATH . "/category.php";template1973,56083
function get_date_template() {get_date_template1978,56188
function get_home_template() {get_home_template1982,56258
	$template = '';template1983,56289
		$template = TEMPLATEPATH . "/home.php";template1986,56355
		$template = TEMPLATEPATH . "/index.php";template1988,56451
function get_page_template() {get_page_template1993,56549
	$id = $wp_query->post->ID;id1996,56600
	$template = get_post_meta($id, '_wp_page_template', true);template1997,56628
		$template = '';template2000,56720
		$template = TEMPLATEPATH . "/$template";template2003,56810
		$template = TEMPLATEPATH . "/page.php";template2005,56906
		$template = '';template2007,56954
function get_paged_template() {get_paged_template2012,57027
function get_search_template() {get_search_template2016,57099
function get_single_template() {get_single_template2020,57173
function get_attachment_template() {get_attachment_template2024,57247
	$type = explode('/', $posts[0]->post_mime_type);type2026,57300
function get_comments_popup_template() {get_comments_popup_template2037,57628
		$template = TEMPLATEPATH . '/comments-popup.php';template2039,57728
		$template = get_theme_root() . '/default/comments-popup.php';template2041,57786
function htmlentities2($myHTML) {htmlentities22048,58023
	$translation_table=get_html_translation_table (HTML_ENTITIES,ENT_QUOTES);translation_table2049,58057
function is_plugin_page() {is_plugin_page2055,58284
function add_query_arg() {add_query_arg2074,58722
	$ret = '';ret2075,58749
			$uri = $_SERVER['REQUEST_URI'];uri2078,58827
			$uri = @func_get_arg(1);uri2080,58869
			$uri = $_SERVER['REQUEST_URI'];uri2083,58937
			$uri = @func_get_arg(2);uri2085,58979
		$protocol = $matches[0];protocol2089,59065
		$uri = substr($uri, strlen($protocol));uri2090,59092
		$protocol = '';protocol2092,59144
		$parts = explode('?', $uri, 2);parts2096,59194
			$base = '?';base2098,59258
			$query = $parts[0];query2099,59274
			$base = $parts[0] . '?';base2101,59308
			$query = $parts[1];query2102,59336
		$base = $uri . '?';base2105,59419
		$query = '';query2106,59441
		$base = '';base2108,59466
		$query = $uri;query2109,59480
		$kayvees = func_get_arg(0);kayvees2114,59562
		$qs = array_merge($qs, $kayvees);qs2115,59592
	$ret = $protocol . $base . $ret;ret2127,59797
function remove_query_arg($key, $query) {remove_query_arg2131,59859
function load_template($file) {load_template2135,59945
function add_magic_quotes($array) {add_magic_quotes2144,60136
function wp_remote_fopen( $uri ) {wp_remote_fopen2157,60354
		$fp = fopen( $uri, 'r' );fp2159,60426
		$linea = '';linea2162,60485
		$handle = curl_init();handle2168,60648
		$buffer = curl_exec($handle);buffer2172,60821
function wp($query_vars = '') {wp2180,60926
function status_header( $header ) {status_header2186,61001
		$text = 'OK';text2188,61060
		$text = 'Moved Permanently';text2190,61103
		$text = 'Moved Temporarily';text2192,61161
		$text = 'Not Modified';text2194,61219
		$text = 'Not Found';text2196,61272
		$text = 'Gone';text2198,61322
function nocache_headers() {nocache_headers2204,61415
function get_usermeta( $user_id, $meta_key = '') {get_usermeta2211,61663
	$user_id = (int) $user_id;user_id2213,61729
		$meta_key = preg_replace('|a-z0-9_|i', '', $meta_key);meta_key2216,61786
		$metas = $wpdb->get_results("SELECT meta_key, meta_value FROM $wpdb->usermeta WHERE user_id = '$user_id' AND meta_key = '$meta_key'");metas2217,61843
		$metas = $wpdb->get_results("SELECT meta_key, meta_value FROM $wpdb->usermeta WHERE user_id = '$user_id'");metas2219,61990
			$value = $meta->meta_value;value2232,62308
function update_usermeta( $user_id, $meta_key, $meta_value ) {update_usermeta2243,62442
	$meta_key = preg_replace('|[^a-z0-9_]|i', '', $meta_key);meta_key2247,62568
		$meta_value = serialize($meta_value);meta_value2250,62684
	$meta_value = trim( $meta_value );meta_value2251,62724
	$cur = $wpdb->get_row("SELECT * FROM $wpdb->usermeta WHERE user_id = '$user_id' AND meta_key = '$meta_key'");cur2257,62833
	$user = get_userdata($user_id);user2268,63303
function delete_usermeta( $user_id, $meta_key, $meta_value = '' ) {delete_usermeta2275,63443
	$meta_key = preg_replace('|[^a-z0-9_]|i', '', $meta_key);meta_key2279,63574
		$meta_value = serialize($meta_value);meta_value2282,63690
	$meta_value = trim( $meta_value );meta_value2283,63730
	$user = get_userdata($user_id);user2290,64038
function register_activation_hook($file, $function) {register_activation_hook2297,64178
	$file = plugin_basename($file);file2298,64232
function register_deactivation_hook($file, $function) {register_deactivation_hook2303,64314
	$file = plugin_basename($file);file2304,64370
function plugin_basename($file) {plugin_basename2309,64454
	$file = preg_replace('|\\\\+|', '\\\\', $file);file2310,64488
	$file = preg_replace('/^.*wp-content[\\\\\/]plugins[\\\\\/]/', '', $file);file2311,64537
function get_num_queries() {get_num_queries2315,64631
function wp_nonce_url($actionurl, $action = -1) {wp_nonce_url2320,64706
function wp_nonce_field($action = -1) {wp_nonce_field2324,64849
function wp_referer_field() {wp_referer_field2329,65003
	$ref = wp_specialchars($_SERVER['REQUEST_URI']);ref2330,65033
		$original_ref = wp_specialchars(stripslashes(wp_get_original_referer()));original_ref2333,65196
function wp_original_referer_field() {wp_original_referer_field2338,65374
function wp_get_referer() {wp_get_referer2342,65553
function wp_get_original_referer() {wp_get_original_referer2349,65721
function wp_explain_nonce($action) {wp_explain_nonce2355,65880
		$verb = $matches[1];verb2357,66006
		$noun = $matches[2];noun2358,66029
		$trans = array();trans2360,66053
				$lookup = $trans[$verb][$noun][1];lookup2405,69835
				$object = $matches[4];object2406,69874
					$object = call_user_func($lookup, $object);object2408,69932
function wp_nonce_ays($action) {wp_nonce_ays2419,70147
	$adminurl = get_settings('siteurl') . '/wp-admin';adminurl2422,70245
		$adminurl = wp_get_referer();adminurl2424,70322
	$title = __('WordPress Confirmation');title2426,70355
	$_POST   = stripslashes_deep($_POST  );_POST2428,70430
		$q = http_build_query($_POST);q2430,70488
		$q = explode( ini_get('arg_separator.output'), $q);q2431,70521
			$v = substr(strstr($a, '='), 1);v2434,70665
			$k = substr($a, 0, -(strlen($v)+1));k2435,70701
function wp_die($message, $title = '') {wp_die2447,71578
		$title = __('WordPress &rsaquo; Error');title2451,71693

weblog/wp-includes/gettext.php,2817
class gettext_reader {gettext_reader36,1417
  function readint() {readint63,2291
  function readintarray($count) {readintarray79,2705
  function gettext_reader($Reader, $enable_cache = true) {gettext_reader95,3150
    $MAGIC1 = (int) - 1794895138;MAGIC1106,3579
    $MAGIC2 = (int) - 569244523;MAGIC2108,3653
    $magic = $this->readint();magic111,3716
    $revision = $this->readint();revision122,4078
  function load_tables() {load_tables136,4452
        $original = $this->STREAM->read($this->table_originals[$i * 2 + 1]);original153,5144
        $translation = $this->STREAM->read($this->table_translations[$i * 2 + 1]);translation155,5291
  function get_original_string($num) {get_original_string168,5657
    $length = $this->table_originals[$num * 2 + 1];length169,5696
    $offset = $this->table_originals[$num * 2 + 2];offset170,5748
    $data = $this->STREAM->read($length);data174,5872
  function get_translation_string($num) {get_translation_string185,6151
    $length = $this->table_translations[$num * 2 + 1];length186,6193
    $offset = $this->table_translations[$num * 2 + 2];offset187,6248
    $data = $this->STREAM->read($length);data191,6375
  function find_string($string, $start = -1, $end = -1) {find_string204,6726
      $start = 0;start207,6900
      $end = $this->total;end208,6918
      $txt = $this->get_original_string($start);txt212,7059
      $half = (int)(($start + $end) / 2);half222,7375
      $cmp = strcmp($string, $this->get_original_string($half));cmp223,7417
  function translate($string) {translate243,8004
      $num = $this->find_string($string);num256,8426
  function get_plural_forms() {get_plural_forms270,8712
        $header = $this->cache_translations[""];header278,8971
        $header = $this->get_translation_string(0);header280,9035
        $expr = $regs[1];expr283,9156
        $expr = "nplurals=2; plural=n == 1 ? 0 : 1;";expr285,9193
  function select_string($n) {select_string298,9477
    $string = $this->get_plural_forms();string299,9508
    $string = str_replace('nplurals',"\$total",$string);string300,9549
    $string = str_replace("n",$n,$string);string301,9606
    $string = str_replace('plural',"\$plural",$string);string302,9649
    $total = 0;total304,9710
    $plural = 0;plural305,9726
  function ngettext($single, $plural, $number) {ngettext321,10022
    $select = $this->select_string($number); select330,10230
    $key = $single.chr(0).$plural;key333,10340
        $result = $this->cache_translations[$key];result340,10547
        $list = explode(chr(0), $result);list341,10598
      $num = $this->find_string($key);num345,10692
        $result = $this->get_translation_string($num);result349,10821
        $list = explode(chr(0), $result);list350,10876

weblog/wp-includes/kses.php,9829
	define('CUSTOM_TAGS', false);CUSTOM_TAGS17,512
	$allowedposttags = array ('address' => array (), 'a' => array ('href' => array (), 'title' => array (), 'rel' => array (), 'rev' => array (), 'name' => array ()), 'abbr' => array ('title' => array ()), 'acronym' => array ('title' => array ()), 'b' => array (), 'big' => array (), 'blockquote' => array ('cite' => array ()), 'br' => array (), 'button' => array ('disabled' => array (), 'name' => array (), 'type' => array (), 'value' => array ()), 'caption' => array ('align' => array ()), 'code' => array (), 'col' => array ('align' => array (), 'char' => array (), 'charoff' => array (), 'span' => array (), 'valign' => array (), 'width' => array ()), 'del' => array ('datetime' => array ()), 'dd' => array (), 'div' => array ('align' => array ()), 'dl' => array (), 'dt' => array (), 'em' => array (), 'fieldset' => array (), 'font' => array ('color' => array (), 'face' => array (), 'size' => array ()), 'form' => array ('action' => array (), 'accept' => array (), 'accept-charset' => array (), 'enctype' => array (), 'method' => array (), 'name' => array (), 'target' => array ()), 'h1' => array ('align' => array ()), 'h2' => array ('align' => array ()), 'h3' => array ('align' => array ()), 'h4' => array ('align' => array ()), 'h5' => array ('align' => array ()), 'h6' => array ('align' => array ()), 'hr' => array ('align' => array (), 'noshade' => array (), 'size' => array (), 'width' => array ()), 'i' => array (), 'img' => array ('alt' => array (), 'align' => array (), 'border' => array (), 'height' => array (), 'hspace' => array (), 'longdesc' => array (), 'vspace' => array (), 'src' => array (), 'width' => array ()), 'ins' => array ('datetime' => array (), 'cite' => array ()), 'kbd' => array (), 'label' => array ('for' => array ()), 'legend' => array ('align' => array ()), 'li' => array (), 'p' => array ('align' => array ()), 'pre' => array ('width' => array ()), 'q' => array ('cite' => array ()), 's' => array (), 'strike' => array (), 'strong' => array (), 'sub' => array (), 'sup' => array (), 'table' => array ('align' => array (), 'bgcolor' => array (), 'border' => array (), 'cellpadding' => array (), 'cellspacing' => array (), 'rules' => array (), 'summary' => array (), 'width' => array ()), 'tbody' => array ('align' => array (), 'char' => array (), 'charoff' => array (), 'valign' => array ()), 'td' => array ('abbr' => array (), 'align' => array (), 'axis' => array (), 'bgcolor' => array (), 'char' => array (), 'charoff' => array (), 'colspan' => array (), 'headers' => array (), 'height' => array (), 'nowrap' => array (), 'rowspan' => array (), 'scope' => array (), 'valign' => array (), 'width' => array ()), 'textarea' => array ('cols' => array (), 'rows' => array (), 'disabled' => array (), 'name' => array (), 'readonly' => array ()), 'tfoot' => array ('align' => array (), 'char' => array (), 'charoff' => array (), 'valign' => array ()), 'th' => array ('abbr' => array (), 'align' => array (), 'axis' => array (), 'bgcolor' => array (), 'char' => array (), 'charoff' => array (), 'colspan' => array (), 'headers' => array (), 'height' => array (), 'nowrap' => array (), 'rowspan' => array (), 'scope' => array (), 'valign' => array (), 'width' => array ()), 'thead' => array ('align' => array (), 'char' => array (), 'charoff' => array (), 'valign' => array ()), 'title' => array (), 'tr' => array ('align' => array (), 'bgcolor' => array (), 'char' => array (), 'charoff' => array (), 'valign' => array ()), 'tt' => array (), 'u' => array (), 'ul' => array (), 'ol' => array (), 'var' => array () );allowedposttags21,615
	$allowedtags = array ('a' => array ('href' => array (), 'title' => array ()), 'abbr' => array ('title' => array ()), 'acronym' => array ('title' => array ()), 'b' => array (), 'blockquote' => array ('cite' => array ()),allowedtags22,4163
function wp_kses($string, $allowed_html, $allowed_protocols = array ('http', 'https', 'ftp', 'news', 'nntp', 'telnet', 'feed', 'gopher', 'mailto'))wp_kses42,4862
	$string = wp_kses_no_null($string);string50,5434
	$string = wp_kses_js_entities($string);string51,5471
	$string = wp_kses_normalize_entities($string);string52,5512
	$string = wp_kses_hook($string);string53,5560
	$allowed_html_fixed = wp_kses_array_lc($allowed_html);allowed_html_fixed54,5594
function wp_kses_hook($string)wp_kses_hook58,5745
function wp_kses_version()wp_kses_version66,6013
function wp_kses_split($string, $allowed_html, $allowed_protocols)wp_kses_split74,6295
function wp_kses_split2($string, $allowed_html, $allowed_protocols)wp_kses_split284,6794
	$string = wp_kses_stripslashes($string);string92,7269
		$string = str_replace(array('<!--', '-->'), '', $matches[1]);string99,7456
			$string = $newstring;string101,7608
	$slash = trim($matches[1]);slash112,7847
	$elem = $matches[2];elem113,7876
	$attrlist = $matches[3];attrlist114,7898
function wp_kses_attr($element, $attr, $allowed_html, $allowed_protocols)wp_kses_attr127,8240
	$xhtml_slash = '';xhtml_slash139,8966
		$xhtml_slash = ' /';xhtml_slash141,9023
	$attrarr = wp_kses_hair($attr, $allowed_protocols);attrarr150,9208
	$attr2 = '';attr2155,9349
		$current = $allowed_html[strtolower($element)][strtolower($arreach['name'])];current161,9527
			$ok = true;ok171,9798
					$ok = false;ok174,9952
	$attr2 = preg_replace('/[<>]/', '', $attr2);attr2185,10135
function wp_kses_hair($attr, $allowed_protocols)wp_kses_hair190,10249
	$attrarr = array ();attrarr200,10875
	$mode = 0;mode201,10897
	$attrname = '';attrname202,10909
		$working = 0; # Was the last operation successful?working207,10999
					$attrname = $match[1];attrname213,11177
					$working = $mode = 1;working214,11205
					$attr = preg_replace('/^[-a-zA-Z]+/', '', $attr);attr215,11232
					$working = 1;working224,11421
					$mode = 2;mode225,11440
					$attr = preg_replace('/^\s*=\s*/', '', $attr);attr226,11456
					$working = 1;working232,11583
					$mode = 0;mode233,11602
					$attr = preg_replace('/^\s+/', '', $attr);attr235,11718
					$thisval = wp_kses_bad_protocol($match[1], $allowed_protocols);thisval245,11928
					$working = 1;working248,12119
					$mode = 0;mode249,12138
					$attr = preg_replace('/^"[^"]*"(\s+|$)/', '', $attr);attr250,12154
					$thisval = wp_kses_bad_protocol($match[1], $allowed_protocols);thisval257,12312
					$working = 1;working260,12501
					$mode = 0;mode261,12520
					$attr = preg_replace("/^'[^']*'(\s+|$)/", '', $attr);attr262,12536
					$thisval = wp_kses_bad_protocol($match[1], $allowed_protocols);thisval269,12694
					$working = 1;working273,12937
					$mode = 0;mode274,12956
					$attr = preg_replace("%^[^\s\"']+(\s+|$)%", '', $attr);attr275,12972
			$attr = wp_kses_html_error($attr);attr283,13131
			$mode = 0;mode284,13169
function wp_kses_check_attr_val($value, $vless, $checkname, $checkvalue)wp_kses_check_attr_val296,13457
	$ok = true;ok303,13888
				$ok = false;ok312,14196
				$ok = false;ok320,14390
				$ok = false;ok331,14837
				$ok = false;ok333,14883
				$ok = false;ok341,15121
				$ok = false;ok343,15167
				$ok = false;ok353,15530
function wp_kses_bad_protocol($string, $allowed_protocols)wp_kses_bad_protocol360,15620
	$string = wp_kses_no_null($string);string368,16125
	$string = preg_replace('/\xad+/', '', $string); # deals with Opera "feature"string369,16162
	$string2 = $string.'a';string2370,16240
		$string2 = $string;string2373,16297
		$string = wp_kses_bad_protocol_once($string, $allowed_protocols);string374,16319
function wp_kses_no_null($string)wp_kses_no_null380,16451
	$string = preg_replace('/\0+/', '', $string);string385,16703
	$string = preg_replace('/(\\\\0)+/', '', $string);string386,16750
function wp_kses_stripslashes($string)wp_kses_stripslashes391,16850
function wp_kses_array_lc($inarray)wp_kses_array_lc401,17316
	$outarray = array ();outarray406,17593
		$outkey = strtolower($inkey);outkey409,17659
			$outkey2 = strtolower($inkey2);outkey2413,17768
function wp_kses_js_entities($string)wp_kses_js_entities421,17940
function wp_kses_html_error($string)wp_kses_html_error430,18331
function wp_kses_bad_protocol_once($string, $allowed_protocols)wp_kses_bad_protocol_once440,18830
function wp_kses_bad_protocol_once2($string, $allowed_protocols)wp_kses_bad_protocol_once2449,19365
	$string2 = wp_kses_decode_entities($string);string2455,19739
	$string2 = preg_replace('/\s/', '', $string2);string2456,19785
	$string2 = wp_kses_no_null($string2);string2457,19833
	$string2 = preg_replace('/\xad+/', '', $string2);string2458,19872
	$string2 = strtolower($string2);string2460,19953
	$allowed = false;allowed462,19988
			$allowed = true;allowed465,20101
function wp_kses_normalize_entities($string)wp_kses_normalize_entities475,20233
	$string = str_replace('&', '&amp;', $string);string483,20646
	$string = preg_replace('/&amp;([A-Za-z][A-Za-z0-9]{0,19});/', '&\\1;', $string);string487,20755
	$string = preg_replace('/&amp;#0*([0-9]{1,5});/e', 'wp_kses_normalize_entities2("\\1")', $string);string488,20837
	$string = preg_replace('/&amp;#([Xx])0*(([0-9A-Fa-f]{2}){1,2});/', '&#\\1\\2;', $string);string489,20937
function wp_kses_normalize_entities2($i)wp_kses_normalize_entities2494,21087
function wp_kses_decode_entities($string)wp_kses_decode_entities503,21503
	$string = preg_replace('/&#([0-9]+);/e', 'chr("\\1")', $string);string510,21904
	$string = preg_replace('/&#[Xx]([0-9A-Fa-f]+);/e', 'chr(hexdec("\\1"))', $string);string511,21970
function wp_filter_kses($data) {wp_filter_kses516,22110
function wp_filter_post_kses($data) {wp_filter_post_kses521,22206
function kses_init_filters() {kses_init_filters526,22346
function kses_init() {kses_init533,22596

weblog/wp-includes/links.php,6283
function get_linksbyname($cat_name = "noname", $before = '', $after = '<br />',get_linksbyname25,1223
                         $between = " ", $show_images = true, $orderby = 'id',between26,1303
                         $show_description = true, $show_rating = false,show_description27,1382
                         $limit = -1, $show_updated = 0) {limit28,1455
    $cat_id = -1;cat_id30,1532
    $results = $wpdb->get_results("SELECT cat_id FROM $wpdb->linkcategories WHERE cat_name='$cat_name'");results31,1550
            $cat_id = $result->cat_id;cat_id34,1716
function bool_from_yn($yn) {bool_from_yn41,1919
function wp_get_linksbyname($category, $args = '') {wp_get_linksbyname51,2157
	$cat = $wpdb->get_row("SELECT cat_id, cat_name, auto_toggle, show_images, show_description, "cat54,2226
		$args = add_query_arg('category', $cat->cat_id, $args);args71,2956
function wp_get_links($args = '') {wp_get_links83,3246
		$category = $args;category88,3408
		$cat = $wpdb->get_row("SELECT cat_id, cat_name, auto_toggle, show_images, show_description, "cat89,3429
function get_links($category = -1,get_links143,6089
			$before = '',before144,6124
			$after = '<br />',after145,6141
			$between = ' ',between146,6163
			$show_images = true,show_images147,6182
			$orderby = 'name',orderby148,6206
			$show_description = true,show_description149,6228
			$show_rating = false,show_rating150,6257
			$limit = -1,limit151,6282
			$show_updated = 1,show_updated152,6298
			$echo = true) {echo153,6320
	$direction = ' ASC';direction157,6356
	$category_query = '';category_query158,6378
		$category_query = " AND link_category = $category ";category_query160,6425
		$recently_updated_test = ", IF (DATE_ADD(link_updated, INTERVAL " . get_settings('links_recently_updated_time') . " MINUTE) >= NOW(), 1,0) as recently_updated ";recently_updated_test163,6535
		$recently_updated_test = '';recently_updated_test165,6709
		$get_updated = ", UNIX_TIMESTAMP(link_updated) AS link_updated_f ";get_updated168,6765
	$orderby = strtolower($orderby);orderby171,6839
		$orderby = 'id';orderby173,6894
		$direction = ' DESC';direction175,6951
		$orderby = substr($orderby, 1);orderby176,6975
		$length = ", CHAR_LENGTH(link_name) AS length";length181,7050
			$orderby = 'rand()';orderby184,7124
			$orderby = " link_" . $orderby;orderby187,7169
		$length = '';length191,7232
	$sql = "SELECT link_url, link_name, link_image, link_target, link_description, link_rating, link_rel $length $recently_updated_test $get_updated FROM $wpdb->links WHERE link_visible = 'Y' " . $category_query;sql194,7252
	$results = $wpdb->get_results($sql);results199,7609
	$output = '';output204,7679
		$the_link = '#';the_link213,7934
			$the_link = wp_specialchars($row->link_url);the_link215,7983
		$rel = $row->link_rel;rel217,8032
			$rel = ' rel="' . $rel . '"';rel219,8077
		$desc = wp_specialchars($row->link_description, ENT_QUOTES);desc222,8115
		$name = wp_specialchars($row->link_name, ENT_QUOTES);name223,8178
		$title = $desc;title224,8234
			$title = ' title="' . $title . '"';title233,8510
		$alt = ' alt="' . $name . '"';alt236,8554
		$target = $row->link_target;target238,8588
			$target = ' target="' . $target . '"';target240,8642
function get_linkobjectsbyname($cat_name = "noname" , $orderby = 'name', $limit = -1) {get_linkobjectsbyname293,10203
    $cat_id = -1;cat_id295,10309
    $results = $wpdb->get_results("SELECT cat_id FROM $wpdb->linkcategories WHERE cat_name='$cat_name'");results296,10327
            $cat_id = $result->cat_id;cat_id299,10493
function get_linkobjects($category = -1, $orderby = 'name', $limit = -1) {get_linkobjects340,11646
    $sql = "SELECT * FROM $wpdb->links WHERE link_visible = 'Y'";sql343,11740
        $orderby = 'id';orderby348,11914
        $direction = ' DESC';direction350,11978
        $orderby = substr($orderby,1);orderby351,12008
        $orderby = 'rand()';orderby354,12097
        $orderby = " link_" . $orderby;orderby356,12139
    $results = $wpdb->get_results($sql);results364,12359
function get_linkrating($link) {get_linkrating377,12787
function get_linksbyname_withrating($cat_name = "noname", $before = '',get_linksbyname_withrating403,14073
                                    $after = '<br />', $between = " ",after404,14145
                                    $show_images = true, $orderby = 'id',show_images405,14216
                                    $show_description = true, $limit = -1, $show_updated = 0) {show_description406,14290
function get_links_withrating($category = -1, $before = '', $after = '<br />',get_links_withrating433,15708
                              $between = " ", $show_images = true,between434,15787
                              $orderby = 'id', $show_description = true,orderby435,15854
                              $limit = -1, $show_updated = 0) {limit436,15927
function get_linkcatname($id = 0) {get_linkcatname447,16307
    $id = (int) $id;id448,16343
    $cat_name = '';cat_name450,16382
        $cat_name = $wpdb->get_var("SELECT cat_name FROM $wpdb->linkcategories WHERE cat_id=$id");cat_name452,16427
function get_autotoggle($id = 0) {get_autotoggle462,16748
    $auto_toggle = $wpdb->get_var("SELECT auto_toggle FROM $wpdb->linkcategories WHERE cat_id=$id");auto_toggle464,16801
        $auto_toggle = 'N';auto_toggle466,16930
function links_popup_script($text = 'Links', $width=400, $height=400,links_popup_script480,17482
                            $file='links.all.php', $count = true) {file481,17552
      $counts = $wpdb->get_var("SELECT count(*) FROM $wpdb->links");counts483,17645
   $javascript = "<a href=\"#\" " .javascript486,17720
function get_links_list($order = 'name', $hide_if_empty = 'obsolete') {get_links_list514,18473
	$order = strtolower($order);order517,18561
		$direction = ' DESC';direction521,18659
		$order = substr($order,1);order522,18683
	$cat_order = ('name' == $order) ? 'cat_name' : 'cat_id';cat_order526,18761
	$cats = $wpdb->get_results("cats530,18918
			$orderby = $cat['sort_order'];orderby545,19409
			$orderby = (bool_from_yn($cat['sort_desc'])?'_':'') . $orderby;orderby546,19443

weblog/wp-includes/locale.php,0

weblog/wp-includes/template-functions-author.php,3515
function get_the_author($idmode = '') {get_the_author3,7
function the_author($idmode = '', $echo = true) {the_author8,135
function get_the_author_description() {get_the_author_description14,267
function the_author_description() {the_author_description18,364
function get_the_author_login() {get_the_author_login22,439
function the_author_login() {the_author_login27,530
function get_the_author_firstname() {get_the_author_firstname31,593
function the_author_firstname() {the_author_firstname35,687
function get_the_author_lastname() {get_the_author_lastname39,758
function the_author_lastname() {the_author_lastname44,851
function get_the_author_nickname() {get_the_author_nickname48,920
function the_author_nickname() {the_author_nickname53,1012
function get_the_author_ID() {get_the_author_ID57,1081
function the_author_ID() {the_author_ID61,1160
function get_the_author_email() {get_the_author_email65,1217
function the_author_email() {the_author_email70,1308
function get_the_author_url() {get_the_author_url74,1407
function the_author_url() {the_author_url79,1494
function get_the_author_icq() {get_the_author_icq83,1553
function the_author_icq() {the_author_icq88,1635
function get_the_author_aim() {get_the_author_aim92,1694
function the_author_aim() {the_author_aim97,1799
function get_the_author_yim() {get_the_author_yim101,1858
function the_author_yim() {the_author_yim106,1940
function get_the_author_msn() {get_the_author_msn110,1999
function the_author_msn() {the_author_msn115,2081
function get_the_author_posts() {get_the_author_posts119,2140
	$posts = get_usernumposts($post->post_author);posts121,2189
function the_author_posts() {the_author_posts125,2256
function the_author_posts_link($idmode='') {the_author_posts_link130,2389
function get_author_link($echo = false, $author_id, $author_nicename = '') {get_author_link136,2677
	$auth_ID = $author_id;auth_ID138,2806
	$link = $wp_rewrite->get_author_permastruct();link139,2830
		$file = get_settings('home') . '/';file142,2902
		$link = $file . '?author=' . $auth_ID;link143,2940
			$user = get_userdata($author_id);user146,3025
				$author_nicename = $user->user_nicename;author_nicename148,3101
		$link = str_replace('%author%', $author_nicename, $link);link150,3150
		$link = get_settings('home') . trailingslashit($link);link151,3210
	$link = apply_filters('author_link', $link, $author_id, $author_nicename);link154,3271
function wp_list_authors($args = '') {wp_list_authors161,3394
function list_authors($optioncount = false, $exclude_admin = true, $show_fullname = false, $hide_empty = true, $feed = '', $feed_image = '') {list_authors180,3945
	$query = "SELECT ID, user_nicename from $wpdb->users " . ($exclude_admin ? "WHERE user_login <> 'admin' " : '') . "ORDER BY display_name";query182,4103
	$authors = $wpdb->get_results($query);authors183,4243
		$author = get_userdata( $author->ID );author186,4319
		$posts = get_usernumposts($author->ID);posts187,4360
		$name = $author->nickname;name188,4402
			$name = "$author->first_name $author->last_name";name191,4515
				$link = $name;link197,4670
			$link = '<a href="' . get_author_link(0, $author->ID, $author->user_nicename) . '" title="' . sprintf(__("Posts by %s"), wp_specialchars($author->display_name)) . '">' . $name . '</a>';link199,4700
					$title = ' title="' . $feed . '"';title208,5132
					$alt = ' alt="' . $feed . '"';alt209,5172
					$name = $feed;name210,5208

weblog/wp-includes/registration-functions.php,3229
function username_exists( $username ) {username_exists3,7
	$username = sanitize_user( $username );username5,62
	$user = get_userdatabylogin($username);user6,103
function validate_username( $username ) {validate_username13,196
	$name = sanitize_user($username, true);name14,238
	$valid = true;valid15,279
		$valid = false;	valid18,323
function wp_insert_user($userdata) {wp_insert_user23,410
		$ID = (int) $ID;ID30,540
		$update = true;update31,559
		$update = false;update33,587
		$user_pass = md5($user_pass);user_pass35,658
	$user_login = sanitize_user($user_login, true);user_login38,695
	$user_login = apply_filters('pre_user_login', $user_login);user_login39,744
		$user_nicename = sanitize_title( $user_login );user_nicename42,836
	$user_nicename = apply_filters('pre_user_nicename', $user_nicename);user_nicename43,886
		$user_url = '';user_url46,982
	$user_url = apply_filters('pre_user_url', $user_url);user_url47,1000
		$user_email = '';user_email50,1083
	$user_email = apply_filters('pre_user_email', $user_email);user_email51,1103
		$display_name = $user_login;display_name54,1194
	$display_name = apply_filters('pre_user_display_name', $display_name);display_name55,1225
		$nickname = $user_login;nickname58,1323
	$nickname = apply_filters('pre_user_nickname', $nickname);nickname59,1350
		$first_name = '';first_name62,1438
	$first_name = apply_filters('pre_user_first_name', $first_name);first_name63,1458
		$last_name = '';last_name66,1551
	$last_name = apply_filters('pre_user_last_name', $last_name);last_name67,1570
		$description = '';description70,1662
	$description = apply_filters('pre_user_description', $description);description71,1683
		$user_registered = gmdate('Y-m-d H:i:s');user_registered74,1785
		$query = "UPDATE $wpdb->users SET user_pass='$user_pass', user_email='$user_email', user_url='$user_url', user_nicename = '$user_nicename', display_name = '$display_name' WHERE ID = '$ID'";query77,1848
		$query = apply_filters('update_user_query', $query);query78,2040
		$user_id = $ID;user_id80,2121
		$query = "INSERT INTO $wpdb->users query82,2149
		$query = apply_filters('create_user_query', $query);query86,2407
		$user_id = $wpdb->insert_id;user_id88,2488
		$user = new WP_User($user_id);user100,2915
		$user = new WP_User($user_id);user105,2997
function wp_update_user($userdata) {wp_update_user120,3295
	$ID = (int) $userdata['ID'];ID123,3348
	$user = get_userdata($ID);	user126,3422
	$user = add_magic_quotes(get_object_vars($user));user129,3484
		$plaintext_pass = $userdata['user_pass'];plaintext_pass133,3620
	$userdata = array_merge($user, $userdata);userdata138,3791
	$user_id = wp_insert_user($userdata);user_id139,3835
	$current_user = wp_get_current_user();current_user142,3924
function wp_create_user( $username, $password, $email = '') {wp_create_user153,4142
	$user_login = $wpdb->escape( $username );user_login156,4221
	$user_email = $wpdb->escape( $email );user_email157,4264
	$user_pass = $password;user_pass158,4304
	$userdata = compact('user_login', 'user_email', 'user_pass');userdata160,4330
function create_user( $username, $password, $email ) {create_user165,4432

weblog/wp-includes/rss-functions.php,6128
define('RSS', 'RSS');RSS10,217
define('ATOM', 'Atom');ATOM11,239
define('MAGPIE_USER_AGENT', 'WordPress/' . $wp_version);MAGPIE_USER_AGENT12,263
class MagpieRSS { MagpieRSS14,321
	function MagpieRSS ($source) {MagpieRSS38,1034
		$parser = @xml_parser_create();parser45,1261
		$status = xml_parse( $this->parser, $source );status62,1757
			$errorcode = xml_get_error_code( $this->parser );errorcode65,1829
				$xml_error = xml_error_string( $errorcode );xml_error67,1923
				$error_line = xml_get_current_line_number($this->parser);error_line68,1972
				$error_col = xml_get_current_column_number($this->parser);error_col69,2034
				$errormsg = "$xml_error at line $error_line, column $error_col";errormsg70,2097
	function feed_start_element($p, $element, &$attrs) {feed_start_element81,2274
		$el = $element = strtolower($element);el82,2328
		$attrs = array_change_key_case($attrs, CASE_LOWER);attrs83,2369
		$ns	= false;ns86,2473
			$el == 'textinput' ) el131,3562
			$el == 'image' ) el139,3710
				$el = 'atom_content';el149,3959
			$attrs_str = join(' ', attrs_str161,4231
				$link_el = 'link';link_el179,4755
				$link_el = 'link_' . $attrs['rel'];link_el182,4793
	function feed_cdata ($p, $text) {feed_cdata195,4985
			$current_el = join('_', array_reverse($this->stack));current_el202,5129
	function feed_end_element ($p, $el) {feed_end_element207,5233
		$el = strtolower($el);el208,5272
	function concat (&$str1, $str2="") {concat252,6320
			$str1="";str1254,6382
	function append_content($text) {append_content259,6422
	function append($el, $text) {append269,6702
	function normalize () {normalize313,7671
				$item = $this->items[$i];item318,7869
				$item = $this->items[$i];item330,8267
	function is_rss () {is_rss341,8534
	function is_atom() {is_atom350,8662
	function map_attrs($k, $v) {map_attrs359,8789
	function error( $errormsg, $lvl = E_USER_WARNING ) {error363,8845
function fetch_rss ($url) {fetch_rss378,9194
		$resp = _fetch_remote_file( $url );resp390,9430
		$cache = new RSSCache( MAGPIE_CACHE_DIR, MAGPIE_CACHE_AGE );cache407,9858
		$cache_status 	 = 0;		// response of check_cachecache_status414,10015
		$request_headers = array(); // HTTP headers to send with fetchrequest_headers415,10066
		$rss 			 = 0;		// parsed RSS objectrss416,10131
		$errormsg		 = 0;		// errors, if anyerrormsg417,10169
			$cache_status = $cache->check_cache( $url );cache_status421,10273
			$rss = $cache->get( $url );rss426,10421
			$rss = $cache->get( $url );rss440,10718
		$resp = _fetch_remote_file( $url, $request_headers );resp447,10924
				$rss = _response_to_rss( $resp );rss460,11308
				$errormsg = "Failed to fetch $url. ";errormsg471,11532
					$http_error = substr($resp->error, 0, -2); http_error475,11673
			$errormsg = "Unable to retrieve RSS file for unknown reasons.";errormsg484,11877
function _fetch_remote_file ($url, $headers = "" ) {_fetch_remote_file505,12261
	$client = new Snoopy();client507,12350
function _response_to_rss ($resp) {_response_to_rss520,12610
	$rss = new MagpieRSS( $resp->results );rss521,12646
				$field = $h;field533,12997
				$val = "";val534,13014
		$errormsg = "Failed to parse RSS file.";errormsg549,13240
function init () {init565,13671
		define('MAGPIE_INITALIZED', 1);MAGPIE_INITALIZED570,13750
		define('MAGPIE_CACHE_ON', 1);MAGPIE_CACHE_ON574,13827
		define('MAGPIE_CACHE_DIR', './cache');MAGPIE_CACHE_DIR578,13902
		define('MAGPIE_CACHE_AGE', 60*60); // one hourMAGPIE_CACHE_AGE582,13986
		define('MAGPIE_CACHE_FRESH_ONLY', 0);MAGPIE_CACHE_FRESH_ONLY586,14085
		define('MAGPIE_DEBUG', 0);MAGPIE_DEBUG590,14166
		$ua = 'WordPress/' . $wp_version;ua594,14239
			$ua = $ua . ')';ua597,14305
			$ua = $ua . '; No cache)';ua600,14338
		define('MAGPIE_USER_AGENT', $ua);MAGPIE_USER_AGENT603,14375
		define('MAGPIE_FETCH_TIME_OUT', 2);	// 2 second timeoutMAGPIE_FETCH_TIME_OUT607,14460
		define('MAGPIE_USE_GZIP', true);	MAGPIE_USE_GZIP612,14616
function is_info ($sc) { is_info616,14658
function is_success ($sc) { is_success620,14721
function is_redirect ($sc) { is_redirect624,14787
function is_error ($sc) { is_error628,14854
function is_client_error ($sc) { is_client_error632,14918
function is_server_error ($sc) { is_server_error636,14989
class RSSCache {RSSCache640,15060
	function RSSCache ($base='', $age='') {RSSCache645,15277
	function set ($url, $rss) {set661,15712
		$cache_option = 'rss_' . $this->file_name( $url );cache_option663,15757
		$cache_timestamp = 'rss_' . $this->file_name( $url ) . '_ts';cache_timestamp664,15810
	function get ($url) {get683,16596
		$cache_option = 'rss_' . $this->file_name( $url );cache_option685,16640
		$rss = get_option( $cache_option );rss694,16845
	function check_cache ( $url ) {check_cache706,17288
		$cache_option = $this->file_name( $url );cache_option708,17342
		$cache_timestamp = 'rss_' . $this->file_name( $url ) . '_ts';cache_timestamp709,17386
			$age = time() - $mtime;age714,17602
	function serialize ( $rss ) {serialize733,18031
	function unserialize ( $data ) {unserialize740,18271
	function file_name ($url) {file_name750,18625
	function error ($errormsg, $lvl=E_USER_WARNING) {error758,18878
			function debug ($debugmsg, $lvl=E_USER_NOTICE) {debug771,19195
function parse_w3cdtf ( $date_str ) {parse_w3cdtf778,19335
	$pat = "/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(:(\d{2}))?(?:([-+])(\d{2}):?(\d{2})|(Z))?/";pat781,19400
		$epoch = gmmktime( $hours, $minutes, $seconds, $month, $day, $year);epoch788,19730
		$offset = 0;offset790,19804
			$offset_secs = (($tz_hour*60)+$tz_min)*60;offset_secs802,20082
				$offset_secs = $offset_secs * -1;offset_secs807,20217
			$offset = $offset_secs;	offset810,20264
		$epoch = $epoch + $offset;epoch812,20296
function wp_rss ($url, $num) {wp_rss819,20372
	$num_items = $num;num_items821,20509
	$rss = fetch_rss($url);rss822,20529
function get_rss ($uri, $num = 5) { // Like get posts, but for RSSget_rss840,20971
	$rss = fetch_rss($url);rss841,21038

weblog/wp-includes/streams.php,1126
class StreamReader {StreamReader26,931
  function read($bytes) {read28,1020
  function seekto($position) {seekto33,1103
  function currentpos() {currentpos38,1189
  function length() {length43,1299
class StringReader {StringReader48,1346
  function StringReader($str='') {StringReader52,1394
  function read($bytes) {read57,1479
    $data = substr($this->_str, $this->_pos, $bytes);data58,1505
  function seekto($pos) {seekto66,1692
  function currentpos() {currentpos73,1853
  function length() {length77,1908
class FileReader {FileReader84,1971
  function FileReader($filename) {FileReader89,2032
  function read($bytes) {read105,2408
        $chunk  = fread($this->_fd, $bytes);chunk112,2660
  function seekto($pos) {seekto122,2866
  function currentpos() {currentpos128,2987
  function length() {length132,3042
  function close() {close136,3096
class CachedFileReader extends StringReader {CachedFileReader144,3279
  function CachedFileReader($filename) {CachedFileReader145,3325
      $length=filesize($filename);length148,3401
      $fd = fopen($filename,'rb');fd149,3436

weblog/wp-includes/version.php,83
$wp_version = '2.0.4';wp_version5,111
$wp_db_version = 3440;wp_db_version6,134

weblog/wp-includes/vars.php,998
	$pagenow = $self_matches[1];pagenow5,96
	$pagenow = explode('/', $PHP_SELF);pagenow7,163
	$pagenow = trim($pagenow[(sizeof($pagenow)-1)]);pagenow8,200
	$pagenow = explode('?', $pagenow);pagenow9,250
	$pagenow = $pagenow[0];pagenow10,286
	$pagenow = 'index.php';pagenow12,320
$is_lynx = 0; $is_gecko = 0; $is_winIE = 0; $is_macIE = 0; $is_opera = 0; $is_NS4 = 0;is_lynx16,376
	$is_lynx = 1;is_lynx19,521
	$is_gecko = 1;is_gecko21,600
	$is_winIE = 1;is_winIE23,735
	$is_macIE = 1;is_macIE25,870
	$is_opera = 1;is_opera27,950
	$is_NS4 = 1;is_NS429,1094
$is_IE    = (($is_macIE) || ($is_winIE));is_IE31,1110
$is_apache = ( strstr($_SERVER['SERVER_SOFTWARE'], 'Apache') || strstr($_SERVER['SERVER_SOFTWARE'], 'LiteSpeed') ) ? 1 : 0;is_apache34,1173
$is_IIS = strstr($_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS') ? 1 : 0;is_IIS35,1297
	$wpsmiliestrans = array(wpsmiliestrans44,1748
	$smiley_masked = htmlspecialchars( trim($smiley) , ENT_QUOTES);smiley_masked96,3259

weblog/wp-includes/template-functions-category.php,4602
function get_the_category($id = false) {get_the_category3,7
		$id = $post->ID;id7,93
	$categories = $category_cache[$id];categories12,186
		$categories = array();categories17,279
function get_category_link($category_id) {get_category_link22,329
	$catlink = $wp_rewrite->get_category_permastruct();catlink24,393
		$file = get_settings('home') . '/';file27,473
		$catlink = $file . '?cat=' . $category_id;catlink28,511
		$category = &get_category($category_id);category30,566
		$category_nicename = $category->category_nicename;category_nicename31,609
			$category_nicename = get_category_parents($parent, false, '/', true) . $category_nicename . '/';category_nicename34,709
		$catlink = str_replace('%category%', $category_nicename, $catlink);catlink36,810
		$catlink = get_settings('home') . trailingslashit($catlink);catlink37,880
function get_the_category_list($separator = '', $parents='') {get_the_category_list42,1013
	$categories = get_the_category();categories43,1076
	$thelist = '';thelist47,1220
		$i = 0;i72,2432
function the_category($separator = '', $parents='') {the_category99,3631
function get_the_category_by_ID($cat_ID) {get_the_category_by_ID103,3739
	$cat_ID = (int) $cat_ID;cat_ID104,3782
	$category = &get_category($cat_ID);category105,3808
function get_category_parents($id, $link = FALSE, $separator = '/', $nicename = FALSE){get_category_parents109,3877
	$chain = '';chain110,3965
	$parent = &get_category($id);parent111,3979
		$name = $parent->category_nicename;name114,4029
		$name = $parent->cat_name;name116,4073
function get_category_children($id, $before = '/', $after = '') {get_category_children128,4462
	$cat_ids = get_all_category_ids();cat_ids132,4559
		$category = get_category($cat_id);category137,4667
function the_category_ID($echo = true) {the_category_ID147,4909
	$categories = get_the_category();categories149,4986
	$cat = $categories[0]->cat_ID;cat150,5021
function the_category_head($before='', $after='') {the_category_head159,5114
	$categories = get_the_category();categories162,5237
	$currentcat = $categories[0]->category_id;currentcat163,5272
		$previouscat = $currentcat;previouscat168,5429
function category_description($category = 0) {category_description172,5465
		$category = $cat;category175,5545
	$category = & get_category($category);category176,5565
function dropdown_cats($optionall = 1, $all = 'All', $sort_column = 'ID', $sort_order = 'asc',dropdown_cats181,5736
		$optiondates = 0, $optioncount = 0, $hide_empty = 1, $optionnone=FALSE,optiondates182,5831
		$selected=0, $hide=0) {selected183,5905
		$file = get_settings('home') . '/';file186,5989
		$selected=$cat;selected188,6046
	$sort_column = 'cat_'.$sort_column;sort_column189,6064
	$query = "query191,6102
	$categories = $wpdb->get_results($query);categories208,6725
		$all = apply_filters('list_cats', $all);all211,6850
			$cat_name = apply_filters('list_cats', $category->cat_name, $category);cat_name218,7095
function wp_list_cats($args = '') {wp_list_cats235,7604
function list_cats($optionall = 1, $all = 'All', $sort_column = 'ID', $sort_order = 'asc', $file = '', $list = true, $optiondates = 0, $optioncount = 0, $hide_empty = 1, $use_desc_for_title = 1, $children=FALSE, $child_of=0, $categories=0, $recurse=0, $feed = '', $feed_image = '', $exclude = '', $hierarchical=FALSE) {list_cats277,8989
		$file = get_settings('home') . '/';file281,9381
	$exclusions = '';exclusions283,9420
		$excats = preg_split('/[\s,]+/',$exclude);excats285,9466
	$exclusions = apply_filters('list_cats_exclusions', $exclusions );exclusions293,9646
		$sort_column = 'cat_'.$sort_column;sort_column296,9750
		$query = "query298,9789
		$categories = $wpdb->get_results($query);categories304,10001
		$cat_dates = $wpdb->get_results("	SELECT category_id,cat_dates308,10072
	$num_found=0;num_found318,10426
	$thelist = "";thelist319,10441
			$link = '<a href="'.get_category_link($category->cat_ID).'" ';link324,10646
					$title = ' title="' . $feed . '"';title342,11398
					$alt = ' alt="' . $feed . '"';alt343,11438
					$name = $feed;name344,11474
					$optiondates = 'Y-m-d';optiondates366,11886
			$before = '<li>';before388,12641
			$after = '</li>';after389,12662
		$pre = "\t\t<ul class='children'>";pre395,12809
		$post = "\t\t</ul>\n";post396,12847
		$pre = $post = '';pre398,12882
	$thelist = $pre . $thelist . $post;thelist400,12906
function in_category($category) { // Check if the current post is in the given categoryin_category406,13026

weblog/wp-includes/template-functions-general.php,13402
function get_header() {get_header5,59
function get_footer() {get_footer13,260
function get_sidebar() {get_sidebar21,461
function wp_loginout() {wp_loginout29,666
		$link = '<a href="' . get_settings('siteurl') . '/wp-login.php">' . __('Login') . '</a>';link31,721
		$link = '<a href="' . get_settings('siteurl') . '/wp-login.php?action=logout">' . __('Logout') . '</a>';link33,819
function wp_register( $before = '<li>', $after = '</li>' ) {wp_register39,971
			$link = $before . '<a href="' . get_settings('siteurl') . '/wp-register.php">' . __('Register') . '</a>' . $after;link43,1109
			$link = '';link45,1234
		$link = $before . '<a href="' . get_settings('siteurl') . '/wp-admin/">' . __('Site Admin') . '</a>' . $after;link47,1259
function wp_meta() {wp_meta54,1420
function bloginfo($show='') {bloginfo59,1468
	$info = get_bloginfo($show);info60,1498
		$info = apply_filters('bloginfo', $info, $show);info64,1639
		$info = convert_chars($info);info65,1690
function get_bloginfo($show='') {get_bloginfo72,1743
			$output = get_settings('home');output78,1845
			$output = get_settings('siteurl');output81,1907
			$output = get_settings('blogdescription');output84,1977
			$output = get_feed_link('rdf');output87,2051
			$output = get_feed_link('rss');output90,2114
			$output = get_feed_link('rss2');output93,2178
			$output = get_feed_link('atom');output96,2243
			$output = get_feed_link('comments_rss2');output99,2317
			$output = get_settings('siteurl') .'/xmlrpc.php';output102,2395
			$output = get_stylesheet_uri();output105,2483
			$output = get_stylesheet_directory_uri();output108,2559
			$output = get_template_directory_uri();output112,2666
			$output = get_settings('admin_email');output115,2741
			$output = get_settings('blog_charset');output118,2811
			$output = get_option('html_type');output122,2926
			$output = $wp_version;output126,3015
			$output = get_settings('blogname');output130,3077
function wp_title($sep = '&raquo;', $display = true) {wp_title137,3150
	$cat = get_query_var('cat');cat141,3289
	$p = get_query_var('p');p142,3319
	$name = get_query_var('name');name143,3345
	$category_name = get_query_var('category_name');category_name144,3377
	$author = get_query_var('author');author145,3427
	$author_name = get_query_var('author_name');author_name146,3463
				$title = get_the_category_by_ID($cat);title152,3613
				$category_name = explode('/',$category_name);category_name156,3731
					$category_name = $category_name[count($category_name)-1]; // no trailing slashcategory_name158,3832
					$category_name = $category_name[count($category_name)-2]; // there was a trailling slashcategory_name160,3925
		$title = $wpdb->get_var("SELECT cat_name FROM $wpdb->categories WHERE category_nicename = '$category_name'");title162,4023
		$title = get_userdata($author);title167,4190
		$title = $title->display_name;title168,4224
		$title = $wpdb->get_var("SELECT display_name FROM $wpdb->users WHERE user_nicename = '$author_name'");title172,4358
		$my_year = substr($m, 0, 4);my_year177,4511
		$my_month = $month[substr($m, 4, 2)];my_month178,4542
		$title = "$my_year $sep $my_month";title179,4582
		$title = $year;title183,4648
		$title = strip_tags($posts[0]->post_title);title192,4870
		$title = apply_filters('single_post_title', $title);title193,4916
	$prefix = '';prefix196,4975
		$prefix = " $sep ";prefix198,5012
	$title = $prefix . $title;title200,5035
	$title = apply_filters('wp_title', $title, $sep);title201,5063
function single_post_title($prefix = '', $display = true) {single_post_title211,5190
	$p = get_query_var('p');p213,5265
	$name = get_query_var('name');name214,5291
			$p = $wpdb->get_var("SELECT ID FROM $wpdb->posts WHERE post_name = '$name'");p218,5373
		$post = & get_post($p);post219,5454
		$title = $post->post_title;title220,5480
		$title = apply_filters('single_post_title', $title);title221,5510
function single_cat_title($prefix = '', $display = true ) {single_cat_title230,5663
	$cat = intval( get_query_var('cat') );cat231,5723
		$my_cat_name = get_the_category_by_ID($cat);my_cat_name233,5818
function single_month_title($prefix = '', $display = true ) {single_month_title244,6015
		$my_year = $year;my_year247,6160
		$my_month = $month[str_pad($monthnum, 2, '0', STR_PAD_LEFT)];my_month248,6180
		$my_year = substr($m, 0, 4);my_year250,6271
		$my_month = $month[substr($m, 4, 2)];my_month251,6302
function get_archives_link($url, $text, $format = 'html', $before = '', $after = '') {get_archives_link262,6519
	$text = wptexturize($text);text263,6606
	$title_text = wp_specialchars($text, 1);title_text264,6635
function wp_get_archives($args = '') {wp_get_archives277,7076
function get_archives($type='', $limit='', $format='html', $before = '', $after = '', $show_post_count = false) {get_archives296,7564
		$type = 'monthly';type300,7722
		$limit = (int) $limit;limit303,7767
		$limit = ' LIMIT '.$limit;limit304,7792
	$archive_week_separator = '&#8211;';archive_week_separator307,7885
	$archive_date_format_over_ride = 0;archive_date_format_over_ride310,8023
	$archive_day_date_format = 'Y/m/d';archive_day_date_format313,8139
	$archive_week_start_date_format = 'Y/m/d';archive_week_start_date_format316,8256
	$archive_week_end_date_format	= 'Y/m/d';archive_week_end_date_format317,8300
		$archive_day_date_format = get_settings('date_format');archive_day_date_format320,8385
		$archive_week_start_date_format = get_settings('date_format');archive_week_start_date_format321,8443
		$archive_week_end_date_format = get_settings('date_format');archive_week_end_date_format322,8508
	$add_hours = intval(get_settings('gmt_offset'));add_hours325,8575
	$add_minutes = intval(60 * (get_settings('gmt_offset') - $add_hours));add_minutes326,8625
	$now = current_time('mysql');now328,8698
		$arcresults = $wpdb->get_results("SELECT DISTINCT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM $wpdb->posts WHERE post_date < '$now' AND post_date != '0000-00-00 00:00:00' AND post_status = 'publish' GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date DESC" . $limit);arcresults331,8759
			$afterafter = $after;afterafter333,9098
				$url	= get_month_link($arcresult->year,	$arcresult->month);url335,9166
					$text = sprintf('%s %d', $month[zeroise($arcresult->month,2)], $arcresult->year);text337,9260
					$after = '&nbsp;('.$arcresult->posts.')' . $afterafter;after338,9347
					$text = sprintf('%s %d', $month[zeroise($arcresult->month,2)], $arcresult->year);text340,9421
		$arcresults = $wpdb->get_results("SELECT DISTINCT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, DAYOFMONTH(post_date) AS `dayofmonth` FROM $wpdb->posts WHERE post_date < '$now' AND post_date != '0000-00-00 00:00:00' AND post_status = 'publish' ORDER BY post_date DESC" . $limit);arcresults346,9623
				$url	= get_day_link($arcresult->year, $arcresult->month, $arcresult->dayofmonth);url349,9981
				$date = sprintf("%d-%02d-%02d 00:00:00", $arcresult->year, $arcresult->month, $arcresult->dayofmonth);date350,10067
				$text = mysql2date($archive_day_date_format, $date);text351,10174
		$start_of_week = get_settings('start_of_week');start_of_week356,10341
		$arcresults = $wpdb->get_results("SELECT DISTINCT WEEK(post_date, $start_of_week) AS `week`, YEAR(post_date) AS yr, DATE_FORMAT(post_date, '%Y-%m-%d') AS yyyymmdd FROM $wpdb->posts WHERE post_date < '$now' AND post_status = 'publish' ORDER BY post_date DESC" . $limit);arcresults357,10391
		$arc_w_last = '';arc_w_last358,10663
						$arc_year = $arcresult->yr;arc_year362,10796
						$arc_w_last = $arcresult->week;arc_w_last363,10830
						$arc_week = get_weekstartend($arcresult->yyyymmdd, get_settings('start_of_week'));arc_week364,10868
						$arc_week_start = date_i18n($archive_week_start_date_format, $arc_week['start']);arc_week_start365,10957
						$arc_week_end = date_i18n($archive_week_end_date_format, $arc_week['end']);arc_week_end366,11045
						$url  = sprintf('%s/%s%sm%s%s%sw%s%d', get_settings('home'), '', '?', '=', $arc_year, '&amp;', '=', $arcresult->week);url367,11127
						$text = $arc_week_start . $archive_week_separator . $arc_week_end;text368,11252
		$arcresults = $wpdb->get_results("SELECT * FROM $wpdb->posts WHERE post_date < '$now' AND post_status = 'publish' ORDER BY post_date DESC" . $limit);arcresults374,11449
					$url  = get_permalink($arcresult);url378,11727
					$arc_title = $arcresult->post_title;arc_title379,11767
						$text = strip_tags($arc_title);text381,11832
						$text = $arcresult->ID;text383,11880
function calendar_week_mod($num) {calendar_week_mod393,12024
	$base = 7;base394,12059
function get_calendar($daylength = 1) {get_calendar399,12117
	$now = current_time('mysql');now402,12288
		$gotsome = $wpdb->get_var("SELECT ID from $wpdb->posts WHERE post_status = 'publish' AND post_date < '$now' ORDER BY post_date DESC LIMIT 1");gotsome406,12397
		$w = ''.intval($_GET['w']);w412,12602
	$week_begins = intval(get_settings('start_of_week'));week_begins415,12671
	$add_hours = intval(get_settings('gmt_offset'));add_hours416,12726
	$add_minutes = intval(60 * (get_settings('gmt_offset') - $add_hours));add_minutes417,12776
		$thismonth = ''.zeroise(intval($monthnum), 2);thismonth421,12927
		$thisyear = ''.intval($year);thisyear422,12976
		$thisyear = ''.intval(substr($m, 0, 4));thisyear425,13076
		$d = (($w - 1) * 7) + 6; //it seems MySQL's weeks disagree with PHP'sd426,13119
		$thismonth = $wpdb->get_var("SELECT DATE_FORMAT((DATE_ADD('${thisyear}0101', INTERVAL $d DAY) ), '%m')");thismonth427,13191
		$calendar = substr($m, 0, 6);calendar429,13326
		$thisyear = ''.intval(substr($m, 0, 4));thisyear430,13358
				$thismonth = '01';thismonth432,13425
				$thismonth = ''.zeroise(intval(substr($m, 4, 2)), 2);thismonth434,13455
		$thisyear = gmdate('Y', current_time('timestamp') + get_settings('gmt_offset') * 3600);thisyear436,13523
		$thismonth = gmdate('m', current_time('timestamp') + get_settings('gmt_offset') * 3600);thismonth437,13613
	$unixmonth = mktime(0, 0 , 0, $thismonth, 1, $thisyear);unixmonth440,13708
	$previous = $wpdb->get_row("SELECT DISTINCT MONTH(post_date) AS month, YEAR(post_date) AS yearprevious443,13835
	$next = $wpdb->get_row("SELECT	DISTINCT MONTH(post_date) AS month, YEAR(post_date) AS yearnext449,14068
	$day_abbrev = $weekday_initial;day_abbrev463,14525
		$day_abbrev = $weekday_abbrev;day_abbrev465,14581
	$myweek = array();myweek467,14615
	$dayswithposts = $wpdb->get_results("SELECT DISTINCT DAYOFMONTH(post_date)dayswithposts510,16010
		$daywithpost = array();daywithpost520,16388
		$ak_title_separator = "\n";ak_title_separator526,16594
		$ak_title_separator = ', ';ak_title_separator528,16630
	$ak_titles_for_day = array();ak_titles_for_day530,16661
	$ak_post_titles = $wpdb->get_results("SELECT post_title, DAYOFMONTH(post_date) as dom "ak_post_titles531,16692
	$pad = calendar_week_mod(date('w', $unixmonth)-$week_begins);pad551,17573
	$daysinmonth = intval(date('t', $unixmonth));daysinmonth555,17721
		$newrow = false;newrow559,17888
			$newrow = true;newrow573,18497
	$pad = 7 - calendar_week_mod(date('w', mktime(0, 0 , 0, $thismonth, $day, $thisyear))-$week_begins);pad576,18520
function allowed_tags() {allowed_tags584,18767
	$allowed = '';allowed586,18815
function the_date_xml() {the_date_xml603,19131
function the_date($d='', $before='', $after='', $echo = true) {the_date610,19250
	$the_date = '';the_date612,19363
		$previousday = $day;previousday620,19606
	$the_date = apply_filters('the_date', $the_date, $d, $before, $after);the_date622,19632
function the_time( $d = '' ) {the_time630,19766
function get_the_time( $d = '' ) {get_the_time635,19858
		$the_time = get_post_time(get_settings('time_format'));the_time637,19910
		$the_time = get_post_time($d);the_time639,19974
function get_post_time( $d = 'U', $gmt = false ) { // returns timestampget_post_time644,20065
		$time = $post->post_date_gmt;time647,20165
		$time = $post->post_date;time649,20203
	$time = mysql2date($d, $time);time651,20232
function the_modified_time($d = '') {the_modified_time656,20324
function get_the_modified_time($d = '') {get_the_modified_time661,20439
		$the_time = get_post_modified_time(get_settings('time_format'));the_time663,20498
		$the_time = get_post_modified_time($d);the_time665,20571
function get_post_modified_time( $d = 'U', $gmt = false ) { // returns timestampget_post_modified_time670,20680
		$time = $post->post_modified_gmt;time674,20790
		$time = $post->post_modified;time676,20832
	$time = mysql2date($d, $time);time677,20864
function the_weekday() {the_weekday683,20966
	$the_weekday = $weekday[mysql2date('w', $post->post_date)];the_weekday685,21021
	$the_weekday = apply_filters('the_weekday', $the_weekday);the_weekday686,21082
function the_weekday_date($before='',$after='') {the_weekday_date691,21166
	$the_weekday_date = '';the_weekday_date693,21270
		$previousweekday = $day;previousweekday698,21461
	$the_weekday_date = apply_filters('the_weekday_date', $the_weekday_date, $before, $after);the_weekday_date700,21491
function rsd_link() {rsd_link704,21611

weblog/wp-includes/template-functions-links.php,11014
function the_permalink() {the_permalink4,8
function permalink_link() { // For backwards compatibilitypermalink_link9,94
function permalink_anchor($mode = 'id') {permalink_anchor14,212
			$title = sanitize_title($post->post_title) . '-' . $id;title18,317
function get_permalink($id = 0) {get_permalink29,509
	$rewritecode = array(rewritecode30,543
	$post = &get_post($id);post44,726
	$permalink = get_settings('permalink_structure');permalink50,912
		$unixtime = strtotime($post->post_date);unixtime53,1024
		$category = '';category55,1068
			$cats = get_the_category($post->ID);cats57,1130
			$category = $cats[0]->category_nicename;category58,1170
				$category = get_category_parents($parent, FALSE, '/', TRUE) . $category;category60,1258
		$authordata = get_userdata($post->post_author);authordata63,1340
		$author = $authordata->user_nicename;author64,1390
		$date = explode(" ",date('Y m d H i s', $unixtime));date65,1430
		$rewritereplace = rewritereplace66,1485
		$permalink = get_settings('home') . '/?p=' . $post->ID;permalink82,1864
function get_page_link($id = false) {get_page_link87,1984
		$id = $post->ID;id91,2064
	$pagestruct = $wp_rewrite->get_page_permastruct();pagestruct93,2084
		$link = get_page_uri($id);link96,2165
		$link = str_replace('%pagename%', $link, $pagestruct);link97,2194
		$link = get_settings('home') . "/$link/";link98,2251
		$link = get_settings('home') . "/?page_id=$id";link100,2305
function get_attachment_link($id = false) {get_attachment_link106,2410
	$link = false;link109,2483
		$id = $post->ID;id112,2514
	$object = get_post($id);object115,2537
		$parent = get_post($object->post_parent);parent117,2635
		$parentlink = get_permalink($object->post_parent);parentlink118,2679
			$link = trim($parentlink, '/') . '/' . $object->post_name . '/';link120,2767
		$link = get_bloginfo('home') . "/?attachment_id=$id";link124,2856
function get_year_link($year) {get_year_link130,2973
		$year = gmdate('Y', time()+(get_settings('gmt_offset') * 3600));year133,3041
	$yearlink = $wp_rewrite->get_year_permastruct();yearlink134,3108
		$yearlink = str_replace('%year%', $year, $yearlink);yearlink136,3186
function get_month_link($year, $month) {get_month_link143,3435
		$year = gmdate('Y', time()+(get_settings('gmt_offset') * 3600));year146,3512
		$month = gmdate('m', time()+(get_settings('gmt_offset') * 3600));month148,3595
	$monthlink = $wp_rewrite->get_month_permastruct();monthlink149,3663
		$monthlink = str_replace('%year%', $year, $monthlink);monthlink151,3744
		$monthlink = str_replace('%monthnum%', zeroise(intval($month), 2), $monthlink);monthlink152,3801
function get_day_link($year, $month, $day) {get_day_link159,4117
		$year = gmdate('Y', time()+(get_settings('gmt_offset') * 3600));year162,4198
		$month = gmdate('m', time()+(get_settings('gmt_offset') * 3600));month164,4281
		$day = gmdate('j', time()+(get_settings('gmt_offset') * 3600));day166,4363
	$daylink = $wp_rewrite->get_day_permastruct();daylink168,4430
		$daylink = str_replace('%year%', $year, $daylink);daylink170,4505
		$daylink = str_replace('%monthnum%', zeroise(intval($month), 2), $daylink);daylink171,4558
		$daylink = str_replace('%day%', zeroise(intval($day), 2), $daylink);daylink172,4636
function get_feed_link($feed='rss2') {get_feed_link179,4966
	$do_perma = 0;do_perma181,5026
	$feed_url = get_settings('siteurl');feed_url182,5042
	$comment_feed_url = $feed_url;comment_feed_url183,5080
	$permalink = $wp_rewrite->get_feed_permastruct();permalink185,5113
			$feed = str_replace('comments_', '', $feed);feed188,5239
			$permalink = $wp_rewrite->get_comment_feed_permastruct();permalink189,5287
			$feed = '';feed193,5378
		$permalink = str_replace('%feed%', $feed, $permalink);permalink195,5394
		$permalink = preg_replace('#/+#', '/', "/$permalink/");permalink196,5451
		$output =  get_settings('home') . $permalink;output197,5509
			$feed = str_replace('comments_', 'comments-', $feed);feed200,5613
		$output = get_settings('home') . "/?feed={$feed}";output202,5671
function edit_post_link($link = 'Edit This', $before = '', $after = '') {edit_post_link208,5783
		$file = 'post';file217,5975
	$location = get_settings('siteurl') . "/wp-admin/{$file}.php?action=edit&amp;post=$post->ID";location219,5994
function edit_comment_link($link = 'Edit This', $before = '', $after = '') {edit_comment_link223,6152
	$location = get_settings('siteurl') . "/wp-admin/post.php?action=editcomment&amp;comment=$comment->comment_ID";location229,6317
function get_previous_post($in_same_cat = false, $excluded_categories = '') {get_previous_post235,6512
	$current_post_date = $post->post_date;current_post_date241,6668
	$join = '';join243,6709
		$join = " INNER JOIN $wpdb->post2cat ON $wpdb->posts.ID= $wpdb->post2cat.post_id ";join245,6745
		$cat_array = get_the_category($post->ID);cat_array246,6831
	$sql_exclude_cats = '';sql_exclude_cats254,7085
		$blah = explode('and', $excluded_categories);blah256,7149
			$category = intval($category);category258,7232
function get_next_post($in_same_cat = false, $excluded_categories = '') {get_next_post266,7535
	$current_post_date = $post->post_date;current_post_date272,7687
	$join = '';join274,7729
		$join = " INNER JOIN $wpdb->post2cat ON $wpdb->posts.ID= $wpdb->post2cat.post_id ";join276,7765
		$cat_array = get_the_category($post->ID);cat_array277,7851
	$sql_exclude_cats = '';sql_exclude_cats285,8105
		$blah = explode('and', $excluded_categories);blah287,8169
			$category = intval($category);category289,8252
	$now = current_time('mysql');now294,8353
function previous_post_link($format='&laquo; %link', $link='%title', $in_same_cat = false, $excluded_categories = '') {previous_post_link300,8630
		$post = & get_post($GLOBALS['post']->post_parent);post303,8775
		$post = get_previous_post($in_same_cat, $excluded_categories);post305,8834
	$title = apply_filters('the_title', $post->post_title, $post);title310,8926
	$string = '<a href="'.get_permalink($post->ID).'">';string311,8990
	$link = str_replace('%title', $title, $link);link312,9044
	$link = $pre . $string . $link . '</a>';link313,9091
	$format = str_replace('%link', $link, $format);format315,9134
function next_post_link($format='%link &raquo;', $link='%title', $in_same_cat = false, $excluded_categories = '') {next_post_link320,9207
	$post = get_next_post($in_same_cat, $excluded_categories);post321,9323
	$title = apply_filters('the_title', $post->post_title, $post);title326,9410
	$string = '<a href="'.get_permalink($post->ID).'">';string327,9474
	$link = str_replace('%title', $title, $link);link328,9528
	$link = $string . $link . '</a>';link329,9575
	$format = str_replace('%link', $link, $format);format330,9610
function previous_post($format='%', $previous='previous post: ', $title='yes', $in_same_cat='no', $limitprev=1, $excluded_categories='') {previous_post337,9725
		$in_same_cat = false;in_same_cat340,9917
		$in_same_cat = true;in_same_cat342,9947
	$post = get_previous_post($in_same_cat, $excluded_categories);post344,9971
	$string = '<a href="'.get_permalink($post->ID).'">'.$previous;string349,10062
	$format = str_replace('%', $string, $format);format353,10237
function next_post($format='%', $next='next post: ', $title='yes', $in_same_cat='no', $limitnext=1, $excluded_categories='') {next_post358,10339
		$in_same_cat = false;in_same_cat361,10519
		$in_same_cat = true;in_same_cat363,10549
	$post = get_next_post($in_same_cat, $excluded_categories);post365,10573
	$string = '<a href="'.get_permalink($post->ID).'">'.$next;string370,10660
	$format = str_replace('%', $string, $format);format374,10835
function get_pagenum_link($pagenum = 1) {get_pagenum_link378,10900
	$qstr = wp_specialchars($_SERVER['REQUEST_URI']);qstr381,10964
	$page_querystring = "paged"; page_querystring383,11016
	$page_modstring = "page/";page_modstring384,11047
	$page_modregex = "page/?";page_modregex385,11075
	$permalink = 0;permalink386,11103
	$home_root = parse_url(get_settings('home'));home_root388,11121
	$home_root = $home_root['path'];home_root389,11168
	$home_root = trailingslashit($home_root);home_root390,11202
	$qstr = preg_replace('|^'. $home_root . '|', '', $qstr);qstr391,11245
	$qstr = preg_replace('|^/+|', '', $qstr);qstr392,11303
	$index = $_SERVER['PHP_SELF'];index394,11347
	$index = preg_replace('|^'. $home_root . '|', '', $index);index395,11379
	$index = preg_replace('|^/+|', '', $index);index396,11439
		$replacement = "$page_querystring=$pagenum";replacement400,11580
		$qstr = preg_replace("/".$page_querystring."[^\d]+\d+/", $replacement, $qstr);qstr401,11627
		$permalink = 1;permalink404,11827
		$qstr = preg_replace('|'.$page_modregex.'\d+|',"$page_modstring$pagenum",$qstr);qstr405,11845
			$permalink = 1;permalink417,12473
			$index = $wp_rewrite->index;index418,12492
				$qstr = preg_replace("#/*" . $index . "/*#", '/', $qstr);qstr421,12642
					$qstr = '/' . $index . $qstr;qstr426,12845
			$qstr =	trailingslashit($qstr) . $page_modstring . $pagenum;qstr429,12886
			$qstr = $index . '?' . $page_querystring . '=' . $pagenum;qstr431,12961
	$qstr = preg_replace('|^/+|', '', $qstr);qstr435,13031
		$qstr = trailingslashit($qstr);qstr437,13093
	$qstr = preg_replace('/&([^#])(?![a-z]{1,8};)/', '&#038;$1', trailingslashit( get_settings('home') ) . $qstr );qstr438,13127
		$qstr = str_replace('page/1/', '', $qstr); // for mod_rewrite styleqstr442,13313
		$qstr = remove_query_arg('paged', $qstr); // for query styleqstr443,13383
function next_posts($max_page = 0) { // original by cfactor at cooltux.orgnext_posts448,13467
			$paged = 1;paged453,13609
		$nextpage = intval($paged) + 1;nextpage454,13624
function next_posts_link($label='Next Page &raquo;', $max_page=0) {next_posts_link460,13747
				$max_page = $max_num_pages;max_page464,13945
				$fromwhere = $matches[1];fromwhere467,14054
				$numposts = $wpdb->get_var("SELECT COUNT(DISTINCT ID) FROM $fromwhere");numposts468,14084
				$max_page = $max_num_pages = ceil($numposts / $posts_per_page);max_page469,14161
		$paged = 1;paged473,14253
	$nextpage = intval($paged) + 1;nextpage474,14267
function previous_posts() { // original by cfactor at cooltux.orgprevious_posts483,14506
		$nextpage = intval($paged) - 1;nextpage487,14622
			$nextpage = 1;nextpage489,14679
function previous_posts_link($label='&laquo; Previous Page') {previous_posts_link495,14740
function posts_nav_link($sep=' &#8212; ', $prelabel='&laquo; Previous Page', $nxtlabel='Next Page &raquo;') {posts_nav_link504,14989
				$fromwhere = $matches[1];fromwhere511,15333
				$numposts = $wpdb->get_var("SELECT COUNT(DISTINCT ID) FROM $fromwhere");numposts512,15363
				$max_num_pages = ceil($numposts / $posts_per_page);max_num_pages513,15440
			$max_num_pages = 999999;max_num_pages516,15512

weblog/wp-includes/template-functions-post.php,7190
function get_the_password_form() {get_the_password_form3,7
	$output = '<form action="' . get_settings('siteurl') . '/wp-pass.php" method="post">output4,42
function the_ID() {the_ID13,433
function the_title($before = '', $after = '', $echo = true) {the_title19,481
	$title = get_the_title();title20,543
		$title = apply_filters('the_title', $before . $title . $after, $before, $after);title22,599
function get_the_title($id = 0) {get_the_title31,745
	$post = &get_post($id);post32,779
	$title = $post->post_title;title34,805
		$title = sprintf(__('Protected: %s'), $title);title36,871
function get_the_guid( $id = 0 ) {get_the_guid42,941
	$post = &get_post($id);post43,976
function the_guid( $id = 0 ) {the_guid49,1058
function the_content($more_link_text = '(more...)', $stripteaser = 0, $more_file = '') {the_content54,1118
	$content = get_the_content($more_link_text, $stripteaser, $more_file);content55,1207
	$content = apply_filters('the_content', $content);content56,1279
	$content = str_replace(']]>', ']]&gt;', $content);content57,1331
function get_the_content($more_link_text = '(more...)', $stripteaser = 0, $more_file = '') {get_the_content62,1403
	$output = '';output66,1621
			$output = get_the_password_form();output70,1821
		$file = $more_file;file76,1911
		$file = $pagenow; //$_SERVER['PHP_SELF'];file78,1939
	$content = $pages[$page-1];content80,1984
	$content = explode('<!--more-->', $content, 2);content81,2013
		$stripteaser = 1;stripteaser83,2158
	$teaser = $content[0];teaser84,2178
		$teaser = '';teaser86,2236
		$output =	preg_replace('/\%u([0-9A-F]{4,4})/e',	"'&#'.base_convert('\\1',16,10).';'", $output);output95,2538
function the_excerpt() {the_excerpt101,2658
function get_the_excerpt($fakeit = true) {get_the_excerpt106,2742
	$output = '';output108,2805
	$output = $post->post_excerpt;output109,2820
			$output = __('There is no excerpt because this is a protected post.');output112,3023
function wp_link_pages($args = '') {wp_link_pages121,3179
function link_pages($before='<br />', $after='<br />', $next_or_number='number', $nextpagelink='next page', $previouspagelink='previous page', $pagelink='%', $more_file='') {link_pages142,3840
		$file = $more_file;file145,4100
		$file = $pagenow;file147,4128
				$j = str_replace('%',"$i",$pagelink);j152,4278
				$i = $page - 1;i168,4754
				$i = $page + 1;i175,5043
function get_post_custom( $post_id = 0 ) {get_post_custom194,5405
		$post_id = $id;post_id198,5506
		$post_meta_cache = array();post_meta_cache205,5820
			$mpid = $metarow['post_id'];mpid207,5889
			$mkey = $metarow['meta_key'];mkey208,5921
			$mval = $metarow['meta_value'];mval209,5954
function get_post_custom_keys() {get_post_custom_keys226,6431
	$custom = get_post_custom();custom227,6465
function get_post_custom_values( $key = '' ) {get_post_custom_values237,6591
	$custom = get_post_custom();custom238,6638
function post_custom( $key = '' ) {post_custom244,6696
	$custom = get_post_custom();custom245,6732
function the_meta() {the_meta255,6904
			$values = array_map('trim', get_post_custom_values($key));values261,7064
			$value = implode($values,', ');value262,7126
function &get_page_children($page_id, $pages) {get_page_children275,7274
		$pages = &$page_cache;pages279,7366
	$page_list = array();page_list281,7392
				$page_list = array_merge($page_list, $children);page_list286,7572
function &get_pages($args = '') {get_pages293,7656
	$exclusions = '';exclusions305,7915
		$expages = preg_split('/[\s,]+/',$r['exclude']);expages307,7966
	$pages = $wpdb->get_results("SELECT * " .pages315,8152
		$pages = & get_page_children($r['child_of'], $pages);pages328,8448
function wp_list_pages($args = '') {wp_list_pages334,8525
	$output = '';output347,8850
	$pages = & get_pages($args);pages350,8883
		$page_tree = Array();page_tree357,9068
	$output = apply_filters('wp_list_pages', $output);output390,10333
function _page_level_out($parent, $page_tree, $args, $depth = 0, $echo = true) {_page_level_out399,10449
	$queried_obj = $wp_query->get_queried_object();queried_obj401,10549
	$output = '';output402,10598
		$indent = str_repeat("\t", $depth);indent405,10629
		$cur_page = $page_tree[$page_id];cur_page412,10846
		$title = $cur_page['title'];title413,10882
		$css_class = 'page_item';css_class415,10914
			$format = get_settings('date_format');format422,11213
				$format = $args['date_format'];format424,11293
			$new_depth = $depth + 1;new_depth429,11467
function the_attachment_link($id = 0, $fullsize = false, $max_dims = false) {the_attachment_link445,11800
function get_the_attachment_link($id = 0, $fullsize = false, $max_dims = false) {get_the_attachment_link449,11939
	$id = (int) $id;id450,12021
	$_post = & get_post($id);_post451,12039
		$innerHTML = get_attachment_innerHTML($_post->ID, $fullsize, $max_dims);innerHTML457,12204
function get_attachment_icon($id = 0, $fullsize = false, $max_dims = false) {get_attachment_icon467,12431
	$id = (int) $id;id468,12509
	$post = & get_post($id);post469,12527
	$mime = $post->post_mime_type;mime471,12554
	$imagedata = get_post_meta($post->ID, '_wp_attachment_metadata', true);imagedata473,12587
	$file = get_post_meta($post->ID, '_wp_attached_file', true);file475,12661
		$src = str_replace(basename($post->guid), $imagedata['thumb'], $post->guid);src483,12943
		$src_file = $thumbfile;src_file484,13022
		$class = 'attachmentthumb';class485,13048
		$src = $post->guid;src492,13196
		$src_file = & $file;src_file493,13218
		$class = 'attachmentimage';class494,13241
		$icon_dir = apply_filters('icon_dir', get_template_directory().'/images');icon_dir498,13371
		$icon_dir_uri = apply_filters('icon_dir_uri', get_template_directory_uri().'/images');icon_dir_uri499,13448
		$types = array(substr($mime, 0, strpos($mime, '/')), substr($mime, strpos($mime, '/') + 1), str_replace('/', '_', $mime));types501,13538
		$exts = array('jpg', 'gif', 'png');exts502,13663
				$src_file = "$icon_dir/$type.$ext";src_file505,13760
					$src = "$icon_dir_uri/$type.$ext";src507,13836
		$imagesize = getimagesize($src_file);imagesize520,14085
			$actual_aspect = $imagesize[0] / $imagesize[1];actual_aspect523,14199
			$desired_aspect = $max_dims[0] / $max_dims[1];desired_aspect524,14250
				$height = $actual_aspect * $max_dims[0];height527,14347
				$constraint = "width=\"{$max_dims[0]}\" ";constraint528,14392
				$width = $max_dims[1] / $actual_aspect;width531,14503
				$constraint = "height=\"{$max_dims[1]}\" ";constraint532,14547
	$icon = "<img src=\"{$src}\" title=\"{$post->post_title}\" alt=\"{$post->post_title}\" {$constraint}/>";icon540,14728
function get_attachment_innerHTML($id = 0, $fullsize = false, $max_dims = false) {get_attachment_innerHTML545,14898
	$id = (int) $id;id546,14981
	$post = & get_post($id);post551,15089
	$innerHTML = $post->post_title;innerHTML553,15116
function prepend_attachment($content) {prepend_attachment558,15223
	$p = '<p class="attachment">';p559,15263
	$p = apply_filters('prepend_attachment', $p);p562,15372

weblog/wp-includes/template-loader.php,0

weblog/wp-includes/wp-db.php,2062
define('EZSQL_VERSION', 'WP1.25');EZSQL_VERSION8,126
define('OBJECT', 'OBJECT', true);OBJECT9,161
define('ARRAY_A', 'ARRAY_A', false);ARRAY_A10,195
define('ARRAY_N', 'ARRAY_N', false);ARRAY_N11,232
	define('SAVEQUERIES', false);SAVEQUERIES14,299
class wpdb {wpdb16,331
	function wpdb($dbuser, $dbpassword, $dbname, $dbhost) {wpdb42,828
	function select($db) {select63,1845
	function escape($string) {escape79,2684
	function print_error($str = '') {print_error90,3066
		$str = htmlspecialchars($str, ENT_QUOTES);str96,3241
		$query = htmlspecialchars($this->last_query, ENT_QUOTES);query97,3286
	function show_errors() {show_errors113,3755
	function hide_errors() {hide_errors117,3815
	function flush() {flush124,3977
	function query($query) {query133,4199
		$return_val = 0;return_val135,4248
			$return_val = $this->rows_affected;return_val167,5136
			$i = 0;i169,5186
			$num_rows = 0;num_rows174,5324
			$return_val = $this->num_rows;return_val186,5620
	function get_var($query=null, $x = 0, $y = 0) {get_var195,5817
			$values = array_values(get_object_vars($this->last_result[$y]));values202,6052
	function get_row($query = null, $output = OBJECT, $y = 0) {get_row212,6380
	function get_col($query = null , $x = 0) {get_col232,7222
	function get_results($query = null, $output = OBJECT) {get_results246,7614
				$i = 0;i257,7980
	function get_col_info($info_type = 'name', $col_offset = -1) {get_col_info277,8428
				$i = 0;i280,8549
	function timer_start() {timer_start292,8763
		$mtime = microtime();mtime293,8789
		$mtime = explode(' ', $mtime);mtime294,8813
	function timer_stop($precision = 3) {timer_stop299,8911
		$mtime = microtime();mtime300,8950
		$mtime = explode(' ', $mtime);mtime301,8974
		$time_end = $mtime[1] + $mtime[0];time_end302,9007
		$time_total = $time_end - $this->time_start;time_total303,9044
	function bail($message) { // Just wraps errors in a nice header and footerbail307,9117
$wpdb = new wpdb(DB_USER, DB_PASSWORD, DB_NAME, DB_HOST);wpdb364,10291

weblog/wp-includes/wp-l10n.php,1055
function get_locale() {get_locale8,169
		$locale = WPLANG;locale16,311
		$locale = 'en_US';locale19,354
	$locale = apply_filters('locale', $locale);locale21,376
function __($text, $domain = 'default') {__27,477
function _e($text, $domain = 'default') {_e37,693
function __ngettext($single, $plural, $number, $domain = 'default') {__ngettext47,903
function load_textdomain($domain, $mofile) {load_textdomain60,1162
		$input = new CachedFileReader($mofile);input67,1290
function load_default_textdomain() {load_default_textdomain74,1398
	$locale = get_locale();locale77,1451
	$mofile = ABSPATH . "wp-includes/languages/$locale.mo";mofile78,1476
function load_plugin_textdomain($domain, $path = 'wp-content/plugins') {load_plugin_textdomain83,1576
	$locale = get_locale();locale84,1649
	$mofile = ABSPATH . "$path/$domain-$locale.mo";mofile86,1676
function load_theme_textdomain($domain) {load_theme_textdomain90,1764
	$locale = get_locale();locale91,1806
	$mofile = get_template_directory() . "/$locale.mo";mofile93,1833

weblog/wp-blog-header.php,44
$wp_did_header = true;wp_did_header10,587

weblog/index.php,50
define('WP_USE_THEMES', true);WP_USE_THEMES3,29

weblog/readme.html,0

weblog/wp-atom.php,22
$more = 1;more9,171

weblog/wp-comments-post.php,1241
$comment_post_ID = (int) $_POST['comment_post_ID'];comment_post_ID6,76
$status = $wpdb->get_row("SELECT post_status, comment_status FROM $wpdb->posts WHERE ID = '$comment_post_ID'");status8,129
$comment_author       = trim($_POST['author']);comment_author21,607
$comment_author_email = trim($_POST['email']);comment_author_email22,655
$comment_author_url   = trim($_POST['url']);comment_author_url23,702
$comment_content      = trim($_POST['comment']);comment_content24,747
$user = wp_get_current_user();user27,825
	$comment_author       = $wpdb->escape($user->display_name);comment_author29,875
	$comment_author_email = $wpdb->escape($user->user_email);comment_author_email30,936
	$comment_author_url   = $wpdb->escape($user->user_url);comment_author_url31,995
$comment_type = '';comment_type37,1174
$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_content', 'comment_type', 'user_ID');commentdata49,1572
$comment_id = wp_new_comment( $commentdata );comment_id51,1726
	$comment = get_comment($comment_id);comment54,1793
$location = ( empty( $_POST['redirect_to'] ) ) ? get_permalink( $comment_post_ID ) : $_POST['redirect_to']; location60,2218

weblog/wp-commentsrss2.php,432
$i = 0;i17,408
			$comments = $wpdb->get_results("SELECT comment_ID, comment_author, comment_author_email, comments31,989
			$comments = $wpdb->get_results("SELECT comment_ID, comment_author, comment_author_email, comments39,1642
			$title = get_the_title($comment->comment_post_ID);title55,2507
			$title = apply_filters('the_title', $title);title56,2561
			$title = apply_filters('the_title_rss', $title);title57,2609

weblog/wp-config-sample.php,507
define('DB_NAME', 'wordpress');    // The name of the databaseDB_NAME3,35
define('DB_USER', 'username');     // Your MySQL usernameDB_USER4,99
define('DB_PASSWORD', 'password'); // ...and passwordDB_PASSWORD5,158
define('DB_HOST', 'localhost');    // 99% chance you won't need to change this valueDB_HOST6,213
$table_prefix  = 'wp_';   // Only numbers, letters, and underscores please!table_prefix9,390
define ('WPLANG', '');WPLANG15,723
define('ABSPATH', dirname(__FILE__).'/');ABSPATH19,800

weblog/wp-config.php,495
define('DB_NAME', 'wp_scicom');    // The name of the databaseDB_NAME3,35
define('DB_USER', 'root');     // Your MySQL usernameDB_USER4,99
define('DB_PASSWORD', ''); // ...and passwordDB_PASSWORD5,154
define('DB_HOST', 'localhost');    // 99% chance you won't need to change this valueDB_HOST6,201
$table_prefix  = 'wp_';   // Only numbers, letters, and underscores please!table_prefix9,378
define ('WPLANG', '');WPLANG15,711
define('ABSPATH', dirname(__FILE__).'/');ABSPATH19,788

weblog/wp-feed.php,120
    $doing_rss = 1;doing_rss4,32
$feed = preg_replace('/^_+/', '', $feed);feed9,142
    $feed = 'rss2';feed12,223

weblog/wp-links-opml.php,755
$doing_rss = 1;doing_rss2,7
$link_cat = $_GET['link_cat'];link_cat6,136
    $sql_cat = '';sql_cat8,239
    $link_cat = ''.urldecode($link_cat).'';link_cat10,278
    $link_cat = addslashes_gpc($link_cat);link_cat11,322
    $link_cat = intval($link_cat);link_cat12,365
        $sql_cat = "AND $wpdb->links.link_category = $link_cat";sql_cat14,426
        $cat_name = $wpdb->get_var("SELECT $wpdb->linkcategories.cat_name FROM $wpdb->linkcategories WHERE $wpdb->linkcategories.cat_id = $link_cat");cat_name15,491
            $cat_name = ": category $cat_name";cat_name17,675
 $prev_cat_id = 0;prev_cat_id36,1459
 $results = $wpdb->get_results($sql);results37,1478
             $prev_cat_id = $result->link_category;prev_cat_id49,1867

weblog/wp-login.php,2424
$action = $_REQUEST['action'];action4,56
$error = '';error5,87
	$schema = ( isset($_SERVER['HTTPS']) && strtolower($_SERVER['HTTPS']) == 'on' ) ? 'https://' : 'http://';schema15,440
	$redirect_to = 'wp-login.php';redirect_to28,843
		$redirect_to = $_REQUEST['redirect_to'];redirect_to30,915
	function focusit() {focusit47,1557
	$user_data = get_userdatabylogin($_POST['user_login']);user_data92,3034
	$user_login = $user_data->user_login;user_login94,3163
	$user_email = $user_data->user_email;user_email95,3202
	$key = substr( md5( uniqid( microtime() ) ), 0, 50);key104,3703
	$message = __('Someone has asked to reset the password for the following site and username.') . "\r\n\r\n";message107,3908
	$m = wp_mail($user_email, sprintf(__('[%s] Password Reset'), get_settings('blogname')), $message);m113,4364
	$key = preg_replace('/a-z0-9/i', '', $_GET['key']);key130,5043
	$user = $wpdb->get_row("SELECT * FROM $wpdb->users WHERE user_activation_key = '$key'");user133,5177
	$new_pass = substr( md5( uniqid( microtime() ) ), 0, 7);new_pass139,5375
	$message  = sprintf(__('Username: %s'), $user->user_login) . "\r\n";message143,5660
	$m = wp_mail($user->user_email, sprintf(__('[%s] Your new password'), get_settings('blogname')), $message);m147,5853
		$message = sprintf(__('Password Lost and Changed for user: %s'), $user->user_login) . "\r\n";message157,6451
	$user_login = '';user_login166,6711
	$user_pass = '';user_pass167,6730
	$using_cookie = false;using_cookie168,6748
		$redirect_to = 'wp-admin/';redirect_to170,6815
		$redirect_to = $_REQUEST['redirect_to'];redirect_to172,6851
		$user_login = $_POST['log'];user_login175,6911
		$user_login = sanitize_user( $user_login );user_login176,6942
		$user_pass  = $_POST['pwd'];user_pass177,6988
		$rememberme = $_POST['rememberme'];rememberme178,7019
		$cookie_login = wp_get_cookie_login();cookie_login180,7067
			$using_cookie = true;using_cookie182,7142
			$user_login = $cookie_login['login'];user_login183,7167
			$user_pass = $cookie_login['password'];user_pass184,7208
		$user = new WP_User(0, $user_login);user191,7361
			$redirect_to = get_settings('siteurl') . '/wp-admin/profile.php';redirect_to195,7564
				$error = __('Your session has expired.');error205,7907
		$error = __('<strong>Error</strong>: The password field is empty.');error208,8000
	function focusit() {focusit218,8556

weblog/wp-mail.php,3684
$time_difference = get_settings('gmt_offset') * 3600;time_difference8,126
$phone_delim = '::';phone_delim10,181
$pop3 = new POP3();pop312,203
$count = $pop3->login(get_settings('mailserver_login'), get_settings('mailserver_pass'));count19,364
	$message = $pop3->get($i);message25,564
	$content = '';content27,593
	$content_type = '';content_type28,609
	$boundary = '';boundary29,630
	$bodysignal = 0;bodysignal30,647
	$dmonths = array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',dmonths31,665
				$content_type = trim($line);content_type40,951
				$content_type = substr($content_type, 14, strlen($content_type)-14);content_type41,984
				$content_type = explode(';', $content_type);content_type42,1057
				$content_type = $content_type[0];content_type43,1106
				$boundary = trim($line);boundary46,1262
				$boundary = explode('"', $boundary);boundary47,1291
				$boundary = $boundary[1];boundary48,1332
				$subject = trim($line);subject51,1411
				$subject = substr($subject, 9, strlen($subject)-9);subject52,1439
				$subject = wp_iso_descrambler($subject);subject53,1495
				$subject = explode($phone_delim, $subject);subject55,1615
				$subject = $subject[0];subject56,1663
				$author=trim($line);author62,1885
				$author = $regs[1];author64,1988
				$author = $wpdb->escape($author);author66,2047
				$result = $wpdb->get_row("SELECT ID FROM $wpdb->users WHERE user_email='$author' LIMIT 1");result67,2085
					$post_author = 1;post_author69,2199
					$post_author = $result->ID;post_author71,2231
				$post_author = 1;post_author73,2274
				$ddate = trim($line);ddate77,2381
				$ddate = str_replace('Date: ', '', $ddate);ddate78,2407
					$ddate = trim(substr($ddate, strpos($ddate, ',')+1, strlen($ddate)));ddate80,2486
				$date_arr = explode(' ', $ddate);date_arr82,2567
				$date_time = explode(':', $date_arr[3]);date_time83,2605
				$ddate_H = $date_time[0];ddate_H85,2655
				$ddate_i = $date_time[1];ddate_i86,2685
				$ddate_s = $date_time[2];ddate_s87,2715
				$ddate_m = $date_arr[1];ddate_m89,2750
				$ddate_d = $date_arr[0];ddate_d90,2779
				$ddate_Y = $date_arr[2];ddate_Y91,2808
						$ddate_m = $j+1;ddate_m94,2904
				$time_zn = intval($date_arr[4]) * 36;time_zn98,2941
				$ddate_U = gmmktime($ddate_H, $ddate_i, $ddate_s, $ddate_m, $ddate_d, $ddate_Y);ddate_U99,2983
				$ddate_U = $ddate_U - $time_zn;ddate_U100,3068
				$post_date = gmdate('Y-m-d H:i:s', $ddate_U + $time_difference);post_date101,3104
				$post_date_gmt = gmdate('Y-m-d H:i:s', $ddate_U);post_date_gmt102,3173
	$subject = trim(str_replace(get_settings('subjectprefix'), '', $subject));subject107,3250
		$content = explode('--'.$boundary, $content);content110,3376
		$content = $content[2];content111,3424
		$content = explode('Content-Transfer-Encoding: quoted-printable', $content);content112,3450
		$content = strip_tags($content[1], '<img><p><br><i><b><u><em><strong><strike><font><span><div>');content113,3529
	$content = trim($content);content115,3632
	$content = explode($phone_delim, $content);content117,3725
	$content = trim($content);content123,3982
	$post_content = apply_filters('phone_content', $content);post_content125,4011
	$post_title = xmlrpc_getposttitle($content);post_title127,4071
	$post_category = $post_categories;post_category133,4259
	$post_status = 'publish';post_status136,4367
	$post_data = compact('post_content','post_title','post_date','post_date_gmt','post_author','post_category', 'post_status');post_data138,4395
	$post_data = add_magic_quotes($post_data);post_data139,4520
	$post_ID = wp_insert_post($post_data);post_ID141,4565

weblog/wp-pass.php,0

weblog/wp-rdf.php,22
$more = 1;more9,232

weblog/wp-register.php,603
$action = $_REQUEST['action'];action5,99
	$action = 'disabled';action7,173
	$user_login = sanitize_user( $_POST['user_login'] );user_login15,334
	$user_email = $_POST['user_email'];user_email16,388
	$errors = array();errors18,427
		$user_email = '';user_email28,840
		$user_login = '';user_login33,1022
	$email_exists = $wpdb->get_row("SELECT user_email FROM $wpdb->users WHERE user_email = '$user_email'");email_exists40,1268
		$password = substr( md5( uniqid( microtime() ) ), 0, 7);password45,1529
		$user_id = wp_create_user( $user_login, $password, $user_email );user_id47,1589

weblog/wp-rss.php,22
$more = 1;more9,158

weblog/wp-rss2.php,22
$more = 1;more9,159

weblog/wp-settings.php,2675
function unregister_GLOBALS() {unregister_GLOBALS3,35
	$noUnset = array('GLOBALS', '_GET', '_POST', '_COOKIE', '_REQUEST', '_SERVER', '_ENV', '_FILES', 'table_prefix');noUnset11,235
	$input = array_merge($_GET, $_POST, $_COOKIE, $_SERVER, $_ENV, $_FILES, isset($_SESSION) && is_array($_SESSION) ? $_SESSION : array());input13,352
	$blog_id = 1;blog_id24,795
$PHP_SELF = $_SERVER['PHP_SELF'];PHP_SELF45,1636
function timer_start() {timer_start55,2055
	$mtime = explode(' ', microtime() );mtime57,2100
	$mtime = $mtime[1] + $mtime[0];mtime58,2138
	$timestart = $mtime;timestart59,2171
define('WPINC', 'wp-includes');WPINC71,2469
$tableposts = $wpdb->posts;tableposts95,3404
$tableusers = $wpdb->users;tableusers96,3432
$tablecategories = $wpdb->categories;tablecategories97,3460
$tablepost2cat = $wpdb->post2cat;tablepost2cat98,3498
$tablecomments = $wpdb->comments;tablecomments99,3532
$tablelinks = $wpdb->links;tablelinks100,3566
$tablelinkcategories = $wpdb->linkcategories;tablelinkcategories101,3594
$tableoptions = $wpdb->options;tableoptions102,3640
$tablepostmeta = $wpdb->postmeta;tablepostmeta103,3672
$db_check = $wpdb->get_var("SELECT option_value FROM $wpdb->options WHERE option_name = 'siteurl'");db_check120,4195
		$link = 'install.php';link123,4444
		$link = 'wp-admin/install.php';link125,4475
    $cookiehash = md5(get_settings('siteurl')); // Remove in 1.4cookiehash147,5492
	define('COOKIEHASH', $cookiehash); COOKIEHASH148,5557
	define('USER_COOKIE', 'wordpressuser_'. COOKIEHASH);USER_COOKIE152,5633
	define('PASS_COOKIE', 'wordpresspass_'. COOKIEHASH);PASS_COOKIE154,5718
	define('COOKIEPATH', preg_replace('|https?://[^/]+|i', '', get_settings('home') . '/' ) );COOKIEPATH156,5802
	define('SITECOOKIEPATH', preg_replace('|https?://[^/]+|i', '', get_settings('siteurl') . '/' ) );SITECOOKIEPATH158,5928
	define('COOKIE_DOMAIN', false);COOKIE_DOMAIN160,6060
	$current_plugins = get_settings('active_plugins');current_plugins171,6344
	$_GET    = stripslashes_deep($_GET   );_GET189,6865
	$_POST   = stripslashes_deep($_POST  );_POST190,6906
	$_COOKIE = stripslashes_deep($_COOKIE);_COOKIE191,6947
$_GET    = add_magic_quotes($_GET   );_GET195,7012
$_POST   = add_magic_quotes($_POST  );_POST196,7051
$_COOKIE = add_magic_quotes($_COOKIE);_COOKIE197,7090
$_SERVER = add_magic_quotes($_SERVER);_SERVER198,7129
$wp_query   = new WP_Query();wp_query202,7209
$wp_rewrite = new WP_Rewrite();wp_rewrite203,7239
$wp         = new WP();wp204,7271
define('TEMPLATEPATH', get_template_directory());TEMPLATEPATH206,7296
function shutdown_action_hook() {shutdown_action_hook218,7651

weblog/wp-trackback.php,2260
function trackback_response($error = 0, $error_message = '') {trackback_response8,73
$request_array = 'HTTP_POST_VARS';request_array26,584
	$tb_id = explode('/', $_SERVER['REQUEST_URI']);tb_id29,645
	$tb_id = intval( $tb_id[ count($tb_id) - 1 ] );tb_id30,694
$tb_url    = $_POST['url'];tb_url33,746
$title     = $_POST['title'];title34,774
$excerpt   = $_POST['excerpt'];excerpt35,804
$blog_name = $_POST['blog_name'];blog_name36,836
$charset   = $_POST['charset'];charset37,870
	$charset = strtoupper( trim($charset) );charset40,917
	$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';charset42,964
	$title     = mb_convert_encoding($title, get_settings('blog_charset'), $charset);title45,1104
	$excerpt   = mb_convert_encoding($excerpt, get_settings('blog_charset'), $charset);excerpt46,1187
	$blog_name = mb_convert_encoding($blog_name, get_settings('blog_charset'), $charset);blog_name47,1272
    $tb_id = $posts[0]->ID;tb_id51,1395
	$pingstatus = $wpdb->get_var("SELECT ping_status FROM $wpdb->posts WHERE ID = $tb_id");pingstatus65,1810
	$title =  wp_specialchars( strip_tags( $title ) );title70,2003
	$excerpt = strip_tags($excerpt);excerpt71,2055
		$excerpt = mb_strcut($excerpt, 0, 252, get_settings('blog_charset')) . '...';excerpt73,2160
		$title = mb_strcut($title, 0, 250, get_settings('blog_charset')) . '...';title74,2240
		$excerpt = (strlen($excerpt) > 255) ? substr($excerpt, 0, 252) . '...' : $excerpt;excerpt76,2326
		$title = (strlen($title) > 250) ? substr($title, 0, 250) . '...' : $title;title77,2411
	$comment_post_ID = $tb_id;comment_post_ID80,2492
	$comment_author = $blog_name;comment_author81,2520
	$comment_author_email = '';comment_author_email82,2551
	$comment_author_url = $tb_url;comment_author_url83,2580
	$comment_content = "<strong>$title</strong>\n\n$excerpt";comment_content84,2612
	$comment_type = 'trackback';comment_type85,2671
	$dupe = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_post_ID = '$comment_post_ID' AND comment_author_url = '$comment_author_url'");dupe87,2702
	$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_content', 'comment_type');commentdata91,2949

weblog/wp_scicom.sql,0

weblog/xmlrpc.php,19652
define('XMLRPC_REQUEST', true);XMLRPC_REQUEST3,7
$_COOKIE = array();_COOKIE6,107
	$HTTP_RAW_POST_DATA = trim($HTTP_RAW_POST_DATA);HTTP_RAW_POST_DATA10,239
$post_default_title = ""; // posts submitted via the xmlrpc interface get that titlepost_default_title40,1294
$xmlrpc_logging = 0;xmlrpc_logging42,1380
function logIO($io,$msg) {logIO44,1402
		$fp = fopen("../xmlrpc.log","a+");fp47,1478
		$date = gmdate("Y-m-d H:i:s ");date48,1515
		$iot = ($io == "I") ? " Input: " : " Output: ";iot49,1549
function starify($string) {starify56,1674
	$i = strlen($string);i57,1702
function mkdir_p($target) {mkdir_p64,1792
class wp_xmlrpc_server extends IXR_Server {wp_xmlrpc_server88,2253
	function wp_xmlrpc_server() {wp_xmlrpc_server90,2298
	function sayHello($args) {sayHello139,4436
	function addTwoNumbers($args) {addTwoNumbers143,4487
		$number1 = $args[0];number1144,4520
		$number2 = $args[1];number2145,4543
	function login_pass_ok($user_login, $user_pass) {login_pass_ok149,4600
	function escape(&$array) {escape157,4815
	function blogger_getUsersBlogs($args) {blogger_getUsersBlogs177,5252
	  $user_login = $args[1];user_login181,5319
	  $user_pass  = $args[2];user_pass182,5346
	  $is_admin = current_user_can('level_8');is_admin189,5500
	  $struct = array(struct191,5545
	function blogger_getUserInfo($args) {blogger_getUserInfo203,5836
	  $user_login = $args[1];user_login207,5901
	  $user_pass  = $args[2];user_pass208,5928
	  $user_data = get_userdatabylogin($user_login);user_data214,6045
	  $struct = array(struct216,6096
	function blogger_getPost($args) {blogger_getPost230,6435
	  $post_ID    = $args[1];post_ID234,6496
	  $user_login = $args[2];user_login235,6523
	  $user_pass  = $args[3];user_pass236,6550
	  $user_data = get_userdatabylogin($user_login);user_data242,6667
	  $post_data = wp_get_single_post($post_ID, ARRAY_A);post_data243,6717
	  $categories = implode(',', wp_get_post_cats(1, $post_ID));categories245,6773
	  $content  = '<title>'.stripslashes($post_data['post_title']).'</title>';content247,6836
	  $struct = array(struct251,7025
	function blogger_getRecentPosts($args) {blogger_getRecentPosts263,7328
	  $blog_ID    = $args[1]; /* though we don't use it yet */blog_ID269,7414
	  $user_login = $args[2];user_login270,7474
	  $user_pass  = $args[3];user_pass271,7501
	  $num_posts  = $args[4];num_posts272,7528
	  $posts_list = wp_get_recent_posts($num_posts);posts_list278,7645
	    $post_date = mysql2date('Ymd\TH:i:s', $entry['post_date']);post_date287,7887
	    $categories = implode(',', wp_get_post_cats(1, $entry['ID']));categories288,7952
	    $content  = '<title>'.stripslashes($entry['post_title']).'</title>';content290,8021
	  $recent_posts = array();recent_posts303,8402
	function blogger_getTemplate($args) {blogger_getTemplate313,8606
	  $blog_ID    = $args[1];blog_ID317,8671
	  $user_login = $args[2];user_login318,8698
	  $user_pass  = $args[3];user_pass319,8725
	  $template   = $args[4]; /* could be 'main' or 'archiveIndex', but we don't use it */template320,8752
	  $filename = get_settings('home') . '/';filename332,9187
	  $filename = preg_replace('#https?://.+?/#', $_SERVER['DOCUMENT_ROOT'].'/', $filename);filename333,9230
	  $f = fopen($filename, 'r');f335,9321
	  $content = fread($f, filesize($filename));content336,9352
	function blogger_setTemplate($args) {blogger_setTemplate347,9761
	  $blog_ID    = $args[1];blog_ID351,9826
	  $user_login = $args[2];user_login352,9853
	  $user_pass  = $args[3];user_pass353,9880
	  $content    = $args[4];content354,9907
	  $template   = $args[5]; /* could be 'main' or 'archiveIndex', but we don't use it */template355,9934
	  $filename = get_settings('home') . '/';filename367,10369
	  $filename = preg_replace('#https?://.+?/#', $_SERVER['DOCUMENT_ROOT'].'/', $filename);filename368,10412
	function blogger_newPost($args) {blogger_newPost382,10797
	  $blog_ID    = $args[1]; /* though we don't use it yet */blog_ID388,10876
	  $user_login = $args[2];user_login389,10936
	  $user_pass  = $args[3];user_pass390,10963
	  $content    = $args[4];content391,10990
	  $publish    = $args[5];publish392,11017
	  $cap = ($publish) ? 'publish_posts' : 'edit_posts';cap398,11137
	  $user = set_current_user(0, $user_login);user399,11192
	  $post_status = ($publish) ? 'publish' : 'draft';post_status403,11359
	  $post_author = $user->ID;post_author405,11412
	  $post_title = xmlrpc_getposttitle($content);post_title407,11442
	  $post_category = xmlrpc_getpostcategory($content);post_category408,11490
	  $post_content = xmlrpc_removepostdata($content);post_content409,11544
	  $post_date = current_time('mysql');post_date411,11597
	  $post_date_gmt = current_time('mysql', 1);post_date_gmt412,11636
	  $post_data = compact('blog_ID', 'post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_category', 'post_status');post_data414,11683
	  $post_ID = wp_insert_post($post_data);post_ID416,11827
	function blogger_editPost($args) {blogger_editPost429,12102
	  $post_ID     = $args[1];post_ID435,12182
	  $user_login  = $args[2];user_login436,12210
	  $user_pass   = $args[3];user_pass437,12238
	  $content     = $args[4];content438,12266
	  $publish     = $args[5];publish439,12294
	  $actual_post = wp_get_single_post($post_ID,ARRAY_A);actual_post445,12412
	  $post_title = xmlrpc_getposttitle($content);post_title459,12789
	  $post_category = xmlrpc_getpostcategory($content);post_category460,12837
	  $post_content = xmlrpc_removepostdata($content);post_content461,12891
	  $postdata = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt');postdata463,12944
	  $result = wp_update_post($postdata);result465,13053
	function blogger_deletePost($args) {blogger_deletePost476,13292
	  $post_ID     = $args[1];post_ID482,13374
	  $user_login  = $args[2];user_login483,13402
	  $user_pass   = $args[3];user_pass484,13430
	  $publish     = $args[4];publish485,13458
	  $actual_post = wp_get_single_post($post_ID,ARRAY_A);actual_post491,13576
	  $result = wp_delete_post($post_ID);result501,13896
	function mw_newPost($args) {mw_newPost517,14218
	  $blog_ID     = $args[0]; // we will support this in the near futureblog_ID523,14316
	  $user_login  = $args[1];user_login524,14387
	  $user_pass   = $args[2];user_pass525,14415
	  $content_struct = $args[3];content_struct526,14443
	  $publish     = $args[4];publish527,14474
	  $user = set_current_user(0, $user_login);user533,14592
	  $post_author = $user->ID;post_author537,14770
	  $post_title = $content_struct['title'];post_title539,14800
	  $post_content = apply_filters( 'content_save_pre', $content_struct['description'] );post_content540,14843
	  $post_status = $publish ? 'publish' : 'draft';post_status541,14931
	  $post_excerpt = $content_struct['mt_excerpt'];post_excerpt543,14982
	  $post_more = $content_struct['mt_text_more'];post_more544,15032
	  $comment_status = (empty($content_struct['mt_allow_comments'])) ?comment_status546,15082
	  $ping_status = (empty($content_struct['mt_allow_pings'])) ?ping_status550,15241
	    $post_content = $post_content . "\n<!--more-->\n" . $post_more;post_content555,15409
		$to_ping = $content_struct['mt_tb_ping_urls'];to_ping558,15484
	  $dateCreatedd = $content_struct['dateCreated'];dateCreatedd561,15565
	    $dateCreated = $dateCreatedd->getIso();dateCreated563,15648
	    $post_date     = get_date_from_gmt(iso8601_to_datetime($dateCreated));post_date564,15693
	    $post_date_gmt = iso8601_to_datetime($dateCreated, GMT);post_date_gmt565,15769
	    $post_date     = current_time('mysql');post_date567,15843
	    $post_date_gmt = current_time('mysql', 1);post_date_gmt568,15888
	  $catnames = $content_struct['categories'];catnames571,15942
	  $post_category = array();post_category573,16043
	  $postdata = compact('post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'comment_status', 'ping_status', 'to_ping');postdata582,16238
	  $post_ID = wp_insert_post($postdata);post_ID584,16430
	function mw_editPost($args) {mw_editPost597,16715
	  $post_ID     = $args[0];post_ID603,16814
	  $user_login  = $args[1];user_login604,16842
	  $user_pass   = $args[2];user_pass605,16870
	  $content_struct = $args[3];content_struct606,16898
	  $publish     = $args[4];publish607,16929
	  $postdata = wp_get_single_post($post_ID, ARRAY_A);postdata617,17206
	  $post_title = $content_struct['title'];post_title621,17312
	  $post_content = apply_filters( 'content_save_pre', $content_struct['description'] );post_content622,17355
	  $catnames = $content_struct['categories'];catnames623,17443
	  $post_category = array();post_category625,17490
	  $post_excerpt = $content_struct['mt_excerpt'];post_excerpt633,17644
	  $post_more = $content_struct['mt_text_more'];post_more634,17694
	  $post_status = $publish ? 'publish' : 'draft';post_status635,17743
	    $post_content = $post_content . "\n<!--more-->\n" . $post_more;post_content638,17815
		$to_ping = $content_struct['mt_tb_ping_urls'];to_ping641,17890
	  $comment_status = (empty($content_struct['mt_allow_comments'])) ?comment_status643,17940
	  $ping_status = (empty($content_struct['mt_allow_pings'])) ?ping_status647,18099
	  $dateCreatedd = $content_struct['dateCreated'];dateCreatedd652,18277
	    $dateCreated = $dateCreatedd->getIso();dateCreated654,18360
	    $post_date     = get_date_from_gmt(iso8601_to_datetime($dateCreated));post_date655,18405
	    $post_date_gmt = iso8601_to_datetime($dateCreated, GMT);post_date_gmt656,18481
	    $post_date     = $postdata['post_date'];post_date658,18555
	    $post_date_gmt = $postdata['post_date_gmt'];post_date_gmt659,18601
	  $newpost = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'comment_status', 'ping_status', 'post_date', 'post_date_gmt', 'to_ping');newpost663,18698
	  $result = wp_update_post($newpost);result665,18880
	function mw_getPost($args) {mw_getPost677,19154
	  $post_ID     = $args[0];post_ID683,19228
	  $user_login  = $args[1];user_login684,19256
	  $user_pass   = $args[2];user_pass685,19284
	  $postdata = wp_get_single_post($post_ID, ARRAY_A);postdata691,19402
	    $post_date = mysql2date('Ymd\TH:i:s', $postdata['post_date']);post_date695,19497
	    $categories = array();categories697,19566
	    $catids = wp_get_post_cats('', $post_ID);catids698,19594
	    $post = get_extended($postdata['post_content']);post703,19728
	    $link = post_permalink($postdata['ID']);link704,19782
	    $allow_comments = ('open' == $postdata['comment_status']) ? 1 : 0;allow_comments706,19829
	    $allow_pings = ('open' == $postdata['ping_status']) ? 1 : 0;allow_pings707,19901
	    $resp = array(resp709,19968
	function mw_getRecentPosts($args) {mw_getRecentPosts734,20736
	  $blog_ID     = $args[0];blog_ID738,20799
	  $user_login  = $args[1];user_login739,20827
	  $user_pass   = $args[2];user_pass740,20855
	  $num_posts   = $args[3];num_posts741,20883
	  $posts_list = wp_get_recent_posts($num_posts);posts_list747,21001
	    $post_date = mysql2date('Ymd\TH:i:s', $entry['post_date']);post_date756,21243
	    $categories = array();categories757,21308
	    $catids = wp_get_post_cats('', $entry['ID']);catids758,21336
	    $post = get_extended($entry['post_content']);post763,21474
	    $link = post_permalink($entry['ID']);link764,21525
	    $allow_comments = ('open' == $entry['comment_status']) ? 1 : 0;allow_comments766,21569
	    $allow_pings = ('open' == $entry['ping_status']) ? 1 : 0;allow_pings767,21638
	  $recent_posts = array();recent_posts788,22315
	function mw_getCategories($args) {mw_getCategories798,22552
	  $blog_ID     = $args[0];blog_ID804,22632
	  $user_login  = $args[1];user_login805,22660
	  $user_pass   = $args[2];user_pass806,22688
	  $categories_struct = array();categories_struct812,22806
	function mw_newMediaObject($args) {mw_newMediaObject832,23513
		$blog_ID     = $wpdb->escape($args[0]);blog_ID838,23688
		$user_login  = $wpdb->escape($args[1]);user_login839,23730
		$user_pass   = $wpdb->escape($args[2]);user_pass840,23772
		$data        = $args[3];data841,23814
		$name = $data['name'];name843,23842
		$type = $data['type'];type844,23867
		$bits = $data['bits'];bits845,23892
		$upload = wp_upload_bits($name, $type, $bits);upload859,24322
	function mt_getRecentPostTitles($args) {mt_getRecentPostTitles874,24743
	  $blog_ID     = $args[0];blog_ID878,24811
	  $user_login  = $args[1];user_login879,24839
	  $user_pass   = $args[2];user_pass880,24867
	  $num_posts   = $args[3];num_posts881,24895
	  $posts_list = wp_get_recent_posts($num_posts);posts_list887,25013
	    $post_date = mysql2date('Ymd\TH:i:s', $entry['post_date']);post_date896,25255
	  $recent_posts = array();recent_posts907,25525
	function mt_getCategoryList($args) {mt_getCategoryList917,25756
	  $blog_ID     = $args[0];blog_ID923,25838
	  $user_login  = $args[1];user_login924,25866
	  $user_pass   = $args[2];user_pass925,25894
	  $categories_struct = array();categories_struct931,26012
	function mt_getPostCategories($args) {mt_getPostCategories948,26468
	  $post_ID     = $args[0];post_ID952,26534
	  $user_login  = $args[1];user_login953,26562
	  $user_pass   = $args[2];user_pass954,26590
	  $categories = array();categories960,26708
	  $catids = wp_get_post_cats('', intval($post_ID));catids961,26734
	  $isPrimary = true;isPrimary963,26844
	    $isPrimary = false;isPrimary970,27045
	function mt_setPostCategories($args) {mt_setPostCategories978,27161
	  $post_ID     = $args[0];post_ID982,27227
	  $user_login  = $args[1];user_login983,27255
	  $user_pass   = $args[2];user_pass984,27283
	  $categories  = $args[3];categories985,27311
	function mt_supportedMethods($args) {mt_supportedMethods1006,27815
	  $supported_methods = array();supported_methods1008,27855
	function mt_supportedTextFilters($args) {mt_supportedTextFilters1019,28120
	function mt_getTrackbackPings($args) {mt_getTrackbackPings1025,28258
	  $post_ID = intval($args);post_ID1029,28317
	  $actual_post = wp_get_single_post($post_ID, ARRAY_A);actual_post1031,28347
	  $comments = $wpdb->get_results("SELECT comment_author_url, comment_content, comment_author_IP, comment_type FROM $wpdb->comments WHERE comment_post_ID = $post_ID");comments1037,28490
	  $trackback_pings = array();trackback_pings1043,28706
	      $content = $comment->comment_content;content1046,28825
	      $title = substr($content, 8, (strpos($content, '</strong>') - 8));title1047,28870
	function mt_publishPost($args) {mt_publishPost1061,29237
	  $post_ID     = $args[0];post_ID1065,29297
	  $user_login  = $args[1];user_login1066,29325
	  $user_pass   = $args[2];user_pass1067,29353
	  $postdata = wp_get_single_post($post_ID,ARRAY_A);postdata1077,29630
	  $cats = wp_get_post_cats('',$post_ID);cats1082,29748
	  $result = wp_update_post($postdata);result1086,29858
	function pingback_ping($args) {pingback_ping1098,30057
		$pagelinkedfrom = $args[0];pagelinkedfrom1103,30146
		$pagelinkedto   = $args[1];pagelinkedto1104,30176
		$title = '';title1106,30207
		$pagelinkedfrom = str_replace('&amp;', '&', $pagelinkedfrom);pagelinkedfrom1108,30223
		$pagelinkedto   = preg_replace('#&([^amp\;])#is', '&amp;$1', $pagelinkedto);pagelinkedto1109,30287
		$error_code = -1;error_code1111,30367
		$pos1 = strpos($pagelinkedto, str_replace(array('http://www.','http://','https://www.','https://'), '', get_settings('home')));pos11114,30436
		$urltest = parse_url($pagelinkedto);urltest1121,30803
			$way = 'url_to_postid()';way1123,30891
			$blah = explode('/', $match[0]);blah1126,31042
			$post_ID = $blah[1];post_ID1127,31078
			$way = 'from the path';way1128,31102
			$blah = explode('=', $match[0]);blah1131,31251
			$post_ID = $blah[1];post_ID1132,31287
			$way = 'from the querystring';way1133,31311
				$post_ID = $urltest['fragment'];post_ID1138,31513
				$way = 'from the fragment (numeric)';way1139,31550
				$post_ID = preg_replace('/[^0-9]+/', '', $urltest['fragment']);post_ID1142,31700
				$way = 'from the fragment (post-###)';way1143,31768
				$title = preg_replace('/[^a-z0-9]/i', '.', $urltest['fragment']);title1146,31915
				$sql = "SELECT ID FROM $wpdb->posts WHERE post_title RLIKE '$title'";sql1147,31985
				$way = 'from the fragment (title)';way1152,32209
		$post_ID = (int) $post_ID;post_ID1158,32484
		$post = get_post($post_ID);post1163,32584
		$result = $wpdb->get_results("SELECT * FROM $wpdb->comments WHERE comment_post_ID = '$post_ID' AND comment_author_url = '$pagelinkedfrom'");result1176,33262
		$linea = wp_remote_fopen( $pagelinkedfrom );linea1185,33665
		$linea = str_replace('<!DOC', '<DOC', $linea);linea1190,33833
		$linea = preg_replace( '/[\s\r\n\t]+/', ' ', $linea ); // normalize spaceslinea1191,33882
		$linea = preg_replace( "/ <(h1|h2|h3|h4|h5|h6|p|th|td|li|dt|dd|pre|caption|input|textarea|button|body)[^>]*>/", "\n\n", $linea );linea1192,33959
		$title = $matchtitle[1];title1195,34158
		$linea = strip_tags( $linea, '<a>' ); // just keep the tag we needlinea1199,34280
		$p = explode( "\n\n", $linea );p1201,34350
		$sem_regexp_pb = "/(\\/|\\\|\*|\?|\+|\.|\^|\\$|\(|\)|\[|\]|\||\{|\})/";sem_regexp_pb1203,34387
		$sem_regexp_fix = "\\\\$1";sem_regexp_fix1204,34461
		$link = preg_replace( $sem_regexp_pb, $sem_regexp_fix, $pagelinkedfrom );link1205,34491
		$finished = false;finished1207,34570
				$context = preg_replace( "/.*<a[^>]+".$link."[^>]*>([^>]+)<\/a>.*/", "$1", $para );context1212,34696
				$excerpt = strip_tags( $para );excerpt1213,34784
				$excerpt = trim( $excerpt );excerpt1214,34820
				$use     = preg_quote( $context );use1215,34853
				$excerpt = preg_replace("|.*?\s(.{0,100}$use.{0,100})\s|s", "$1", $excerpt);excerpt1216,34892
				$finished = true;finished1217,34973
		$pagelinkedfrom = preg_replace('#&([^amp\;])#is', '&amp;$1', $pagelinkedfrom);pagelinkedfrom1224,35181
		$context = '[...] ' . wp_specialchars( $excerpt ) . ' [...]';context1226,35263
		$original_pagelinkedfrom = $pagelinkedfrom;original_pagelinkedfrom1227,35327
		$pagelinkedfrom = $wpdb->escape( $pagelinkedfrom );pagelinkedfrom1228,35373
		$original_title = $title;original_title1229,35427
		$comment_post_ID = (int) $post_ID;comment_post_ID1231,35456
		$comment_author = $title;comment_author1232,35493
		$comment_author_url = $pagelinkedfrom;comment_author_url1234,35555
		$comment_content = $context;comment_content1235,35596
		$comment_type = 'pingback';comment_type1237,35662
		$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_url', 'comment_content', 'comment_type');commentdata1239,35693
	function pingback_extensions_getPingbacks($args) {pingback_extensions_getPingbacks1251,36170
		$url = $args;url1257,36265
		$post_ID = url_to_postid($url);post_ID1259,36282
		$actual_post = wp_get_single_post($post_ID, ARRAY_A);actual_post1265,36571
		$comments = $wpdb->get_results("SELECT comment_author_url, comment_content, comment_author_IP, comment_type FROM $wpdb->comments WHERE comment_post_ID = $post_ID");comments1272,36771
		$pingbacks = array();pingbacks1278,36983
$wp_xmlrpc_server = new wp_xmlrpc_server();wp_xmlrpc_server1289,37171

/*
 * Ext JS Library 1.0 Beta 2
 * Copyright(c) 2006-2007, Ext JS, LLC.
 * licensing@extjs.com
 * 
 * http://www.extjs.com/license
 */

Ext.form.BasicForm=function(el,_2){Ext.apply(this,_2);this.items=new Ext.util.MixedCollection(false,function(o){return o.id||(o.id=Ext.id());});this.addEvents({beforeaction:true,actionfailed:true,actioncomplete:true});if(el){this.initEl(el);}};Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,activeAction:null,initEl:function(el){this.el=Ext.get(el);this.id=this.el.id||Ext.id();this.el.on("submit",this.onSubmit,this);this.el.addClass("x-form");},onSubmit:function(e){e.stopEvent();},isValid:function(){var _6=true;this.items.each(function(f){if(!f.validate()){_6=false;}});return _6;},doAction:function(_8,_9){if(typeof _8=="string"){_8=new Ext.form.Action.ACTION_TYPES[_8](this,_9);}if(this.fireEvent("beforeaction",this,_8)!==false){this.beforeAction(_8);_8.run.defer(100,_8);}},submit:function(_a){this.doAction("submit",_a);},load:function(_b){this.doAction("load",_b);},beforeAction:function(_c){var o=_c.options;if(o.waitMsg){Ext.MessageBox.wait(o.waitMsg,o.waitTitle||this.waitTitle||"Please Wait...");}},afterAction:function(_e,_f){this.activeAction=null;var o=_e.options;if(o.waitMsg){Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide();}if(_f){if(o.reset){this.reset();}Ext.callback(o.success,o.scope,[this,_e]);this.fireEvent("actioncomplete",this,_e);}else{Ext.callback(o.failure,o.scope,[this,_e]);this.fireEvent("actionfailed",this,_e);}},findField:function(id){var _12=this.items.get(id);if(!_12){this.items.each(function(f){if(f.isFormField&&(f.dataIndex==id||f.id==id||f.getName()==id)){_12=f;return false;}});}return _12||null;},markInvalid:function(_14){if(_14 instanceof Array){for(var i=0,len=_14.length;i<len;i++){var _17=_14[i];var f=this.findField(_17.id);if(f){f.markInvalid(_17.msg);}}}else{var _19,id;for(id in _14){if(typeof _14[id]!="function"&&(_19=this.findField(id))){_19.markInvalid(_14[id]);}}}},setValues:function(_1b){if(_1b instanceof Array){for(var i=0,len=_1b.length;i<len;i++){var v=_1b[i];var f=this.findField(v.id);if(f){f.setValue(v.value);}}}else{var _20,id;for(id in _1b){if(typeof _1b[id]!="function"&&(_20=this.findField(id))){_20.setValue(_1b[id]);}}}},getValues:function(){var fs=Ext.lib.Ajax.serializeForm(this.el.dom);return Ext.urlDecode(fs);},clearInvalid:function(){this.items.each(function(f){f.clearInvalid();});},reset:function(){this.items.each(function(f){f.reset();});},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));},remove:function(_25){this.items.remove(_25);},render:function(){this.items.each(function(f){if(f.isFormField&&!f.rendered&&document.getElementById(f.id)){f.applyTo(f.id);}});},applyToFields:function(o){this.items.each(function(f){Ext.apply(f,o);});},applyIfToFields:function(o){this.items.each(function(f){Ext.applyIf(f,o);});}});Ext.BasicForm=Ext.form.BasicForm;
